{"/home/travis/build/npmtest/node-npmtest-bpmn/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_bpmn */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/lib.npmtest_bpmn.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/lib.npmtest_bpmn.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":49}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":55}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_bpmn */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_bpmn = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_bpmn = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":48}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":62},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-bpmn && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_bpmn */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_bpmn","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_bpmn.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_bpmn.rollup.js'] =","            local.assetsDict['/assets.npmtest_bpmn.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_bpmn.__dirname + '/lib.npmtest_bpmn.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/public.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/public.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":20,"loc":{"start":{"line":20,"column":21},"end":{"line":20,"column":32}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":33},"end":{"line":33,"column":66}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":70},"end":{"line":49,"column":96}}},"4":{"name":"(anonymous_4)","line":67,"loc":{"start":{"line":67,"column":40},"end":{"line":67,"column":77}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":70},"end":{"line":82,"column":96}}},"6":{"name":"(anonymous_6)","line":94,"loc":{"start":{"line":94,"column":48},"end":{"line":94,"column":81}}},"7":{"name":"(anonymous_7)","line":99,"loc":{"start":{"line":99,"column":41},"end":{"line":99,"column":75}}},"8":{"name":"(anonymous_8)","line":100,"loc":{"start":{"line":100,"column":74},"end":{"line":100,"column":100}}},"9":{"name":"(anonymous_9)","line":107,"loc":{"start":{"line":107,"column":7},"end":{"line":107,"column":20}}},"10":{"name":"(anonymous_10)","line":110,"loc":{"start":{"line":110,"column":39},"end":{"line":110,"column":53}}},"11":{"name":"(anonymous_11)","line":115,"loc":{"start":{"line":115,"column":33},"end":{"line":115,"column":56}}},"12":{"name":"(anonymous_12)","line":134,"loc":{"start":{"line":134,"column":55},"end":{"line":134,"column":92}}},"13":{"name":"(anonymous_13)","line":142,"loc":{"start":{"line":142,"column":41},"end":{"line":142,"column":75}}},"14":{"name":"(anonymous_14)","line":143,"loc":{"start":{"line":143,"column":74},"end":{"line":143,"column":100}}},"15":{"name":"(anonymous_15)","line":150,"loc":{"start":{"line":150,"column":7},"end":{"line":150,"column":20}}},"16":{"name":"(anonymous_16)","line":153,"loc":{"start":{"line":153,"column":39},"end":{"line":153,"column":53}}},"17":{"name":"(anonymous_17)","line":158,"loc":{"start":{"line":158,"column":33},"end":{"line":158,"column":56}}},"18":{"name":"(anonymous_18)","line":174,"loc":{"start":{"line":174,"column":30},"end":{"line":174,"column":49}}},"19":{"name":"(anonymous_19)","line":185,"loc":{"start":{"line":185,"column":29},"end":{"line":185,"column":59}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":39}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":44}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":57}},"7":{"start":{"line":16,"column":0},"end":{"line":16,"column":48}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"9":{"start":{"line":20,"column":0},"end":{"line":22,"column":2}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":29}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":37}},"12":{"start":{"line":33,"column":0},"end":{"line":57,"column":2}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":33}},"14":{"start":{"line":35,"column":4},"end":{"line":35,"column":81}},"15":{"start":{"line":36,"column":4},"end":{"line":36,"column":60}},"16":{"start":{"line":38,"column":4},"end":{"line":47,"column":5}},"17":{"start":{"line":39,"column":8},"end":{"line":39,"column":50}},"18":{"start":{"line":41,"column":8},"end":{"line":41,"column":172}},"19":{"start":{"line":42,"column":8},"end":{"line":46,"column":9}},"20":{"start":{"line":43,"column":12},"end":{"line":43,"column":24}},"21":{"start":{"line":45,"column":12},"end":{"line":45,"column":28}},"22":{"start":{"line":49,"column":4},"end":{"line":55,"column":7}},"23":{"start":{"line":50,"column":8},"end":{"line":52,"column":9}},"24":{"start":{"line":51,"column":12},"end":{"line":51,"column":19}},"25":{"start":{"line":54,"column":8},"end":{"line":54,"column":49}},"26":{"start":{"line":67,"column":0},"end":{"line":86,"column":2}},"27":{"start":{"line":68,"column":4},"end":{"line":68,"column":33}},"28":{"start":{"line":69,"column":4},"end":{"line":69,"column":90}},"29":{"start":{"line":71,"column":4},"end":{"line":76,"column":5}},"30":{"start":{"line":72,"column":8},"end":{"line":72,"column":50}},"31":{"start":{"line":74,"column":8},"end":{"line":74,"column":147}},"32":{"start":{"line":75,"column":8},"end":{"line":75,"column":31}},"33":{"start":{"line":78,"column":4},"end":{"line":80,"column":5}},"34":{"start":{"line":79,"column":8},"end":{"line":79,"column":57}},"35":{"start":{"line":82,"column":4},"end":{"line":84,"column":7}},"36":{"start":{"line":83,"column":8},"end":{"line":83,"column":49}},"37":{"start":{"line":94,"column":0},"end":{"line":124,"column":2}},"38":{"start":{"line":95,"column":4},"end":{"line":95,"column":23}},"39":{"start":{"line":96,"column":4},"end":{"line":96,"column":81}},"40":{"start":{"line":97,"column":4},"end":{"line":97,"column":60}},"41":{"start":{"line":99,"column":4},"end":{"line":123,"column":7}},"42":{"start":{"line":100,"column":8},"end":{"line":106,"column":11}},"43":{"start":{"line":101,"column":12},"end":{"line":103,"column":13}},"44":{"start":{"line":102,"column":16},"end":{"line":102,"column":26}},"45":{"start":{"line":104,"column":12},"end":{"line":104,"column":60}},"46":{"start":{"line":105,"column":12},"end":{"line":105,"column":19}},"47":{"start":{"line":108,"column":8},"end":{"line":108,"column":25}},"48":{"start":{"line":110,"column":8},"end":{"line":120,"column":11}},"49":{"start":{"line":111,"column":12},"end":{"line":111,"column":46}},"50":{"start":{"line":113,"column":12},"end":{"line":113,"column":97}},"51":{"start":{"line":115,"column":12},"end":{"line":117,"column":15}},"52":{"start":{"line":116,"column":16},"end":{"line":116,"column":90}},"53":{"start":{"line":119,"column":12},"end":{"line":119,"column":52}},"54":{"start":{"line":122,"column":8},"end":{"line":122,"column":31}},"55":{"start":{"line":134,"column":0},"end":{"line":167,"column":2}},"56":{"start":{"line":135,"column":4},"end":{"line":135,"column":23}},"57":{"start":{"line":136,"column":4},"end":{"line":136,"column":76}},"58":{"start":{"line":138,"column":4},"end":{"line":140,"column":5}},"59":{"start":{"line":139,"column":8},"end":{"line":139,"column":57}},"60":{"start":{"line":142,"column":4},"end":{"line":166,"column":7}},"61":{"start":{"line":143,"column":8},"end":{"line":149,"column":11}},"62":{"start":{"line":144,"column":12},"end":{"line":146,"column":13}},"63":{"start":{"line":145,"column":16},"end":{"line":145,"column":26}},"64":{"start":{"line":147,"column":12},"end":{"line":147,"column":60}},"65":{"start":{"line":148,"column":12},"end":{"line":148,"column":19}},"66":{"start":{"line":151,"column":8},"end":{"line":151,"column":25}},"67":{"start":{"line":153,"column":8},"end":{"line":163,"column":11}},"68":{"start":{"line":154,"column":12},"end":{"line":154,"column":46}},"69":{"start":{"line":156,"column":12},"end":{"line":156,"column":97}},"70":{"start":{"line":158,"column":12},"end":{"line":160,"column":15}},"71":{"start":{"line":159,"column":16},"end":{"line":159,"column":90}},"72":{"start":{"line":162,"column":12},"end":{"line":162,"column":52}},"73":{"start":{"line":165,"column":8},"end":{"line":165,"column":31}},"74":{"start":{"line":174,"column":0},"end":{"line":176,"column":2}},"75":{"start":{"line":175,"column":4},"end":{"line":175,"column":50}},"76":{"start":{"line":185,"column":0},"end":{"line":193,"column":2}},"77":{"start":{"line":186,"column":4},"end":{"line":186,"column":31}},"78":{"start":{"line":187,"column":4},"end":{"line":191,"column":5}},"79":{"start":{"line":188,"column":8},"end":{"line":188,"column":77}},"80":{"start":{"line":190,"column":8},"end":{"line":190,"column":71}},"81":{"start":{"line":192,"column":4},"end":{"line":192,"column":27}}},"branchMap":{"1":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":4}},{"start":{"line":38,"column":4},"end":{"line":38,"column":4}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]},"4":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":4}},{"start":{"line":71,"column":4},"end":{"line":71,"column":4}}]},"5":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":4}},{"start":{"line":78,"column":4},"end":{"line":78,"column":4}}]},"6":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":101,"column":12}},{"start":{"line":101,"column":12},"end":{"line":101,"column":12}}]},"7":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":4}},{"start":{"line":138,"column":4},"end":{"line":138,"column":4}}]},"8":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":12},"end":{"line":144,"column":12}},{"start":{"line":144,"column":12},"end":{"line":144,"column":12}}]},"9":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var async = require('async');","","var definitions = require('./parsing/definitions.js');","var handlers = require('./handler.js');","var bpmnProcesses = require('./process.js');","var logger = require('./logger.js');","","","var ProcessManager = require('./manager').ProcessManager;","","module.exports = exports = new ProcessManager();","","exports.ProcessManager = ProcessManager;","","exports.clearCache = function() {","    definitions.clearCache();","};","","exports.logLevels = logger.logLevels;","","/**"," * A BPMN process is created."," *"," * @param {String} bpmnFilePath Full qualified file name of the bpmn file to be loaded"," * @param {Function} callback"," * @return {BPMNProcessClient}"," */","exports.createUnmanagedProcess = function(bpmnFilePath, callback) {","    var processDefinition, error;","    var processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);","    var handler = handlers.getHandlerFromFile(bpmnFilePath);","","    if (processDefinitions.length === 1) {","        processDefinition = processDefinitions[0];","    } else {","        error = new Error(\"The BPMN file '\" + bpmnFilePath + \"'. contains more than one process definition. Use 'createCollaboratingProcesses' instead of 'createProcess'\");","        if(!callback) {","            throw error;","        } else {","            callback(error);","        }","    }","","    bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){","        if(!callback){","            return;","        }","","        callback(err, bpmnProcess.processClient);","    });","","};","","/**"," * A BPMN process is created."," *"," * @param {String} bpmnXML"," * @param {String|object} handler"," * @param {Function} callback"," * @return {BPMNProcessClient}"," */","exports.createUnmanagedProcessFromXML = function(bpmnXML, handler, callback) {","    var processDefinition, error;","    var processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXML, \"Standalone\");","","    if (processDefinitions.length === 1) {","        processDefinition = processDefinitions[0];","    } else {","        error = new Error(\"The BPMN XML contains more than one process definition. Use 'createCollaboratingProcesses' instead of 'createProcess'\");","        return callback(error);","    }","","    if(typeof handler === 'string') {","        handler = handlers.getHandlerFromString(handler);","    }","","    bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){","        callback(err, bpmnProcess.processClient);","    });","","};","","/**"," * An array of BPMN processes are created."," *"," * @param {String} bpmnFilePath Full qualified file name of the bpmn file to be loaded"," * @param {Function} callback"," */","exports.createUnmanagedCollaboratingProcesses = function(bpmnFilePath, callback) {","    var processes = {};","    var processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);","    var handler = handlers.getHandlerFromFile(bpmnFilePath);","","    async.eachSeries(processDefinitions, function(processDefinition, done) {","        bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){","            if(err){","                done(err);","            }","            processes[processDefinition.name] = bpmnProcess;","            done();","        });","    }, function(err){","        var clients = [];","","        Object.keys(processes).forEach(function(name){","            var bpmnProcess = processes[name];","","            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();","","            participants.forEach(function (participant) {","                bpmnProcess.addParticipant(participant.name, processes[participant.name]);","            });","","            clients.push(bpmnProcess.processClient);","        });","","        callback(err, clients);","    });","};","","","/**"," * An array of BPMN processes are created."," *"," * @param {String} bpmnXML"," * @param {String|object} handler"," * @param {Function} callback"," */","exports.createUnmanagedCollaboratingProcessesFromXML = function(bpmnXML, handler, callback) {","    var processes = {};","    var processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXML);","","    if(typeof handler === 'string'){","        handler = handlers.getHandlerFromString(handler);","    }","","    async.eachSeries(processDefinitions, function(processDefinition, done) {","        bpmnProcesses.createBPMNProcess(null, processDefinition, handler, function(err, bpmnProcess){","            if(err){","                done(err);","            }","            processes[processDefinition.name] = bpmnProcess;","            done();","        });","    }, function(err){","        var clients = [];","","        Object.keys(processes).forEach(function(name){","            var bpmnProcess = processes[name];","","            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();","","            participants.forEach(function (participant) {","                bpmnProcess.addParticipant(participant.name, processes[participant.name]);","            });","","            clients.push(bpmnProcess.processClient);","        });","","        callback(err, clients);","    });","};","","/**"," * Maps bpmn names to valid handler names."," * @param {String} bpmnName"," * @type {String}"," */","exports.mapName2HandlerName = function(bpmnName) {","    return handlers.mapName2HandlerName(bpmnName);","};","","/**"," * Loads, parses, and validates BPMN definitions from bpmnFilePath"," * If validation error occur, an exception of type BPMNParseErrorQueue is thrown."," * @param {String} bpmnFilePath"," * @param {Boolean=} cache If true, the definitions are cached."," * @return {Array.<BPMNProcessDefinition|BPMNCollaborationDefinition>}"," */","exports.getBPMNDefinitions = function(bpmnFilePath, cache) {","    var bpmnDefinitions = null;","    if (cache) {","        bpmnDefinitions = definitions.getCachedBPMNDefinitions(bpmnFilePath);","    } else {","        bpmnDefinitions = definitions.getBPMNDefinitions(bpmnFilePath);","    }","    return bpmnDefinitions;","};","","",""],"l":{"6":1,"8":1,"9":1,"10":1,"11":1,"14":1,"16":1,"18":1,"20":1,"21":0,"24":1,"33":1,"34":0,"35":0,"36":0,"38":0,"39":0,"41":0,"42":0,"43":0,"45":0,"49":0,"50":0,"51":0,"54":0,"67":1,"68":0,"69":0,"71":0,"72":0,"74":0,"75":0,"78":0,"79":0,"82":0,"83":0,"94":1,"95":0,"96":0,"97":0,"99":0,"100":0,"101":0,"102":0,"104":0,"105":0,"108":0,"110":0,"111":0,"113":0,"115":0,"116":0,"119":0,"122":0,"134":1,"135":0,"136":0,"138":0,"139":0,"142":0,"143":0,"144":0,"145":0,"147":0,"148":0,"151":0,"153":0,"154":0,"156":0,"158":0,"159":0,"162":0,"165":0,"174":1,"175":0,"185":1,"186":0,"187":0,"188":0,"190":0,"192":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/definitions.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/definitions.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":21},"end":{"line":14,"column":32}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":35},"end":{"line":22,"column":58}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":68},"end":{"line":38,"column":91}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":42},"end":{"line":47,"column":65}}},"5":{"name":"getCollaborationDefinitions","line":52,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":54}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":34},"end":{"line":53,"column":55}}},"7":{"name":"getProcessDefinitions","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":48}}},"8":{"name":"(anonymous_8)","line":59,"loc":{"start":{"line":59,"column":34},"end":{"line":59,"column":55}}},"9":{"name":"getCachedBPMNDefinitions","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":48}}},"10":{"name":"setCollaborationDefinitions","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":86,"column":53}}},"11":{"name":"(anonymous_11)","line":90,"loc":{"start":{"line":90,"column":31},"end":{"line":90,"column":59}}},"12":{"name":"getBPMNDefinitions","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":42}}},"13":{"name":"getBPMNDefinitionsFromXML","line":127,"loc":{"start":{"line":127,"column":0},"end":{"line":127,"column":75}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":27}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":44}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":36}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}},"8":{"start":{"line":14,"column":0},"end":{"line":16,"column":2}},"9":{"start":{"line":15,"column":4},"end":{"line":15,"column":30}},"10":{"start":{"line":22,"column":0},"end":{"line":32,"column":2}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":26}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":69}},"13":{"start":{"line":26,"column":4},"end":{"line":30,"column":5}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":50}},"15":{"start":{"line":29,"column":8},"end":{"line":29,"column":178}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":29}},"17":{"start":{"line":38,"column":0},"end":{"line":41,"column":2}},"18":{"start":{"line":39,"column":4},"end":{"line":39,"column":65}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":50}},"20":{"start":{"line":47,"column":0},"end":{"line":50,"column":2}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":65}},"22":{"start":{"line":49,"column":4},"end":{"line":49,"column":56}},"23":{"start":{"line":52,"column":0},"end":{"line":56,"column":1}},"24":{"start":{"line":53,"column":4},"end":{"line":55,"column":7}},"25":{"start":{"line":54,"column":8},"end":{"line":54,"column":52}},"26":{"start":{"line":58,"column":0},"end":{"line":62,"column":1}},"27":{"start":{"line":59,"column":4},"end":{"line":61,"column":7}},"28":{"start":{"line":60,"column":8},"end":{"line":60,"column":46}},"29":{"start":{"line":70,"column":0},"end":{"line":79,"column":1}},"30":{"start":{"line":71,"column":4},"end":{"line":71,"column":61}},"31":{"start":{"line":73,"column":4},"end":{"line":76,"column":5}},"32":{"start":{"line":74,"column":8},"end":{"line":74,"column":59}},"33":{"start":{"line":75,"column":8},"end":{"line":75,"column":61}},"34":{"start":{"line":78,"column":4},"end":{"line":78,"column":27}},"35":{"start":{"line":80,"column":0},"end":{"line":80,"column":60}},"36":{"start":{"line":86,"column":0},"end":{"line":95,"column":1}},"37":{"start":{"line":87,"column":4},"end":{"line":87,"column":80}},"38":{"start":{"line":88,"column":4},"end":{"line":88,"column":68}},"39":{"start":{"line":89,"column":4},"end":{"line":89,"column":56}},"40":{"start":{"line":90,"column":4},"end":{"line":94,"column":7}},"41":{"start":{"line":91,"column":8},"end":{"line":91,"column":47}},"42":{"start":{"line":92,"column":8},"end":{"line":92,"column":27}},"43":{"start":{"line":93,"column":8},"end":{"line":93,"column":83}},"44":{"start":{"line":101,"column":0},"end":{"line":117,"column":1}},"45":{"start":{"line":102,"column":4},"end":{"line":102,"column":56}},"46":{"start":{"line":103,"column":4},"end":{"line":103,"column":33}},"47":{"start":{"line":105,"column":4},"end":{"line":110,"column":5}},"48":{"start":{"line":106,"column":8},"end":{"line":106,"column":56}},"49":{"start":{"line":107,"column":8},"end":{"line":107,"column":158}},"50":{"start":{"line":109,"column":8},"end":{"line":109,"column":117}},"51":{"start":{"line":112,"column":4},"end":{"line":112,"column":23}},"52":{"start":{"line":114,"column":4},"end":{"line":114,"column":49}},"53":{"start":{"line":116,"column":4},"end":{"line":116,"column":27}},"54":{"start":{"line":118,"column":0},"end":{"line":118,"column":48}},"55":{"start":{"line":127,"column":0},"end":{"line":142,"column":1}},"56":{"start":{"line":128,"column":4},"end":{"line":128,"column":56}},"57":{"start":{"line":129,"column":4},"end":{"line":129,"column":24}},"58":{"start":{"line":131,"column":4},"end":{"line":135,"column":5}},"59":{"start":{"line":132,"column":8},"end":{"line":132,"column":91}},"60":{"start":{"line":134,"column":8},"end":{"line":134,"column":101}},"61":{"start":{"line":137,"column":4},"end":{"line":137,"column":23}},"62":{"start":{"line":139,"column":4},"end":{"line":139,"column":49}},"63":{"start":{"line":141,"column":4},"end":{"line":141,"column":27}},"64":{"start":{"line":143,"column":0},"end":{"line":143,"column":62}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"2":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var fs = require('fs');","var path = require('path');","var fileUtils = require('../utils/file.js');","var utils = require('../utils/utils.js');","var parser = require(\"./parser.js\");","var errors = require(\"./errors.js\");","","var bpmnDefinitionsCache = {};","exports.clearCache = function() {","    bpmnDefinitionsCache = {};","};","","/**"," * @param bpmnFilePath"," * @return {BPMNProcessDefinition}"," */","exports.getBPMNProcessDefinition = function(bpmnFilePath) {","    var processDefinition;","    var processDefinitions = getBPMNProcessDefinitions(bpmnFilePath);","","    if (processDefinitions.length === 1) {","        processDefinition = processDefinitions[0];","    } else {","        throw new Error(\"The BPMN file '\" + bpmnFilePath + \"'. contains more than one process definition. Use 'getBPMNProcessDefinitions' instead of 'getBPMNProcessDefinition'\");","    }","    return processDefinition;","};","","/**"," * @param bpmnFilePath"," * @return {Array.<BPMNProcessDefinition>}"," */","var getBPMNProcessDefinitions = exports.getBPMNProcessDefinitions = function(bpmnFilePath) {","    var bpmnDefinitions = getCachedBPMNDefinitions(bpmnFilePath);","    return getProcessDefinitions(bpmnDefinitions);","};","","/**"," * @param bpmnFilePath"," * @return {Array.<BPMNCollaborationDefinition>}"," */","exports.getBPMNCollaborationDefinitions = function(bpmnFilePath) {","    var bpmnDefinitions = getCachedBPMNDefinitions(bpmnFilePath);","    return getCollaborationDefinitions(bpmnDefinitions);","};","","function getCollaborationDefinitions(bpmnDefinitions) {","    return bpmnDefinitions.filter(function(definition) {","        return definition.isCollaborationDefinition;","    });","}","","function getProcessDefinitions(bpmnDefinitions) {","    return bpmnDefinitions.filter(function(definition) {","        return definition.isProcessDefinition;","    });","}","","/**"," * We don't read bpmn files asynchronously (like node is loading js-files also synchronously),"," * thus we have to cache the definitions."," * @param {String} bpmnFilePath"," * @return {Array.<BPMNProcessDefinition|BPMNCollaborationDefinition>}"," */","function getCachedBPMNDefinitions(bpmnFilePath) {","    var bpmnDefinitions = bpmnDefinitionsCache[bpmnFilePath];","","    if (!bpmnDefinitions) {","        bpmnDefinitions = getBPMNDefinitions(bpmnFilePath);","        bpmnDefinitionsCache[bpmnFilePath] = bpmnDefinitions;","    }","","    return bpmnDefinitions;","}","exports.getCachedBPMNDefinitions = getCachedBPMNDefinitions;","","/**"," *"," * @param bpmnDefinitions"," */","function setCollaborationDefinitions(bpmnDefinitions){","    var collaborationDefinitions = getCollaborationDefinitions(bpmnDefinitions);","    var processDefinitions = getProcessDefinitions(bpmnDefinitions);","    var errorQueue = errors.createBPMNParseErrorQueue();","    processDefinitions.forEach(function(processDefinition) {","        processDefinition.validate(errorQueue);","        errorQueue.check();","        processDefinition.attachCollaborationDefinitions(collaborationDefinitions);","    });","}","","/**"," * @param {String} bpmnFilePath"," * @return {Array.<BPMNProcessDefinition|BPMNCollaborationDefinition>}"," */","function getBPMNDefinitions(bpmnFilePath) {","    var errorQueue = errors.createBPMNParseErrorQueue();","    var bpmnDefinitions, bpmnXML;","","    try {","        bpmnXML = fs.readFileSync(bpmnFilePath, \"utf8\");","        bpmnDefinitions = parser.parse(bpmnXML, errorQueue, utils.toUpperCamelCase(fileUtils.removeFileExtension(path.basename(bpmnFilePath))), bpmnFilePath);","    } catch (e) {","        errorQueue.addError(\"DF1\", null, \"Could not parse the BPMN file '\" + bpmnFilePath + \"'. Error: '\" + e + \"'\");","    }","","    errorQueue.check();","","    setCollaborationDefinitions(bpmnDefinitions);","","    return bpmnDefinitions;","}","exports.getBPMNDefinitions = getBPMNDefinitions;","","","/**"," * @param {String} bpmnXML"," * @param {String=} mainProcessName"," * @param {String=} bpmnFilePath"," * @return {Array.<BPMNProcessDefinition|BPMNCollaborationDefinition>}"," */","function getBPMNDefinitionsFromXML(bpmnXML, mainProcessName, bpmnFilePath) {","    var errorQueue = errors.createBPMNParseErrorQueue();","    var bpmnDefinitions;","","    try {","        bpmnDefinitions = parser.parse(bpmnXML, errorQueue, mainProcessName, bpmnFilePath);","    } catch (e) {","        errorQueue.addError(\"DF1\", null, \"Could not parse the BPMN XML string'. Error: '\" + e + \"'\");","    }","","    errorQueue.check();","","    setCollaborationDefinitions(bpmnDefinitions);","","    return bpmnDefinitions;","}","exports.getBPMNDefinitionsFromXML = getBPMNDefinitionsFromXML;",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1,"15":0,"22":1,"23":0,"24":0,"26":0,"27":0,"29":0,"31":0,"38":1,"39":0,"40":0,"47":1,"48":0,"49":0,"52":1,"53":0,"54":0,"58":1,"59":0,"60":0,"70":1,"71":0,"73":0,"74":0,"75":0,"78":0,"80":1,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"101":1,"102":0,"103":0,"105":0,"106":0,"107":0,"109":0,"112":0,"114":0,"116":0,"118":1,"127":1,"128":0,"129":0,"131":0,"132":0,"134":0,"137":0,"139":0,"141":0,"143":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/file.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/file.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0,"39":0,"40":1,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":16,"loc":{"start":{"line":16,"column":23},"end":{"line":16,"column":37}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":44}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":27},"end":{"line":33,"column":46}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":49}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":54},"end":{"line":61,"column":89}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":26},"end":{"line":65,"column":45}}},"7":{"name":"(anonymous_7)","line":82,"loc":{"start":{"line":82,"column":44},"end":{"line":82,"column":65}}},"8":{"name":"(anonymous_8)","line":87,"loc":{"start":{"line":87,"column":25},"end":{"line":87,"column":44}}},"9":{"name":"(anonymous_9)","line":97,"loc":{"start":{"line":97,"column":20},"end":{"line":97,"column":39}}},"10":{"name":"(anonymous_10)","line":105,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":45}}},"11":{"name":"(anonymous_11)","line":113,"loc":{"start":{"line":113,"column":46},"end":{"line":113,"column":71}}},"12":{"name":"(anonymous_12)","line":123,"loc":{"start":{"line":123,"column":29},"end":{"line":123,"column":44}}},"13":{"name":"(anonymous_13)","line":131,"loc":{"start":{"line":131,"column":20},"end":{"line":131,"column":40}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":22}},"5":{"start":{"line":16,"column":0},"end":{"line":18,"column":2}},"6":{"start":{"line":17,"column":3},"end":{"line":17,"column":37}},"7":{"start":{"line":24,"column":0},"end":{"line":26,"column":2}},"8":{"start":{"line":25,"column":4},"end":{"line":25,"column":43}},"9":{"start":{"line":33,"column":0},"end":{"line":40,"column":2}},"10":{"start":{"line":34,"column":4},"end":{"line":34,"column":25}},"11":{"start":{"line":35,"column":4},"end":{"line":35,"column":42}},"12":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"13":{"start":{"line":37,"column":8},"end":{"line":37,"column":50}},"14":{"start":{"line":39,"column":4},"end":{"line":39,"column":21}},"15":{"start":{"line":47,"column":0},"end":{"line":54,"column":2}},"16":{"start":{"line":48,"column":4},"end":{"line":48,"column":24}},"17":{"start":{"line":49,"column":4},"end":{"line":49,"column":38}},"18":{"start":{"line":50,"column":4},"end":{"line":52,"column":5}},"19":{"start":{"line":51,"column":8},"end":{"line":51,"column":40}},"20":{"start":{"line":53,"column":4},"end":{"line":53,"column":16}},"21":{"start":{"line":61,"column":0},"end":{"line":76,"column":2}},"22":{"start":{"line":62,"column":4},"end":{"line":62,"column":18}},"23":{"start":{"line":63,"column":4},"end":{"line":75,"column":5}},"24":{"start":{"line":64,"column":8},"end":{"line":64,"column":48}},"25":{"start":{"line":65,"column":8},"end":{"line":74,"column":11}},"26":{"start":{"line":66,"column":12},"end":{"line":66,"column":59}},"27":{"start":{"line":67,"column":12},"end":{"line":67,"column":49}},"28":{"start":{"line":68,"column":12},"end":{"line":73,"column":13}},"29":{"start":{"line":69,"column":16},"end":{"line":69,"column":63}},"30":{"start":{"line":71,"column":17},"end":{"line":73,"column":13}},"31":{"start":{"line":72,"column":16},"end":{"line":72,"column":60}},"32":{"start":{"line":82,"column":0},"end":{"line":85,"column":2}},"33":{"start":{"line":84,"column":4},"end":{"line":84,"column":34}},"34":{"start":{"line":87,"column":0},"end":{"line":90,"column":2}},"35":{"start":{"line":88,"column":4},"end":{"line":88,"column":59}},"36":{"start":{"line":89,"column":4},"end":{"line":89,"column":36}},"37":{"start":{"line":97,"column":0},"end":{"line":100,"column":2}},"38":{"start":{"line":98,"column":4},"end":{"line":98,"column":59}},"39":{"start":{"line":99,"column":4},"end":{"line":99,"column":39}},"40":{"start":{"line":105,"column":0},"end":{"line":107,"column":2}},"41":{"start":{"line":106,"column":4},"end":{"line":106,"column":23}},"42":{"start":{"line":113,"column":0},"end":{"line":118,"column":2}},"43":{"start":{"line":114,"column":4},"end":{"line":114,"column":49}},"44":{"start":{"line":115,"column":4},"end":{"line":117,"column":5}},"45":{"start":{"line":116,"column":8},"end":{"line":116,"column":32}},"46":{"start":{"line":123,"column":0},"end":{"line":125,"column":2}},"47":{"start":{"line":124,"column":4},"end":{"line":124,"column":45}},"48":{"start":{"line":131,"column":0},"end":{"line":133,"column":2}},"49":{"start":{"line":132,"column":4},"end":{"line":132,"column":83}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"3":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":4},"end":{"line":63,"column":4}},{"start":{"line":63,"column":4},"end":{"line":63,"column":4}}]},"4":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":12},"end":{"line":68,"column":12}},{"start":{"line":68,"column":12},"end":{"line":68,"column":12}}]},"5":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":17},"end":{"line":71,"column":17}},{"start":{"line":71,"column":17},"end":{"line":71,"column":17}}]},"6":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var fs = require('fs');","var nfs = require('node-fs/lib/fs.js');","var paths = require('path');","","var encoding = \"utf8\";","","/**"," * Create directories recursively if they don't exist"," * @param {String} path"," */","exports.writeDirSync = function(path){","   nfs.mkdirSync(path, \"0777\", true);","};","","/**"," * @param {String} name"," * @param {String} data"," */","exports.writeFileSync = function(name, data){","    fs.writeFileSync(name, data, encoding);","};","","/**"," *"," * @param {String} fileName"," * @return {String}"," */","exports.getFileExtension = function(fileName) {","    var extension = null;","    var index = fileName.lastIndexOf(\".\");","    if (index > -1) {","        extension = fileName.substring(index + 1);","    }","    return extension;","};","","/**"," *"," * @param {string} fileName"," * @return {string}"," */","exports.removeFileExtension = function(fileName) {","    var name = fileName;","    var index = name.lastIndexOf(\".\");","    if (index > -1) {","        name = name.substring(0, index);","    }","    return name;","};","","/**"," *"," * @param {string} currentPath"," * @param {function(currentPath:string, fileName:string, currentFile:string)} handleFile"," */","var traverseFileSystem = exports.traverseFileSystem = function (currentPath, handleFile) {","    var fileNames;","    if (fs.existsSync(currentPath)) {","        fileNames = fs.readdirSync(currentPath);","        fileNames.forEach(function(fileName) {","            var currentFile = currentPath + '/' + fileName;","            var stats = fs.statSync(currentFile);","            if (stats.isFile()) {","                handleFile(currentPath, fileName, currentFile);","            }","            else if (stats.isDirectory()) {","                traverseFileSystem(currentFile, handleFile);","            }","        });","    }","};","","/**"," * @param {string} path"," * @param {string} name"," */","var concatFSNames = exports.concatFSNames = function(path, name) {","    //return (path.substr(0, 1) === '/' ? path + name : path + '/' + name);","    return paths.join(path, name);","};","","exports.readJSONObject = function(fileName) {","    var fileContents = fs.readFileSync(fileName, encoding);","    return JSON.parse(fileContents);","};","","/**"," * Returns lines separated by \\n as string array. Mainly used for testing."," * @param fileName"," * @return {Array.<String>}"," */","exports.readLines = function(fileName) {","    var fileContents = fs.readFileSync(fileName, encoding);","    return fileContents.split(/\\r?\\n/);","};","","/**"," * @param {string} path"," */","exports.removeDirectorySync = function(path) {","    fs.rmdirSync(path);","};","","/**"," * @param {String} path"," * @param {String} fileName"," */","var removeFileSync = exports.removeFileSync = function(path, fileName) {","    var filePath = concatFSNames(path, fileName);","    if (fs.existsSync(filePath)) {","        fs.unlinkSync(filePath);","    }","};","","/**"," * @param {string} path"," */","exports.cleanDirectorySync = function(path) {","    traverseFileSystem(path, removeFileSync);","};","","/**"," * @param {String} dirtyPath"," * @return {String}"," */","exports.cleanPath = function(dirtyPath) {","    return dirtyPath.replace(/[:!`~\\^@*#?\\|&;\\$%@\"<>\\(\\){}\\[\\]\\+, \\t\\n]/g, \"\");","};"],"l":{"6":1,"7":1,"8":1,"10":1,"16":1,"17":0,"24":1,"25":0,"33":1,"34":0,"35":0,"36":0,"37":0,"39":0,"47":1,"48":0,"49":0,"50":0,"51":0,"53":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"71":0,"72":0,"82":1,"84":0,"87":1,"88":0,"89":0,"97":1,"98":0,"99":0,"105":1,"106":0,"113":1,"114":0,"115":0,"116":0,"123":1,"124":0,"131":1,"132":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/utils.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":1,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":27},"end":{"line":10,"column":42}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":18},"end":{"line":13,"column":33}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":42},"end":{"line":23,"column":57}}},"4":{"name":"HashMap","line":27,"loc":{"start":{"line":27,"column":32},"end":{"line":27,"column":64}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":33},"end":{"line":39,"column":47}}},"6":{"name":"(anonymous_6)","line":49,"loc":{"start":{"line":49,"column":24},"end":{"line":49,"column":45}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":38}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":26},"end":{"line":63,"column":37}}},"9":{"name":"(anonymous_9)","line":70,"loc":{"start":{"line":70,"column":28},"end":{"line":70,"column":39}}},"10":{"name":"(anonymous_10)","line":73,"loc":{"start":{"line":73,"column":28},"end":{"line":73,"column":50}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":17,"column":2}},"2":{"start":{"line":11,"column":4},"end":{"line":11,"column":20}},"3":{"start":{"line":12,"column":4},"end":{"line":12,"column":35}},"4":{"start":{"line":13,"column":4},"end":{"line":15,"column":7}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":37}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":18}},"7":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"8":{"start":{"line":24,"column":4},"end":{"line":24,"column":67}},"9":{"start":{"line":27,"column":0},"end":{"line":32,"column":2}},"10":{"start":{"line":28,"column":4},"end":{"line":28,"column":21}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":76}},"12":{"start":{"line":30,"column":4},"end":{"line":30,"column":22}},"13":{"start":{"line":31,"column":4},"end":{"line":31,"column":37}},"14":{"start":{"line":39,"column":0},"end":{"line":43,"column":2}},"15":{"start":{"line":41,"column":4},"end":{"line":41,"column":30}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":54}},"17":{"start":{"line":49,"column":0},"end":{"line":52,"column":2}},"18":{"start":{"line":50,"column":2},"end":{"line":50,"column":43}},"19":{"start":{"line":51,"column":2},"end":{"line":51,"column":35}},"20":{"start":{"line":58,"column":0},"end":{"line":61,"column":2}},"21":{"start":{"line":59,"column":4},"end":{"line":59,"column":45}},"22":{"start":{"line":60,"column":4},"end":{"line":60,"column":38}},"23":{"start":{"line":63,"column":0},"end":{"line":65,"column":2}},"24":{"start":{"line":64,"column":4},"end":{"line":64,"column":21}},"25":{"start":{"line":70,"column":0},"end":{"line":76,"column":2}},"26":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"27":{"start":{"line":72,"column":4},"end":{"line":72,"column":48}},"28":{"start":{"line":73,"column":4},"end":{"line":75,"column":7}},"29":{"start":{"line":74,"column":8},"end":{"line":74,"column":50}}},"branchMap":{"1":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":55},"end":{"line":29,"column":68}},{"start":{"line":29,"column":71},"end":{"line":29,"column":75}}]},"2":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":33},"end":{"line":42,"column":34}},{"start":{"line":42,"column":37},"end":{"line":42,"column":52}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param {String} name"," * @return {String}"," */","exports.toUpperCamelCase = function(name) {","    var result = \"\";","    var parts = name.split(/\\s+/g);","    parts.forEach(function(part) {","        result += firstToUpper(part);","    });","    return result;","};","","/**"," * @param {String} name"," * @return {String}"," */","var firstToUpper = exports.firstToUpper = function(name) {","    return (name.substring(0,1).toUpperCase() + name.substring(1));","};","","var HashMap = exports.HashMap = function HashMap(caseSensitive) {","    this.values = {};","    this.caseSensitive = caseSensitive !== undefined ? caseSensitive : true;","    this.prefix = '.'; // a char not allowed in JS names","    this.offset = this.prefix.length;","};","","/**"," * @param {{toString: function}} key"," * @returns {string}"," * @private"," */","HashMap.prototype._getKeyValue = function(key) {","    // no built in JS attribute contains '.'","    var k = this.prefix + key;","    return (this.caseSensitive ? k : k.toLowerCase());","};","","/**"," * @param {{toString: function}} key"," * @param {*} value"," */","HashMap.prototype.set = function(key, value) {","  var prefixedKey = this._getKeyValue(key);","  this.values[prefixedKey] = value;","};","","/**"," * @param {{toString: function}} key"," * @return {*}"," */","HashMap.prototype.get = function(key) {","    var prefixedKey = this._getKeyValue(key);","    return (this.values[prefixedKey]);","};","","HashMap.prototype.clear = function() {","    this.values = {};","};","","/**"," * @returns {Array.<String>}"," */","HashMap.prototype.getKeys = function() {","    var self = this;","    var prefixedKeys = Object.keys(this.values);","    return prefixedKeys.map(function(prefixedKey) {","        return prefixedKey.substring(self.offset);","    });","};"],"l":{"10":1,"11":0,"12":0,"13":0,"14":0,"16":0,"23":1,"24":0,"27":1,"28":0,"29":0,"30":0,"31":0,"39":1,"41":0,"42":0,"49":1,"50":0,"51":0,"58":1,"59":0,"60":0,"63":1,"64":0,"70":1,"71":0,"72":0,"73":0,"74":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/parser.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/parser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"addNamespaces","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":50}}},"2":{"name":"(anonymous_2)","line":38,"loc":{"start":{"line":38,"column":21},"end":{"line":38,"column":35}}},"3":{"name":"addImport","line":52,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":60}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":73}}},"5":{"name":"(anonymous_5)","line":89,"loc":{"start":{"line":89,"column":21},"end":{"line":89,"column":34}}},"6":{"name":"(anonymous_6)","line":94,"loc":{"start":{"line":94,"column":23},"end":{"line":94,"column":39}}},"7":{"name":"(anonymous_7)","line":182,"loc":{"start":{"line":182,"column":24},"end":{"line":182,"column":40}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":23}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":58}},"8":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"9":{"start":{"line":14,"column":0},"end":{"line":14,"column":46}},"10":{"start":{"line":15,"column":0},"end":{"line":15,"column":52}},"11":{"start":{"line":16,"column":0},"end":{"line":16,"column":42}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":50}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":40}},"14":{"start":{"line":19,"column":0},"end":{"line":19,"column":48}},"15":{"start":{"line":20,"column":0},"end":{"line":20,"column":36}},"16":{"start":{"line":21,"column":0},"end":{"line":21,"column":60}},"17":{"start":{"line":22,"column":0},"end":{"line":22,"column":44}},"18":{"start":{"line":23,"column":0},"end":{"line":23,"column":48}},"19":{"start":{"line":24,"column":0},"end":{"line":24,"column":46}},"20":{"start":{"line":25,"column":0},"end":{"line":25,"column":70}},"21":{"start":{"line":26,"column":0},"end":{"line":26,"column":43}},"22":{"start":{"line":28,"column":0},"end":{"line":28,"column":67}},"23":{"start":{"line":34,"column":0},"end":{"line":46,"column":1}},"24":{"start":{"line":35,"column":4},"end":{"line":35,"column":37}},"25":{"start":{"line":36,"column":4},"end":{"line":45,"column":5}},"26":{"start":{"line":37,"column":8},"end":{"line":37,"column":43}},"27":{"start":{"line":38,"column":8},"end":{"line":44,"column":11}},"28":{"start":{"line":39,"column":12},"end":{"line":39,"column":44}},"29":{"start":{"line":40,"column":12},"end":{"line":43,"column":13}},"30":{"start":{"line":42,"column":16},"end":{"line":42,"column":71}},"31":{"start":{"line":52,"column":0},"end":{"line":56,"column":1}},"32":{"start":{"line":53,"column":4},"end":{"line":53,"column":74}},"33":{"start":{"line":54,"column":4},"end":{"line":54,"column":76}},"34":{"start":{"line":55,"column":4},"end":{"line":55,"column":54}},"35":{"start":{"line":66,"column":0},"end":{"line":193,"column":2}},"36":{"start":{"line":68,"column":4},"end":{"line":68,"column":51}},"37":{"start":{"line":69,"column":4},"end":{"line":69,"column":33}},"38":{"start":{"line":70,"column":4},"end":{"line":70,"column":26}},"39":{"start":{"line":72,"column":4},"end":{"line":72,"column":36}},"40":{"start":{"line":74,"column":4},"end":{"line":74,"column":40}},"41":{"start":{"line":76,"column":4},"end":{"line":76,"column":37}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":46}},"43":{"start":{"line":80,"column":4},"end":{"line":80,"column":43}},"44":{"start":{"line":81,"column":4},"end":{"line":81,"column":33}},"45":{"start":{"line":82,"column":4},"end":{"line":82,"column":41}},"46":{"start":{"line":83,"column":4},"end":{"line":83,"column":33}},"47":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"48":{"start":{"line":86,"column":8},"end":{"line":86,"column":39}},"49":{"start":{"line":89,"column":4},"end":{"line":92,"column":6}},"50":{"start":{"line":90,"column":8},"end":{"line":90,"column":54}},"51":{"start":{"line":91,"column":8},"end":{"line":91,"column":24}},"52":{"start":{"line":94,"column":4},"end":{"line":180,"column":6}},"53":{"start":{"line":95,"column":8},"end":{"line":95,"column":35}},"54":{"start":{"line":96,"column":8},"end":{"line":96,"column":59}},"55":{"start":{"line":98,"column":8},"end":{"line":98,"column":49}},"56":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"57":{"start":{"line":101,"column":12},"end":{"line":101,"column":78}},"58":{"start":{"line":104,"column":8},"end":{"line":179,"column":9}},"59":{"start":{"line":106,"column":12},"end":{"line":110,"column":13}},"60":{"start":{"line":107,"column":16},"end":{"line":107,"column":113}},"61":{"start":{"line":108,"column":16},"end":{"line":108,"column":73}},"62":{"start":{"line":109,"column":16},"end":{"line":109,"column":48}},"63":{"start":{"line":112,"column":12},"end":{"line":120,"column":13}},"64":{"start":{"line":113,"column":16},"end":{"line":119,"column":17}},"65":{"start":{"line":114,"column":20},"end":{"line":114,"column":91}},"66":{"start":{"line":115,"column":20},"end":{"line":115,"column":95}},"67":{"start":{"line":116,"column":23},"end":{"line":119,"column":17}},"68":{"start":{"line":117,"column":20},"end":{"line":117,"column":90}},"69":{"start":{"line":118,"column":20},"end":{"line":118,"column":95}},"70":{"start":{"line":122,"column":12},"end":{"line":133,"column":13}},"71":{"start":{"line":123,"column":16},"end":{"line":132,"column":17}},"72":{"start":{"line":124,"column":20},"end":{"line":124,"column":118}},"73":{"start":{"line":125,"column":20},"end":{"line":127,"column":21}},"74":{"start":{"line":126,"column":24},"end":{"line":126,"column":72}},"75":{"start":{"line":128,"column":20},"end":{"line":128,"column":71}},"76":{"start":{"line":129,"column":20},"end":{"line":129,"column":58}},"77":{"start":{"line":131,"column":20},"end":{"line":131,"column":52}},"78":{"start":{"line":135,"column":12},"end":{"line":137,"column":13}},"79":{"start":{"line":136,"column":16},"end":{"line":136,"column":61}},"80":{"start":{"line":139,"column":12},"end":{"line":178,"column":13}},"81":{"start":{"line":140,"column":16},"end":{"line":177,"column":17}},"82":{"start":{"line":141,"column":20},"end":{"line":141,"column":71}},"83":{"start":{"line":142,"column":20},"end":{"line":142,"column":82}},"84":{"start":{"line":143,"column":23},"end":{"line":177,"column":17}},"85":{"start":{"line":144,"column":20},"end":{"line":144,"column":87}},"86":{"start":{"line":145,"column":20},"end":{"line":145,"column":84}},"87":{"start":{"line":146,"column":23},"end":{"line":177,"column":17}},"88":{"start":{"line":147,"column":20},"end":{"line":147,"column":83}},"89":{"start":{"line":148,"column":20},"end":{"line":148,"column":82}},"90":{"start":{"line":149,"column":23},"end":{"line":177,"column":17}},"91":{"start":{"line":150,"column":20},"end":{"line":150,"column":89}},"92":{"start":{"line":151,"column":20},"end":{"line":151,"column":82}},"93":{"start":{"line":152,"column":23},"end":{"line":177,"column":17}},"94":{"start":{"line":153,"column":20},"end":{"line":153,"column":62}},"95":{"start":{"line":154,"column":23},"end":{"line":177,"column":17}},"96":{"start":{"line":155,"column":20},"end":{"line":155,"column":79}},"97":{"start":{"line":156,"column":20},"end":{"line":156,"column":82}},"98":{"start":{"line":157,"column":23},"end":{"line":177,"column":17}},"99":{"start":{"line":158,"column":20},"end":{"line":158,"column":89}},"100":{"start":{"line":159,"column":20},"end":{"line":159,"column":82}},"101":{"start":{"line":160,"column":23},"end":{"line":177,"column":17}},"102":{"start":{"line":161,"column":20},"end":{"line":161,"column":146}},"103":{"start":{"line":162,"column":20},"end":{"line":162,"column":82}},"104":{"start":{"line":163,"column":23},"end":{"line":177,"column":17}},"105":{"start":{"line":164,"column":20},"end":{"line":164,"column":102}},"106":{"start":{"line":165,"column":20},"end":{"line":165,"column":82}},"107":{"start":{"line":166,"column":23},"end":{"line":177,"column":17}},"108":{"start":{"line":167,"column":20},"end":{"line":167,"column":102}},"109":{"start":{"line":168,"column":20},"end":{"line":168,"column":82}},"110":{"start":{"line":169,"column":23},"end":{"line":177,"column":17}},"111":{"start":{"line":170,"column":20},"end":{"line":170,"column":64}},"112":{"start":{"line":171,"column":23},"end":{"line":177,"column":17}},"113":{"start":{"line":172,"column":20},"end":{"line":172,"column":107}},"114":{"start":{"line":173,"column":20},"end":{"line":173,"column":104}},"115":{"start":{"line":174,"column":20},"end":{"line":174,"column":82}},"116":{"start":{"line":175,"column":20},"end":{"line":175,"column":64}},"117":{"start":{"line":176,"column":20},"end":{"line":176,"column":68}},"118":{"start":{"line":182,"column":4},"end":{"line":188,"column":6}},"119":{"start":{"line":183,"column":8},"end":{"line":187,"column":9}},"120":{"start":{"line":184,"column":12},"end":{"line":186,"column":13}},"121":{"start":{"line":185,"column":16},"end":{"line":185,"column":62}},"122":{"start":{"line":190,"column":4},"end":{"line":190,"column":34}},"123":{"start":{"line":192,"column":4},"end":{"line":192,"column":31}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"2":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":12}},{"start":{"line":40,"column":12},"end":{"line":40,"column":12}}]},"3":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"4":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":18}},{"start":{"line":85,"column":22},"end":{"line":85,"column":30}}]},"5":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"6":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":12},"end":{"line":100,"column":30}},{"start":{"line":100,"column":34},"end":{"line":100,"column":63}},{"start":{"line":100,"column":67},"end":{"line":100,"column":75}}]},"7":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"8":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":12},"end":{"line":106,"column":12}},{"start":{"line":106,"column":12},"end":{"line":106,"column":12}}]},"9":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":12},"end":{"line":112,"column":12}},{"start":{"line":112,"column":12},"end":{"line":112,"column":12}}]},"10":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":16},"end":{"line":113,"column":16}},{"start":{"line":113,"column":16},"end":{"line":113,"column":16}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":23},"end":{"line":116,"column":23}},{"start":{"line":116,"column":23},"end":{"line":116,"column":23}}]},"12":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":12},"end":{"line":122,"column":12}},{"start":{"line":122,"column":12},"end":{"line":122,"column":12}}]},"13":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":16},"end":{"line":123,"column":16}},{"start":{"line":123,"column":16},"end":{"line":123,"column":16}}]},"14":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":20},"end":{"line":125,"column":20}},{"start":{"line":125,"column":20},"end":{"line":125,"column":20}}]},"15":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":24},"end":{"line":125,"column":54}},{"start":{"line":125,"column":58},"end":{"line":125,"column":73}}]},"16":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":135,"column":12}},{"start":{"line":135,"column":12},"end":{"line":135,"column":12}}]},"17":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":12}},{"start":{"line":139,"column":12},"end":{"line":139,"column":12}}]},"18":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":16}},{"start":{"line":140,"column":16},"end":{"line":140,"column":16}}]},"19":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":23},"end":{"line":143,"column":23}},{"start":{"line":143,"column":23},"end":{"line":143,"column":23}}]},"20":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":23},"end":{"line":146,"column":23}},{"start":{"line":146,"column":23},"end":{"line":146,"column":23}}]},"21":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":23},"end":{"line":149,"column":23}},{"start":{"line":149,"column":23},"end":{"line":149,"column":23}}]},"22":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":23},"end":{"line":152,"column":23}},{"start":{"line":152,"column":23},"end":{"line":152,"column":23}}]},"23":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":23},"end":{"line":154,"column":23}},{"start":{"line":154,"column":23},"end":{"line":154,"column":23}}]},"24":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":23},"end":{"line":157,"column":23}},{"start":{"line":157,"column":23},"end":{"line":157,"column":23}}]},"25":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":23},"end":{"line":160,"column":23}},{"start":{"line":160,"column":23},"end":{"line":160,"column":23}}]},"26":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":23},"end":{"line":163,"column":23}},{"start":{"line":163,"column":23},"end":{"line":163,"column":23}}]},"27":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":23},"end":{"line":166,"column":23}},{"start":{"line":166,"column":23},"end":{"line":166,"column":23}}]},"28":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":23},"end":{"line":169,"column":23}},{"start":{"line":169,"column":23},"end":{"line":169,"column":23}}]},"29":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":23},"end":{"line":171,"column":23}},{"start":{"line":171,"column":23},"end":{"line":171,"column":23}}]},"30":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":8},"end":{"line":183,"column":8}},{"start":{"line":183,"column":8},"end":{"line":183,"column":8}}]},"31":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":12}},{"start":{"line":184,"column":12},"end":{"line":184,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var sax = require('sax');","var fs = require('fs');","var path = require('path');","var fileUtils = require('../utils/file.js');","var utils = require('../utils/utils.js');","var debug = require('../debugger.js');","var processDefinition = require('./processDefinition.js');","var tasks = require('./tasks.js');","var startEvents = require('./startEvents.js');","var boundaryEvents = require('./boundaryEvents.js');","var endEvents = require('./endEvents.js');","var sequenceFlows = require('./sequenceFlows.js');","var gateways = require('./gateways.js');","var callActivity = require('./callActivity.js');","var events = require('./events.js');","var intermediateEvents = require('./intermediateEvents.js');","var subProcess = require('./subProcess.js');","var messageFlows = require(\"./messageFlows.js\");","var participant = require(\"./participant.js\");","var collaborationDefinition = require(\"./collaborationDefinition.js\");","var parserUtils = require(\"./parserUtils\");","","var BPMN2NAMESPACE = \"http://www.omg.org/spec/BPMN/20100524/MODEL\";","","/**"," * @param {Object} prefix2NamespaceMap Maps prefixes to namespaces. ASSUMPTION: prefixes map uniquely to namespaces"," * @param node"," */","function addNamespaces(prefix2NamespaceMap, node) {","    var attributes = node.attributes;","    if (attributes) {","        var keys = Object.keys(attributes);","        keys.forEach(function(key) {","            var attribute = attributes[key];","            if (attribute.prefix === \"xmlns\") {","                // NOTE: we assume that namespace prefixes are unique - which is not necessarily true","                prefix2NamespaceMap[attribute.local] = attribute.value;","            }","        });","    }","}","","/**"," * @param {Object} importNamespace2LocationMap Maps import namespaces to locations."," * @param importNode"," */","function addImport(importNamespace2LocationMap, importNode) {","    var location = parserUtils.getAttributesValue(importNode, \"location\");","    var namespace = parserUtils.getAttributesValue(importNode, \"namespace\");","    importNamespace2LocationMap[namespace] = location;","}","","","/**"," * @param {String} bpmnXML"," * @param {BPMNParseErrorQueue=} errorQueue"," * @param {String=} mainProcessName"," * @param {String=} fileName"," * @return {Array.<BPMNProcessDefinition>}"," */","exports.parse = function(bpmnXML, errorQueue, mainProcessName, fileName) {","","    var parser = sax.parser(true, {\"xmlns\": true});","    var topLevelDefinitions = [];","    var processStack = [];","    /** @type {BPMNProcessDefinition} */","    var subProcessDefinition = null;","    /** @type {BPMNProcessDefinition} */","    var currentProcessDefinition = null;","    /** @type {BPMNFlowObject|BPMNSequenceFlow} */","    var currentProcessElement = null;","    /** @type {BPMNCollaborationDefinition} */","    var currentCollaborationDefinition = null;","    /** @type {BPMNMessageFlow|BPMNParticipant} */","    var currentCollaborationElement = null;","    var prefix2NamespaceMap = {};","    var importNamespace2LocationMap = {};","    var debuggerInterface = null;","","    if (errorQueue && fileName) {","        errorQueue.fileName = fileName;","    }","","    parser.onerror = function (e) {","        errorQueue.addError(\"NOPARSE\", {}, e.message);","        parser.resume();","    };","","    parser.onopentag = function (node) {","        var localName = node.local;","        var inBPMN2Namespace = node.uri === BPMN2NAMESPACE;","","        addNamespaces(prefix2NamespaceMap, node);","","        if (!debuggerInterface && debug.isDebuggerElement(node) && fileName) {","            debuggerInterface = debug.createDebuggerInterface(node, fileName);","        }","","        if (inBPMN2Namespace) {","","            if (collaborationDefinition.isCollaborationDefinitionName(localName)) {","                currentCollaborationDefinition = collaborationDefinition.createBPMNCollaborationDefinition(node);","                topLevelDefinitions.push(currentCollaborationDefinition);","                currentProcessDefinition = null;","            }","","            if (currentCollaborationDefinition) {","                if (messageFlows.isMessageFlowName(localName)) {","                    currentCollaborationElement = messageFlows.createBPMNMessageFlow(node);","                    currentCollaborationDefinition.addMessageFlow(currentCollaborationElement);","                } else if (participant.isParticipantName(localName)) {","                    currentCollaborationElement = participant.createBPMNParticipant(node);","                    currentCollaborationDefinition.addParticipant(currentCollaborationElement);","                }","            }","","            if (processDefinition.isProcessName(localName)) {","                if (processDefinition.isExecutable(node)) {","                    currentProcessDefinition = processDefinition.createBPMNProcessDefinition(node, debuggerInterface);","                    if (!currentProcessDefinition.name && mainProcessName) {","                        currentProcessDefinition.name = mainProcessName;","                    }","                    topLevelDefinitions.push(currentProcessDefinition);","                    currentCollaborationDefinition = null;","                } else {","                    currentProcessDefinition = null;","                }","            }","","            if (localName === \"import\") {","                addImport(importNamespace2LocationMap, node);","            }","","            if (currentProcessDefinition) {","                if (tasks.isTaskName(localName)) {","                    currentProcessElement = tasks.createBPMNTask(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (sequenceFlows.isSequenceFlowName(localName)) {","                    currentProcessElement = sequenceFlows.createBPMNSequenceFlow(node);","                    currentProcessDefinition.addSequenceFlow(currentProcessElement);","                } else if (startEvents.isStartEventName(localName)) {","                    currentProcessElement = startEvents.createBPMNStartEvent(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (boundaryEvents.isBoundaryEventName(localName)) {","                    currentProcessElement = boundaryEvents.createBPMNBoundaryEvent(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (boundaryEvents.isTimerEventName(localName)) {","                    currentProcessElement.isTimerEvent = true;","                } else if (endEvents.isEndEventName(localName)) {","                    currentProcessElement = endEvents.createBPMNEndEvent(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (gateways.isGatewayName(localName)) {","                    currentProcessElement = gateways.createBPMNGateway(node, errorQueue);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (callActivity.isCallActivityName(localName)) {","                    currentProcessElement = callActivity.createBPMNCallActivity(node, fileName, prefix2NamespaceMap, importNamespace2LocationMap);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (intermediateEvents.isIntermediateThrowEventName(localName)) {","                    currentProcessElement = intermediateEvents.createBPMNIntermediateThrowEvent(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (intermediateEvents.isIntermediateCatchEventName(localName)) {","                    currentProcessElement = intermediateEvents.createBPMNIntermediateCatchEvent(node);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                } else if (events.isMessageEventName(localName)) {","                    currentProcessElement.isMessageEvent = true;","                } else if (subProcess.isSubProcessName(localName)) {","                    subProcessDefinition = processDefinition.createBPMNProcessDefinition(node, errorQueue);","                    currentProcessElement = subProcess.createBPMNSubProcess(node, subProcessDefinition);","                    currentProcessDefinition.addFlowObject(currentProcessElement);","                    processStack.push(currentProcessDefinition);","                    currentProcessDefinition = subProcessDefinition;","                }","            }","        }","    };","","    parser.onclosetag = function (node) {","        if (subProcess.isSubProcessName(node)) {","            if (processStack.length > 0) {","                currentProcessDefinition = processStack.pop();","            }","        }","    };","","    parser.write(bpmnXML).close();","","    return topLevelDefinitions;","};",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"28":1,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"42":0,"52":1,"53":0,"54":0,"55":0,"66":1,"68":0,"69":0,"70":0,"72":0,"74":0,"76":0,"78":0,"80":0,"81":0,"82":0,"83":0,"85":0,"86":0,"89":0,"90":0,"91":0,"94":0,"95":0,"96":0,"98":0,"100":0,"101":0,"104":0,"106":0,"107":0,"108":0,"109":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"122":0,"123":0,"124":0,"125":0,"126":0,"128":0,"129":0,"131":0,"135":0,"136":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"182":0,"183":0,"184":0,"185":0,"190":0,"192":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/debugger.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/debugger.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":0,"11":1,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":34},"end":{"line":15,"column":59}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":28},"end":{"line":23,"column":43}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":52},"end":{"line":32,"column":76}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":43},"end":{"line":40,"column":54}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":43},"end":{"line":49,"column":78}}},"6":{"name":"(anonymous_6)","line":66,"loc":{"start":{"line":66,"column":56},"end":{"line":66,"column":87}}},"7":{"name":"(anonymous_7)","line":89,"loc":{"start":{"line":89,"column":47},"end":{"line":89,"column":61}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"4":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}},"5":{"start":{"line":16,"column":4},"end":{"line":16,"column":91}},"6":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"7":{"start":{"line":24,"column":4},"end":{"line":24,"column":91}},"8":{"start":{"line":32,"column":0},"end":{"line":35,"column":2}},"9":{"start":{"line":33,"column":4},"end":{"line":33,"column":29}},"10":{"start":{"line":34,"column":4},"end":{"line":34,"column":31}},"11":{"start":{"line":40,"column":0},"end":{"line":42,"column":2}},"12":{"start":{"line":41,"column":4},"end":{"line":41,"column":42}},"13":{"start":{"line":49,"column":0},"end":{"line":83,"column":2}},"14":{"start":{"line":50,"column":4},"end":{"line":50,"column":20}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":59}},"16":{"start":{"line":52,"column":4},"end":{"line":55,"column":6}},"17":{"start":{"line":56,"column":4},"end":{"line":56,"column":15}},"18":{"start":{"line":58,"column":4},"end":{"line":60,"column":5}},"19":{"start":{"line":59,"column":8},"end":{"line":59,"column":60}},"20":{"start":{"line":62,"column":4},"end":{"line":82,"column":5}},"21":{"start":{"line":65,"column":8},"end":{"line":65,"column":48}},"22":{"start":{"line":66,"column":8},"end":{"line":78,"column":12}},"23":{"start":{"line":67,"column":12},"end":{"line":69,"column":13}},"24":{"start":{"line":68,"column":16},"end":{"line":68,"column":99}},"25":{"start":{"line":72,"column":12},"end":{"line":72,"column":27}},"26":{"start":{"line":74,"column":12},"end":{"line":77,"column":13}},"27":{"start":{"line":75,"column":16},"end":{"line":75,"column":128}},"28":{"start":{"line":76,"column":16},"end":{"line":76,"column":43}},"29":{"start":{"line":80,"column":8},"end":{"line":80,"column":87}},"30":{"start":{"line":81,"column":8},"end":{"line":81,"column":16}},"31":{"start":{"line":89,"column":0},"end":{"line":91,"column":2}},"32":{"start":{"line":90,"column":4},"end":{"line":90,"column":48}}},"branchMap":{"1":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":12},"end":{"line":24,"column":60}},{"start":{"line":24,"column":64},"end":{"line":24,"column":89}}]},"2":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":4},"end":{"line":58,"column":4}},{"start":{"line":58,"column":4},"end":{"line":58,"column":4}}]},"3":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":12},"end":{"line":67,"column":12}},{"start":{"line":67,"column":12},"end":{"line":67,"column":12}}]},"4":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":12}},{"start":{"line":74,"column":12},"end":{"line":74,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var restify = require('restify');","var urls = require('url');","var parserUtils = require(\"./parsing/parserUtils.js\");","","/**"," * @param node"," * @param {String} fileName"," * @constructor"," */","exports.createDebuggerInterface = function(node, fileName) {","    return (new DebuggerInterface(parserUtils.getAttributesValue(node, \"href\"), fileName));","};","","/**"," * @param node"," * @return {Boolean}"," */","exports.isDebuggerElement = function(node) {","    return (node.uri === 'http://e2e.ch/bpmneditor/debugger' && node.local === 'position');","};","","/**"," * @param {String} url"," * @param {String} fileName"," * @constructor"," */","var DebuggerInterface = exports.DebuggerInterface = function(url, fileName) {","    this.fileName = fileName;","    this.url = urls.parse(url);","};","","/**"," * @returns {boolean}"," */","DebuggerInterface.prototype.isInDebugger = function() {","    return (global.v8debug !== undefined);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @param {Logger} logger"," * @param {Function} done"," */","DebuggerInterface.prototype.sendPosition = function(flowObject, logger, done) {","    var self = this;","    var baseUrl = self.url.protocol + '//' + self.url.host;","    var debuggerMessage = {","        filename: this.fileName,","        position: {}","    };","    var client;","","    if (flowObject.bpmnId) {","        debuggerMessage.position.bpmnId = flowObject.bpmnId;","    }","","    try {","        // if we are here, we are debugging so performance is no issue so","        // we create a new client all the time which is simple and robust","        client = self.createRestClient(baseUrl);","        client.post(self.url.pathname, debuggerMessage, function(error, req, res, obj) {","            if (error) {","                logger.error(\"Error sending position to '\" + self.url.href + \"'. Error: \" + error);","            }","","\t\t\t// client must be closed before calling done() because done might lead to another sendPosition call","            client.close();","","            if (done) {","                logger.debug(\"DebuggerInterface: Sending '\" + JSON.stringify(debuggerMessage) + \"' to '\" + self.url.href + \"'\");","                done(error, req, res, obj);","            }","         });","    } catch (e) {","        logger.error(\"Error sending position to '\" + self.url.href + \"'. Error: \" + e);","        done(e);","    }","};","","/**"," * @param {String} url"," * @return {*}"," */","DebuggerInterface.prototype.createRestClient = function(url) {","    return restify.createJsonClient({url: url});","};",""],"l":{"6":1,"7":1,"8":1,"15":1,"16":0,"23":1,"24":0,"32":1,"33":0,"34":0,"40":1,"41":0,"49":1,"50":0,"51":0,"52":0,"56":0,"58":0,"59":0,"62":0,"65":0,"66":0,"67":0,"68":0,"72":0,"74":0,"75":0,"76":0,"80":0,"81":0,"89":1,"90":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/parserUtils.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/parserUtils.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":59}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":28},"end":{"line":26,"column":51}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":20,"column":2}},"2":{"start":{"line":12,"column":4},"end":{"line":12,"column":39}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":37}},"4":{"start":{"line":15,"column":4},"end":{"line":18,"column":5}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":46}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":51}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":17}},"8":{"start":{"line":26,"column":0},"end":{"line":38,"column":2}},"9":{"start":{"line":27,"column":4},"end":{"line":27,"column":45}},"10":{"start":{"line":28,"column":4},"end":{"line":28,"column":42}},"11":{"start":{"line":30,"column":4},"end":{"line":35,"column":5}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":57}},"13":{"start":{"line":32,"column":8},"end":{"line":32,"column":61}},"14":{"start":{"line":34,"column":8},"end":{"line":34,"column":40}},"15":{"start":{"line":37,"column":4},"end":{"line":37,"column":18}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"2":{"line":17,"type":"cond-expr","locations":[{"start":{"line":17,"column":28},"end":{"line":17,"column":43}},{"start":{"line":17,"column":46},"end":{"line":17,"column":50}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param node"," * @param {String} attributeName"," * @return {String}"," */","exports.getAttributesValue = function(node, attributeName) {","    var value = null, attribute = null;","    var attributes = node.attributes;","","    if (attributes) {","        attribute = attributes[attributeName];","        value = attribute ? attribute.value : null;","    }","    return value;","};","","/**"," * @param {String} prefixedName A name such as ns1:blah"," * @return {{prefix: String, localName: String}}"," */","exports.splitPrefixedName = function(prefixedName) {","    var result = {prefix: \"\", localName: \"\"};","    var colon = prefixedName.indexOf(\":\");","","    if (colon) {","        result.prefix = prefixedName.substring(0, colon);","        result.localName = prefixedName.substring(colon + 1);","    } else {","        result.localName = prefixedName;","    }","","    return result;","};"],"l":{"11":1,"12":0,"13":0,"15":0,"16":0,"17":0,"19":0,"26":1,"27":0,"28":0,"30":0,"31":0,"32":0,"34":0,"37":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/processDefinition.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/processDefinition.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":1,"38":0,"39":1,"40":0,"41":1,"42":0,"43":0,"44":1,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":1,"84":0,"85":0,"86":1,"87":0,"88":1,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":1,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":1,"126":0,"127":1,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":1,"135":0,"136":1,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":38},"end":{"line":13,"column":72}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":24},"end":{"line":27,"column":44}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":38}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":60},"end":{"line":46,"column":102}}},"5":{"name":"(anonymous_5)","line":74,"loc":{"start":{"line":74,"column":43},"end":{"line":74,"column":64}}},"6":{"name":"(anonymous_6)","line":78,"loc":{"start":{"line":78,"column":28},"end":{"line":78,"column":53}}},"7":{"name":"(anonymous_7)","line":89,"loc":{"start":{"line":89,"column":52},"end":{"line":89,"column":69}}},"8":{"name":"(anonymous_8)","line":100,"loc":{"start":{"line":100,"column":48},"end":{"line":100,"column":65}}},"9":{"name":"(anonymous_9)","line":108,"loc":{"start":{"line":108,"column":54},"end":{"line":108,"column":69}}},"10":{"name":"(anonymous_10)","line":115,"loc":{"start":{"line":115,"column":49},"end":{"line":115,"column":60}}},"11":{"name":"(anonymous_11)","line":116,"loc":{"start":{"line":116,"column":35},"end":{"line":116,"column":56}}},"12":{"name":"(anonymous_12)","line":124,"loc":{"start":{"line":124,"column":52},"end":{"line":124,"column":63}}},"13":{"name":"(anonymous_13)","line":125,"loc":{"start":{"line":125,"column":35},"end":{"line":125,"column":56}}},"14":{"name":"(anonymous_14)","line":134,"loc":{"start":{"line":134,"column":54},"end":{"line":134,"column":73}}},"15":{"name":"(anonymous_15)","line":143,"loc":{"start":{"line":143,"column":71},"end":{"line":143,"column":82}}},"16":{"name":"(anonymous_16)","line":148,"loc":{"start":{"line":148,"column":27},"end":{"line":148,"column":51}}},"17":{"name":"(anonymous_17)","line":176,"loc":{"start":{"line":176,"column":54},"end":{"line":176,"column":69}}},"18":{"name":"(anonymous_18)","line":185,"loc":{"start":{"line":185,"column":46},"end":{"line":185,"column":61}}},"19":{"name":"(anonymous_19)","line":196,"loc":{"start":{"line":196,"column":53},"end":{"line":196,"column":74}}},"20":{"name":"(anonymous_20)","line":201,"loc":{"start":{"line":201,"column":34},"end":{"line":201,"column":48}}},"21":{"name":"(anonymous_21)","line":211,"loc":{"start":{"line":211,"column":59},"end":{"line":211,"column":80}}},"22":{"name":"(anonymous_22)","line":219,"loc":{"start":{"line":219,"column":59},"end":{"line":219,"column":80}}},"23":{"name":"(anonymous_23)","line":228,"loc":{"start":{"line":228,"column":59},"end":{"line":228,"column":80}}},"24":{"name":"(anonymous_24)","line":235,"loc":{"start":{"line":235,"column":50},"end":{"line":235,"column":73}}},"25":{"name":"(anonymous_25)","line":245,"loc":{"start":{"line":245,"column":59},"end":{"line":245,"column":80}}},"26":{"name":"(anonymous_26)","line":253,"loc":{"start":{"line":253,"column":48},"end":{"line":253,"column":69}}},"27":{"name":"(anonymous_27)","line":263,"loc":{"start":{"line":263,"column":49},"end":{"line":263,"column":60}}},"28":{"name":"(anonymous_28)","line":270,"loc":{"start":{"line":270,"column":53},"end":{"line":270,"column":64}}},"29":{"name":"(anonymous_29)","line":279,"loc":{"start":{"line":279,"column":65},"end":{"line":279,"column":100}}},"30":{"name":"(anonymous_30)","line":282,"loc":{"start":{"line":282,"column":37},"end":{"line":282,"column":71}}},"31":{"name":"(anonymous_31)","line":299,"loc":{"start":{"line":299,"column":55},"end":{"line":299,"column":81}}},"32":{"name":"(anonymous_32)","line":300,"loc":{"start":{"line":300,"column":61},"end":{"line":300,"column":83}}},"33":{"name":"(anonymous_33)","line":315,"loc":{"start":{"line":315,"column":53},"end":{"line":315,"column":83}}},"34":{"name":"(anonymous_34)","line":316,"loc":{"start":{"line":316,"column":61},"end":{"line":316,"column":83}}},"35":{"name":"(anonymous_35)","line":325,"loc":{"start":{"line":325,"column":63},"end":{"line":325,"column":74}}},"36":{"name":"(anonymous_36)","line":332,"loc":{"start":{"line":332,"column":63},"end":{"line":332,"column":86}}},"37":{"name":"(anonymous_37)","line":334,"loc":{"start":{"line":334,"column":25},"end":{"line":334,"column":47}}},"38":{"name":"(anonymous_38)","line":345,"loc":{"start":{"line":345,"column":58},"end":{"line":345,"column":79}}},"39":{"name":"(anonymous_39)","line":353,"loc":{"start":{"line":353,"column":58},"end":{"line":353,"column":79}}},"40":{"name":"(anonymous_40)","line":361,"loc":{"start":{"line":361,"column":62},"end":{"line":361,"column":87}}},"41":{"name":"(anonymous_41)","line":369,"loc":{"start":{"line":369,"column":50},"end":{"line":369,"column":73}}},"42":{"name":"(anonymous_42)","line":372,"loc":{"start":{"line":372,"column":25},"end":{"line":372,"column":47}}},"43":{"name":"(anonymous_43)","line":387,"loc":{"start":{"line":387,"column":46},"end":{"line":387,"column":57}}},"44":{"name":"(anonymous_44)","line":391,"loc":{"start":{"line":391,"column":28},"end":{"line":391,"column":53}}},"45":{"name":"(anonymous_45)","line":405,"loc":{"start":{"line":405,"column":44},"end":{"line":405,"column":111}}},"46":{"name":"buildFlowIndex","line":417,"loc":{"start":{"line":417,"column":0},"end":{"line":417,"column":46}}},"47":{"name":"(anonymous_47)","line":420,"loc":{"start":{"line":420,"column":18},"end":{"line":420,"column":33}}},"48":{"name":"buildNameMap","line":438,"loc":{"start":{"line":438,"column":0},"end":{"line":438,"column":31}}},"49":{"name":"(anonymous_49)","line":441,"loc":{"start":{"line":441,"column":20},"end":{"line":441,"column":37}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":13,"column":0},"end":{"line":21,"column":2}},"3":{"start":{"line":14,"column":4},"end":{"line":14,"column":50}},"4":{"start":{"line":16,"column":4},"end":{"line":20,"column":7}},"5":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"6":{"start":{"line":28,"column":4},"end":{"line":28,"column":37}},"7":{"start":{"line":35,"column":0},"end":{"line":38,"column":2}},"8":{"start":{"line":36,"column":4},"end":{"line":36,"column":76}},"9":{"start":{"line":37,"column":4},"end":{"line":37,"column":54}},"10":{"start":{"line":46,"column":0},"end":{"line":69,"column":2}},"11":{"start":{"line":47,"column":4},"end":{"line":47,"column":25}},"12":{"start":{"line":48,"column":4},"end":{"line":48,"column":21}},"13":{"start":{"line":49,"column":4},"end":{"line":49,"column":26}},"14":{"start":{"line":50,"column":4},"end":{"line":50,"column":28}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":27}},"16":{"start":{"line":55,"column":4},"end":{"line":55,"column":36}},"17":{"start":{"line":56,"column":4},"end":{"line":56,"column":42}},"18":{"start":{"line":57,"column":4},"end":{"line":57,"column":42}},"19":{"start":{"line":58,"column":4},"end":{"line":58,"column":41}},"20":{"start":{"line":59,"column":4},"end":{"line":59,"column":41}},"21":{"start":{"line":60,"column":4},"end":{"line":60,"column":48}},"22":{"start":{"line":61,"column":4},"end":{"line":61,"column":24}},"23":{"start":{"line":62,"column":4},"end":{"line":62,"column":36}},"24":{"start":{"line":64,"column":4},"end":{"line":64,"column":40}},"25":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"26":{"start":{"line":67,"column":8},"end":{"line":67,"column":51}},"27":{"start":{"line":74,"column":0},"end":{"line":83,"column":2}},"28":{"start":{"line":75,"column":4},"end":{"line":75,"column":20}},"29":{"start":{"line":76,"column":4},"end":{"line":76,"column":52}},"30":{"start":{"line":78,"column":4},"end":{"line":82,"column":7}},"31":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"32":{"start":{"line":80,"column":12},"end":{"line":80,"column":54}},"33":{"start":{"line":89,"column":0},"end":{"line":94,"column":2}},"34":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"35":{"start":{"line":91,"column":8},"end":{"line":91,"column":54}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":44}},"37":{"start":{"line":100,"column":0},"end":{"line":102,"column":2}},"38":{"start":{"line":101,"column":4},"end":{"line":101,"column":42}},"39":{"start":{"line":108,"column":0},"end":{"line":110,"column":2}},"40":{"start":{"line":109,"column":4},"end":{"line":109,"column":50}},"41":{"start":{"line":115,"column":0},"end":{"line":119,"column":2}},"42":{"start":{"line":116,"column":4},"end":{"line":118,"column":7}},"43":{"start":{"line":117,"column":8},"end":{"line":117,"column":41}},"44":{"start":{"line":124,"column":0},"end":{"line":128,"column":2}},"45":{"start":{"line":125,"column":4},"end":{"line":127,"column":7}},"46":{"start":{"line":126,"column":8},"end":{"line":126,"column":44}},"47":{"start":{"line":134,"column":0},"end":{"line":139,"column":2}},"48":{"start":{"line":135,"column":4},"end":{"line":137,"column":5}},"49":{"start":{"line":136,"column":8},"end":{"line":136,"column":91}},"50":{"start":{"line":138,"column":4},"end":{"line":138,"column":73}},"51":{"start":{"line":143,"column":0},"end":{"line":170,"column":2}},"52":{"start":{"line":144,"column":4},"end":{"line":144,"column":19}},"53":{"start":{"line":145,"column":4},"end":{"line":145,"column":20}},"54":{"start":{"line":146,"column":4},"end":{"line":146,"column":50}},"55":{"start":{"line":148,"column":4},"end":{"line":167,"column":7}},"56":{"start":{"line":149,"column":8},"end":{"line":149,"column":56}},"57":{"start":{"line":150,"column":8},"end":{"line":150,"column":57}},"58":{"start":{"line":152,"column":8},"end":{"line":166,"column":9}},"59":{"start":{"line":153,"column":12},"end":{"line":162,"column":13}},"60":{"start":{"line":154,"column":16},"end":{"line":154,"column":49}},"61":{"start":{"line":155,"column":16},"end":{"line":159,"column":17}},"62":{"start":{"line":156,"column":20},"end":{"line":156,"column":46}},"63":{"start":{"line":158,"column":20},"end":{"line":158,"column":59}},"64":{"start":{"line":161,"column":16},"end":{"line":161,"column":164}},"65":{"start":{"line":164,"column":13},"end":{"line":165,"column":94}},"66":{"start":{"line":169,"column":4},"end":{"line":169,"column":17}},"67":{"start":{"line":176,"column":0},"end":{"line":179,"column":2}},"68":{"start":{"line":177,"column":4},"end":{"line":177,"column":40}},"69":{"start":{"line":178,"column":4},"end":{"line":178,"column":38}},"70":{"start":{"line":185,"column":0},"end":{"line":190,"column":2}},"71":{"start":{"line":186,"column":4},"end":{"line":188,"column":5}},"72":{"start":{"line":187,"column":8},"end":{"line":187,"column":59}},"73":{"start":{"line":189,"column":4},"end":{"line":189,"column":30}},"74":{"start":{"line":196,"column":0},"end":{"line":205,"column":2}},"75":{"start":{"line":197,"column":4},"end":{"line":197,"column":29}},"76":{"start":{"line":198,"column":4},"end":{"line":198,"column":20}},"77":{"start":{"line":199,"column":4},"end":{"line":199,"column":74}},"78":{"start":{"line":201,"column":4},"end":{"line":203,"column":7}},"79":{"start":{"line":202,"column":8},"end":{"line":202,"column":69}},"80":{"start":{"line":204,"column":4},"end":{"line":204,"column":27}},"81":{"start":{"line":211,"column":0},"end":{"line":213,"column":2}},"82":{"start":{"line":212,"column":4},"end":{"line":212,"column":91}},"83":{"start":{"line":219,"column":0},"end":{"line":222,"column":2}},"84":{"start":{"line":220,"column":4},"end":{"line":220,"column":66}},"85":{"start":{"line":221,"column":4},"end":{"line":221,"column":38}},"86":{"start":{"line":228,"column":0},"end":{"line":230,"column":2}},"87":{"start":{"line":229,"column":4},"end":{"line":229,"column":90}},"88":{"start":{"line":235,"column":0},"end":{"line":239,"column":2}},"89":{"start":{"line":236,"column":4},"end":{"line":236,"column":42}},"90":{"start":{"line":237,"column":4},"end":{"line":237,"column":42}},"91":{"start":{"line":238,"column":4},"end":{"line":238,"column":42}},"92":{"start":{"line":245,"column":0},"end":{"line":248,"column":2}},"93":{"start":{"line":246,"column":4},"end":{"line":246,"column":66}},"94":{"start":{"line":247,"column":4},"end":{"line":247,"column":38}},"95":{"start":{"line":253,"column":0},"end":{"line":258,"column":2}},"96":{"start":{"line":254,"column":4},"end":{"line":254,"column":36}},"97":{"start":{"line":255,"column":4},"end":{"line":255,"column":24}},"98":{"start":{"line":256,"column":4},"end":{"line":256,"column":48}},"99":{"start":{"line":257,"column":4},"end":{"line":257,"column":38}},"100":{"start":{"line":263,"column":0},"end":{"line":265,"column":2}},"101":{"start":{"line":264,"column":4},"end":{"line":264,"column":28}},"102":{"start":{"line":270,"column":0},"end":{"line":273,"column":2}},"103":{"start":{"line":271,"column":4},"end":{"line":271,"column":44}},"104":{"start":{"line":272,"column":4},"end":{"line":272,"column":52}},"105":{"start":{"line":279,"column":0},"end":{"line":293,"column":2}},"106":{"start":{"line":280,"column":4},"end":{"line":280,"column":20}},"107":{"start":{"line":282,"column":4},"end":{"line":292,"column":7}},"108":{"start":{"line":283,"column":8},"end":{"line":283,"column":96}},"109":{"start":{"line":285,"column":8},"end":{"line":291,"column":9}},"110":{"start":{"line":286,"column":12},"end":{"line":286,"column":48}},"111":{"start":{"line":287,"column":12},"end":{"line":287,"column":110}},"112":{"start":{"line":288,"column":12},"end":{"line":288,"column":73}},"113":{"start":{"line":289,"column":12},"end":{"line":289,"column":73}},"114":{"start":{"line":290,"column":12},"end":{"line":290,"column":47}},"115":{"start":{"line":299,"column":0},"end":{"line":309,"column":2}},"116":{"start":{"line":300,"column":4},"end":{"line":302,"column":7}},"117":{"start":{"line":301,"column":8},"end":{"line":301,"column":54}},"118":{"start":{"line":304,"column":4},"end":{"line":306,"column":5}},"119":{"start":{"line":305,"column":8},"end":{"line":305,"column":124}},"120":{"start":{"line":308,"column":4},"end":{"line":308,"column":27}},"121":{"start":{"line":315,"column":0},"end":{"line":320,"column":2}},"122":{"start":{"line":316,"column":4},"end":{"line":318,"column":7}},"123":{"start":{"line":317,"column":8},"end":{"line":317,"column":64}},"124":{"start":{"line":319,"column":4},"end":{"line":319,"column":27}},"125":{"start":{"line":325,"column":0},"end":{"line":327,"column":2}},"126":{"start":{"line":326,"column":4},"end":{"line":326,"column":42}},"127":{"start":{"line":332,"column":0},"end":{"line":339,"column":3}},"128":{"start":{"line":333,"column":4},"end":{"line":333,"column":20}},"129":{"start":{"line":334,"column":4},"end":{"line":338,"column":7}},"130":{"start":{"line":335,"column":8},"end":{"line":337,"column":9}},"131":{"start":{"line":336,"column":12},"end":{"line":336,"column":61}},"132":{"start":{"line":345,"column":0},"end":{"line":347,"column":2}},"133":{"start":{"line":346,"column":4},"end":{"line":346,"column":89}},"134":{"start":{"line":353,"column":0},"end":{"line":355,"column":2}},"135":{"start":{"line":354,"column":4},"end":{"line":354,"column":88}},"136":{"start":{"line":361,"column":0},"end":{"line":364,"column":2}},"137":{"start":{"line":362,"column":4},"end":{"line":362,"column":62}},"138":{"start":{"line":363,"column":4},"end":{"line":363,"column":52}},"139":{"start":{"line":369,"column":0},"end":{"line":381,"column":2}},"140":{"start":{"line":370,"column":4},"end":{"line":370,"column":20}},"141":{"start":{"line":372,"column":4},"end":{"line":380,"column":7}},"142":{"start":{"line":373,"column":8},"end":{"line":379,"column":9}},"143":{"start":{"line":374,"column":12},"end":{"line":374,"column":64}},"144":{"start":{"line":375,"column":12},"end":{"line":375,"column":48}},"145":{"start":{"line":376,"column":15},"end":{"line":379,"column":9}},"146":{"start":{"line":377,"column":12},"end":{"line":377,"column":64}},"147":{"start":{"line":378,"column":12},"end":{"line":378,"column":48}},"148":{"start":{"line":387,"column":0},"end":{"line":395,"column":2}},"149":{"start":{"line":388,"column":4},"end":{"line":388,"column":19}},"150":{"start":{"line":389,"column":4},"end":{"line":389,"column":52}},"151":{"start":{"line":391,"column":4},"end":{"line":393,"column":7}},"152":{"start":{"line":392,"column":8},"end":{"line":392,"column":54}},"153":{"start":{"line":394,"column":4},"end":{"line":394,"column":17}},"154":{"start":{"line":405,"column":0},"end":{"line":410,"column":2}},"155":{"start":{"line":406,"column":4},"end":{"line":408,"column":5}},"156":{"start":{"line":407,"column":8},"end":{"line":407,"column":82}},"157":{"start":{"line":409,"column":4},"end":{"line":409,"column":54}},"158":{"start":{"line":417,"column":0},"end":{"line":431,"column":1}},"159":{"start":{"line":418,"column":4},"end":{"line":418,"column":19}},"160":{"start":{"line":420,"column":4},"end":{"line":429,"column":7}},"161":{"start":{"line":421,"column":8},"end":{"line":421,"column":66}},"162":{"start":{"line":422,"column":8},"end":{"line":422,"column":31}},"163":{"start":{"line":424,"column":8},"end":{"line":428,"column":9}},"164":{"start":{"line":425,"column":12},"end":{"line":425,"column":29}},"165":{"start":{"line":427,"column":12},"end":{"line":427,"column":32}},"166":{"start":{"line":430,"column":4},"end":{"line":430,"column":17}},"167":{"start":{"line":438,"column":0},"end":{"line":452,"column":1}},"168":{"start":{"line":439,"column":4},"end":{"line":439,"column":17}},"169":{"start":{"line":441,"column":4},"end":{"line":449,"column":7}},"170":{"start":{"line":442,"column":8},"end":{"line":442,"column":31}},"171":{"start":{"line":444,"column":8},"end":{"line":448,"column":9}},"172":{"start":{"line":445,"column":12},"end":{"line":445,"column":83}},"173":{"start":{"line":447,"column":12},"end":{"line":447,"column":38}},"174":{"start":{"line":451,"column":4},"end":{"line":451,"column":15}}},"branchMap":{"1":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":25}},{"start":{"line":37,"column":29},"end":{"line":37,"column":52}}]},"2":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"3":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"4":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":12},"end":{"line":79,"column":35}},{"start":{"line":79,"column":39},"end":{"line":79,"column":84}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":4}},{"start":{"line":90,"column":4},"end":{"line":90,"column":4}}]},"6":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":4},"end":{"line":135,"column":4}},{"start":{"line":135,"column":4},"end":{"line":135,"column":4}}]},"7":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":65}},{"start":{"line":138,"column":69},"end":{"line":138,"column":71}}]},"8":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":8}},{"start":{"line":152,"column":8},"end":{"line":152,"column":8}}]},"9":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":12}},{"start":{"line":153,"column":12},"end":{"line":153,"column":12}}]},"10":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":16},"end":{"line":155,"column":16}},{"start":{"line":155,"column":16},"end":{"line":155,"column":16}}]},"11":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":4}},{"start":{"line":186,"column":4},"end":{"line":186,"column":4}}]},"12":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":8}},{"start":{"line":285,"column":8},"end":{"line":285,"column":8}}]},"13":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":4},"end":{"line":304,"column":4}},{"start":{"line":304,"column":4},"end":{"line":304,"column":4}}]},"14":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":8},"end":{"line":335,"column":8}},{"start":{"line":335,"column":8},"end":{"line":335,"column":8}}]},"15":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":8},"end":{"line":373,"column":8}},{"start":{"line":373,"column":8},"end":{"line":373,"column":8}}]},"16":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":15},"end":{"line":376,"column":15}},{"start":{"line":376,"column":15},"end":{"line":376,"column":15}}]},"17":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":4},"end":{"line":406,"column":4}},{"start":{"line":406,"column":4},"end":{"line":406,"column":4}}]},"18":{"line":409,"type":"binary-expr","locations":[{"start":{"line":409,"column":12},"end":{"line":409,"column":46}},{"start":{"line":409,"column":50},"end":{"line":409,"column":52}}]},"19":{"line":421,"type":"cond-expr","locations":[{"start":{"line":421,"column":34},"end":{"line":421,"column":48}},{"start":{"line":421,"column":51},"end":{"line":421,"column":65}}]},"20":{"line":424,"type":"if","locations":[{"start":{"line":424,"column":8},"end":{"line":424,"column":8}},{"start":{"line":424,"column":8},"end":{"line":424,"column":8}}]},"21":{"line":444,"type":"if","locations":[{"start":{"line":444,"column":8},"end":{"line":444,"column":8}},{"start":{"line":444,"column":8},"end":{"line":444,"column":8}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var parserUtils = require(\"./parserUtils\");","","/**"," * @param node"," * @param {DebuggerInterface=} debuggerInterface"," * @return {BPMNProcessDefinition}"," */","exports.createBPMNProcessDefinition = function(node, debuggerInterface) {","    var getValue = parserUtils.getAttributesValue;","","    return (new BPMNProcessDefinition(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        debuggerInterface","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isProcessName = function(localName) {","    return (localName === 'process');","};","","/**"," * @param node"," * @return {Boolean}"," */","exports.isExecutable = function(node) {","    var isExecutable = parserUtils.getAttributesValue(node, \"isExecutable\");","    return (!isExecutable || isExecutable === 'true');","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {DebuggerInterface=} debuggerInterface"," * @constructor"," */","var BPMNProcessDefinition = exports.BPMNProcessDefinition = function(bpmnId, name, debuggerInterface) {","    this.bpmnId = bpmnId;","    this.name = name;","    this.flowObjects = [];","    this.sequenceFlows = [];","    this.messageFlows = [];","","    // Process Elements = Flow objects + connection objects + artifacts","    // Semantics of these names is described in http://de.wikipedia.org/wiki/Business_Process_Model_and_Notation#Notation","    this.processElementIndex = null;","    this.sequenceFlowBySourceIndex = null;","    this.sequenceFlowByTargetIndex = null;","    this.messageFlowBySourceIndex = null;","    this.messageFlowByTargetIndex = null;","    this.boundaryEventsByAttachmentIndex = null;","    this.nameMap = null;","    this.isProcessDefinition = true;","    /** {Array.<BPMNParticipant>} */","    this.collaboratingParticipants = [];","","    if (debuggerInterface) {","        this.debuggerInterface = debuggerInterface;","    }","};","","/**"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNProcessDefinition.prototype.validate = function(errorQueue) {","    var self = this;","    var processElements = this.getProcessElements();","","    processElements.forEach(function(processElement) {","        if (processElement.validate && typeof processElement.validate === 'function') {","            processElement.validate(self, errorQueue);","        }","    });","};","","/**"," * @param {String} bpmnId"," * @return {*}"," */","BPMNProcessDefinition.prototype.getProcessElement = function(bpmnId) {","    if (!(this.processElementIndex)) {","        this.processElementIndex = this._buildIndex();","    }","    return this.processElementIndex[bpmnId];","};","","/**"," * @param {String} bpmnId"," * @return {BPMNFlowObject}"," */","BPMNProcessDefinition.prototype.getFlowObject = function(bpmnId) {","    return this.getProcessElement(bpmnId);","};","","/**"," * @param {{sourceRef: String}} flow"," * @return {BPMNFlowObject}"," */","BPMNProcessDefinition.prototype.getSourceFlowObject = function(flow) {","    return this.getProcessElement(flow.sourceRef);","};","","/**"," * @return {Array.<BPMNStartEvent>}"," */","BPMNProcessDefinition.prototype.getStartEvents = function() {","    return this.flowObjects.filter(function(flowObject) {","        return (flowObject.isStartEvent);","    });","};","","/**"," * @return {Array.<BPMNActivity>}"," */","BPMNProcessDefinition.prototype.getBoundaryEvents = function() {","    return this.flowObjects.filter(function(flowObject) {","        return (flowObject.isBoundaryEvent);","    });","};","","/**"," * @param {BPMNActivity} activity"," * @return {Array.<BPMNActivity>}"," */","BPMNProcessDefinition.prototype.getBoundaryEventsAt = function(activity) {","    if (!this.boundaryEventsByAttachmentIndex) {","        this.boundaryEventsByAttachmentIndex = this.buildBoundaryEventsByAttachmentIndex();","    }","    return (this.boundaryEventsByAttachmentIndex[activity.bpmnId] || []);","};","","/**"," */","BPMNProcessDefinition.prototype.buildBoundaryEventsByAttachmentIndex = function() {","    var index = {};","    var self = this;","    var boundaryEvents = this.getBoundaryEvents();","","    boundaryEvents.forEach(function(boundaryEvent) {","        var attachedToRef = boundaryEvent.attachedToRef;","        var activity = self.getFlowObject(attachedToRef);","","        if (activity) {","            if (activity.isWaitTask) {","                var entry = index[attachedToRef];","                if (entry) {","                    entry.push(boundaryEvent);","                } else {","                    index[attachedToRef] = [boundaryEvent];","                }","            } else {","                throw new Error(\"The activity '\" + activity.name + \"' has a boundary event but this is allowed only for wait tasks such as user or receive tasks.\");","            }","        } else {","             throw new Error(\"Cannot find the activity the boundary event '\" + boundaryEvent.name +","                \"' is attached to (activity BPMN ID: '\" + boundaryEvent.attachedToRef + \"'.\");","        }","    });","","    return index;","};","","/**"," * @param {String} name"," * @return {BPMNFlowObject}"," */","BPMNProcessDefinition.prototype.getFlowObjectByName = function(name) {","    var bpmnId = this.getIdByName(name);","    return this.getFlowObject(bpmnId);","};","","/**"," * @param {String} name"," * @return {String}"," */","BPMNProcessDefinition.prototype.getIdByName = function(name) {","    if (!(this.nameMap)) {","        this.nameMap = buildNameMap(this.getFlowObjects());","    }","    return this.nameMap[name];","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Array.<BPMNFlowObject>}"," */","BPMNProcessDefinition.prototype.getNextFlowObjects = function(flowObject) {","    var nextFlowObjects = [];","    var self = this;","    var outgoingSequenceFlows = this.getOutgoingSequenceFlows(flowObject);","","    outgoingSequenceFlows.forEach(function(flow){","        nextFlowObjects.push(self.getProcessElement(flow.targetRef));","    });","    return nextFlowObjects;","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Array.<BPMNSequenceFlow>}"," */","BPMNProcessDefinition.prototype.getIncomingSequenceFlows = function(flowObject) {","    return this._getFlows(\"sequenceFlowByTargetIndex\", \"sequenceFlows\", flowObject, false);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Boolean}"," */","BPMNProcessDefinition.prototype.hasIncomingSequenceFlows = function(flowObject) {","    var outgoingFlows = this.getIncomingSequenceFlows(flowObject);","    return (outgoingFlows.length > 0);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Array.<BPMNSequenceFlow>}"," */","BPMNProcessDefinition.prototype.getOutgoingSequenceFlows = function(flowObject) {","    return this._getFlows(\"sequenceFlowBySourceIndex\", \"sequenceFlows\", flowObject, true);","};","","/**"," * @param {BPMNSequenceFlow} sequenceFlow"," */","BPMNProcessDefinition.prototype.addSequenceFlow = function(sequenceFlow) {","    this.sequenceFlowBySourceIndex = null;","    this.sequenceFlowByTargetIndex = null;","    this.sequenceFlows.push(sequenceFlow);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Boolean}"," */","BPMNProcessDefinition.prototype.hasOutgoingSequenceFlows = function(flowObject) {","    var outgoingFlows = this.getOutgoingSequenceFlows(flowObject);","    return (outgoingFlows.length > 0);","};","","/**"," * @param {BPMNFlowObject} flowObject"," */","BPMNProcessDefinition.prototype.addFlowObject = function(flowObject) {","    this.processElementIndex = null;","    this.nameMap = null;","    this.boundaryEventsByAttachmentIndex = null;","    this.flowObjects.push(flowObject);","};","","/**"," * @return {Array.<BPMNFlowObject>}"," */","BPMNProcessDefinition.prototype.getFlowObjects = function() {","    return this.flowObjects;","};","","/**"," * @return {Array.<Object>}"," */","BPMNProcessDefinition.prototype.getProcessElements = function() {","    var flowObjects = this.getFlowObjects();","    return (flowObjects.concat(this.sequenceFlows));","};","","/**"," * Attach the collaborations participants and message flows to the process definitions for easier access"," * @param {Array.<BPMNCollaborationDefinition>} collaborationDefinitions"," */","BPMNProcessDefinition.prototype.attachCollaborationDefinitions = function(collaborationDefinitions) {","    var self = this;","","    collaborationDefinitions.forEach(function(collaborationDefinition) {","        var processParticipant = collaborationDefinition.getParticipantByProcessId(self.bpmnId);","","        if (processParticipant) {","            self.name = processParticipant.name;","            var collaboratingParticipants = collaborationDefinition.getCollaboratingParticipants(self.bpmnId);","            self.addCollaboratingParticipants(collaboratingParticipants);","            var messageFlows = collaborationDefinition.getMessageFlows();","            self.addMessageFlows(messageFlows);","        }","    });","};","","/**"," * @param {String} participantName"," * @return {BPMNParticipant}"," */","BPMNProcessDefinition.prototype.getParticipantByName = function(participantName) {","    var participants = this.collaboratingParticipants.filter(function(participant) {","        return (participant.name === participantName);","    });","","    if (participants.length > 1) {","        throw new Error(\"There is more than one collaboration participant having the same name: '\" + participantName + \"'\");","    }","","    return participants[0];","};","","/**"," * @param {String} processDefinitionId"," * @return {BPMNParticipant}"," */","BPMNProcessDefinition.prototype.getParticipantById = function(processDefinitionId) {","    var participants = this.collaboratingParticipants.filter(function(participant) {","        return (participant.processRef === processDefinitionId);","    });","    return participants[0];","};","","/**"," * @return {Array.<BPMNParticipant>}"," */","BPMNProcessDefinition.prototype.getCollaboratingParticipants = function() {","    return this.collaboratingParticipants;","};","","/**"," * @param {Array.<BPMNParticipant>} participants"," */","BPMNProcessDefinition.prototype.addCollaboratingParticipants = function(participants) {","    var self = this;","    participants.forEach(function(participant) {","        if (!self.getParticipantByName(participant.name)) {","            self.collaboratingParticipants.push(participant);","        }","    });"," };","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Array.<BPMNMessageFlow>}"," */","BPMNProcessDefinition.prototype.getIncomingMessageFlows = function(flowObject) {","    return this._getFlows(\"messageFlowByTargetIndex\", \"messageFlows\", flowObject, false);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Array.<BPMNMessageFlow>}"," */","BPMNProcessDefinition.prototype.getOutgoingMessageFlows = function(flowObject) {","    return this._getFlows(\"messageFlowBySourceIndex\", \"messageFlows\", flowObject, true);","};","","/**"," * @param {String} flowObjectName"," * @return {Array.<BPMNMessageFlow>}"," */","BPMNProcessDefinition.prototype.getMessageFlowsBySourceName = function(flowObjectName) {","    var flowObject = this.getFlowObjectByName(flowObjectName);","    return this.getOutgoingMessageFlows(flowObject);","};","","/**"," * @param {Array.<BPMNMessageFlow>} messageFlows"," */","BPMNProcessDefinition.prototype.addMessageFlows = function(messageFlows) {","    var self = this;","","    messageFlows.forEach(function(messageFlow) {","        if (self.getProcessElement(messageFlow.targetRef)) {","            messageFlow.targetProcessDefinitionId = self.bpmnId;","            self.messageFlows.push(messageFlow);","        } else if (self.getProcessElement(messageFlow.sourceRef)) {","            messageFlow.sourceProcessDefinitionId = self.bpmnId;","            self.messageFlows.push(messageFlow);","        }","    });","};","","/**"," * @return {Object}"," * @private"," */","BPMNProcessDefinition.prototype._buildIndex = function() {","    var index = {};","    var processElements = this.getProcessElements();","","    processElements.forEach(function(processElement) {","        index[processElement.bpmnId] = processElement;","    });","    return index;","};","","/**"," * @param {String} indexName"," * @param {String} flowContainerName"," * @param {BPMNFlowObject} flowObject"," * @param {Boolean} isOutgoingFlow"," * @returns {*|Array}"," * @private"," */","BPMNProcessDefinition.prototype._getFlows = function(indexName, flowContainerName, flowObject, isOutgoingFlow) {","    if (!this[indexName]) {","        this[indexName] = buildFlowIndex(this[flowContainerName], isOutgoingFlow);","    }","    return (this[indexName][flowObject.bpmnId] || []);","};","","/**"," * @param {Boolean} indexBySource If false or undefined, we index by target."," * @param {Array} flows"," * @return {Object}"," */","function buildFlowIndex(flows, indexBySource) {","    var index = {};","","    flows.forEach(function(flow) {","        var ref = indexBySource ? flow.sourceRef : flow.targetRef;","        var entry = index[ref];","","        if (entry) {","            entry.push(flow);","        } else {","            index[ref] = [flow];","        }","    });","    return index;","}","","/**"," * @param {Array.<{name: string, bpmnId: string}>} objects"," * @return {Object}"," * @private"," */","function buildNameMap(objects) {","    var map = {};","","    objects.forEach(function(object) {","        var name = object.name;","","        if (map[name]) {","            throw new Error(\"Process element name '\" + name + \"' must be unique.\");","        } else {","            map[name] = object.bpmnId;","        }","    });","","    return map;","}",""],"l":{"6":1,"13":1,"14":0,"16":0,"27":1,"28":0,"35":1,"36":0,"37":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"64":0,"66":0,"67":0,"74":1,"75":0,"76":0,"78":0,"79":0,"80":0,"89":1,"90":0,"91":0,"93":0,"100":1,"101":0,"108":1,"109":0,"115":1,"116":0,"117":0,"124":1,"125":0,"126":0,"134":1,"135":0,"136":0,"138":0,"143":1,"144":0,"145":0,"146":0,"148":0,"149":0,"150":0,"152":0,"153":0,"154":0,"155":0,"156":0,"158":0,"161":0,"164":0,"169":0,"176":1,"177":0,"178":0,"185":1,"186":0,"187":0,"189":0,"196":1,"197":0,"198":0,"199":0,"201":0,"202":0,"204":0,"211":1,"212":0,"219":1,"220":0,"221":0,"228":1,"229":0,"235":1,"236":0,"237":0,"238":0,"245":1,"246":0,"247":0,"253":1,"254":0,"255":0,"256":0,"257":0,"263":1,"264":0,"270":1,"271":0,"272":0,"279":1,"280":0,"282":0,"283":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"299":1,"300":0,"301":0,"304":0,"305":0,"308":0,"315":1,"316":0,"317":0,"319":0,"325":1,"326":0,"332":1,"333":0,"334":0,"335":0,"336":0,"345":1,"346":0,"353":1,"354":0,"361":1,"362":0,"363":0,"369":1,"370":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"387":1,"388":0,"389":0,"391":0,"392":0,"394":0,"405":1,"406":0,"407":0,"409":0,"417":1,"418":0,"420":0,"421":0,"422":0,"424":0,"425":0,"427":0,"430":0,"438":1,"439":0,"441":0,"442":0,"444":0,"445":0,"447":0,"451":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/tasks.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/tasks.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0},"b":{"1":[0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":25},"end":{"line":15,"column":40}}},"2":{"name":"(anonymous_2)","line":29,"loc":{"start":{"line":29,"column":21},"end":{"line":29,"column":41}}},"3":{"name":"(anonymous_3)","line":40,"loc":{"start":{"line":40,"column":34},"end":{"line":40,"column":63}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":30},"end":{"line":50,"column":70}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":57}},"4":{"start":{"line":15,"column":0},"end":{"line":23,"column":2}},"5":{"start":{"line":16,"column":4},"end":{"line":16,"column":50}},"6":{"start":{"line":18,"column":4},"end":{"line":22,"column":7}},"7":{"start":{"line":29,"column":0},"end":{"line":31,"column":2}},"8":{"start":{"line":30,"column":4},"end":{"line":30,"column":58}},"9":{"start":{"line":40,"column":0},"end":{"line":43,"column":2}},"10":{"start":{"line":41,"column":4},"end":{"line":41,"column":48}},"11":{"start":{"line":42,"column":4},"end":{"line":42,"column":112}},"12":{"start":{"line":44,"column":0},"end":{"line":44,"column":38}},"13":{"start":{"line":50,"column":0},"end":{"line":54,"column":2}},"14":{"start":{"line":51,"column":4},"end":{"line":51,"column":32}},"15":{"start":{"line":52,"column":4},"end":{"line":52,"column":68}},"16":{"start":{"line":53,"column":4},"end":{"line":53,"column":68}}},"branchMap":{"1":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":22},"end":{"line":42,"column":37}},{"start":{"line":42,"column":41},"end":{"line":42,"column":60}},{"start":{"line":42,"column":64},"end":{"line":42,"column":86}},{"start":{"line":42,"column":90},"end":{"line":42,"column":111}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils\");","","var BPMNActivity = require(\"./activity.js\").BPMNActivity;","","/**"," * @param node"," * @constructor"," */","exports.createBPMNTask = function(node) {","    var getValue = parserUtils.getAttributesValue;","","    return (new BPMNTask(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isTaskName = function(localName) {","    return (localName.toLowerCase().indexOf(\"task\") > -1);","};","","/**"," * Subsumes all kind of tasks"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNTask = exports.BPMNTask = function(bpmnId, name, type) {","    BPMNActivity.call(this, bpmnId, name, type);","    this.isWaitTask = type === 'task' || type === 'userTask' || type === 'receiveTask' || type === 'manualTask';","};","util.inherits(BPMNTask, BPMNActivity);","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNTask.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertOutgoingSequenceFlows(processDefinition, errorQueue);","};"],"l":{"6":1,"7":1,"9":1,"15":1,"16":0,"18":0,"29":1,"30":0,"40":1,"41":0,"42":0,"44":1,"50":1,"51":0,"52":0,"53":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/activity.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/activity.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":42},"end":{"line":17,"column":71}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":63}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"4":{"start":{"line":17,"column":0},"end":{"line":20,"column":2}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":50}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":27}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":44}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","exports.activityEndHandlerPostfix = \"Done\";","/**"," * Subsumes all kind of tasks"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNActivity = exports.BPMNActivity = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isActivity = true;","};","util.inherits(BPMNActivity, BPMNFlowObject);",""],"l":{"6":1,"7":1,"9":1,"17":1,"18":0,"19":0,"21":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/flowObject.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/flowObject.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":46},"end":{"line":14,"column":75}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":38},"end":{"line":26,"column":69}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":52},"end":{"line":28,"column":63}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":38},"end":{"line":30,"column":69}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":38},"end":{"line":39,"column":59}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":55},"end":{"line":50,"column":95}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":57},"end":{"line":60,"column":97}}},"8":{"name":"(anonymous_8)","line":71,"loc":{"start":{"line":71,"column":57},"end":{"line":71,"column":97}}},"9":{"name":"(anonymous_9)","line":81,"loc":{"start":{"line":81,"column":55},"end":{"line":81,"column":95}}},"10":{"name":"(anonymous_10)","line":91,"loc":{"start":{"line":91,"column":57},"end":{"line":91,"column":97}}}},"statementMap":{"1":{"start":{"line":14,"column":0},"end":{"line":19,"column":2}},"2":{"start":{"line":15,"column":4},"end":{"line":15,"column":25}},"3":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":21}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":29}},"6":{"start":{"line":26,"column":0},"end":{"line":34,"column":2}},"7":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"8":{"start":{"line":28,"column":4},"end":{"line":33,"column":7}},"9":{"start":{"line":29,"column":8},"end":{"line":29,"column":100}},"10":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"11":{"start":{"line":31,"column":12},"end":{"line":31,"column":76}},"12":{"start":{"line":39,"column":0},"end":{"line":44,"column":2}},"13":{"start":{"line":40,"column":4},"end":{"line":40,"column":32}},"14":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"15":{"start":{"line":42,"column":8},"end":{"line":42,"column":129}},"16":{"start":{"line":50,"column":0},"end":{"line":54,"column":2}},"17":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"18":{"start":{"line":52,"column":8},"end":{"line":52,"column":133}},"19":{"start":{"line":60,"column":0},"end":{"line":65,"column":2}},"20":{"start":{"line":61,"column":4},"end":{"line":61,"column":73}},"21":{"start":{"line":62,"column":4},"end":{"line":64,"column":5}},"22":{"start":{"line":63,"column":8},"end":{"line":63,"column":132}},"23":{"start":{"line":71,"column":0},"end":{"line":75,"column":2}},"24":{"start":{"line":72,"column":4},"end":{"line":74,"column":5}},"25":{"start":{"line":73,"column":8},"end":{"line":73,"column":125}},"26":{"start":{"line":81,"column":0},"end":{"line":85,"column":2}},"27":{"start":{"line":82,"column":4},"end":{"line":84,"column":5}},"28":{"start":{"line":83,"column":8},"end":{"line":83,"column":133}},"29":{"start":{"line":91,"column":0},"end":{"line":95,"column":2}},"30":{"start":{"line":92,"column":4},"end":{"line":94,"column":5}},"31":{"start":{"line":93,"column":8},"end":{"line":93,"column":125}}},"branchMap":{"1":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"2":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"3":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"4":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"5":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"6":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * Subsumes all kind process elements that have incoming and outgoing flows."," * Name according to http://de.wikipedia.org/wiki/Business_Process_Model_and_Notation#Notation"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNFlowObject = exports.BPMNFlowObject = function(bpmnId, name, type) {","    this.bpmnId = bpmnId;","    this.name = name;","    this.type = type;","    this.isFlowObject = true;","};","","/**"," * Semantics: emit tokens along all outgoing flows. This is the default behavior"," * @param {BPMNProcess} currentProcess"," * @param {Object} data"," */","BPMNFlowObject.prototype.emitTokens = function(currentProcess, data) {","    var self = this;","    currentProcess.onFlowObjectEnd(self.name, data, function() {","        var outgoingSequenceFlows = currentProcess.processDefinition.getOutgoingSequenceFlows(self);","        outgoingSequenceFlows.forEach(function(outgoingSequenceFlow) {","            currentProcess.emitTokenAlong(self, outgoingSequenceFlow, data);","        });","    });","};","","/**"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertName = function(errorQueue) {","    var name = this.name.trim();","    if (name === \"\") {","        errorQueue.addError(\"FO1\", this, \"Found a \" + this.type + \" flow object having no name. BPMN id='\" + this.bpmnId + \"'.\");","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertOutgoingSequenceFlows = function(processDefinition, errorQueue) {","    if (!processDefinition.hasOutgoingSequenceFlows(this)) {","        errorQueue.addError(\"FO2\", this, \"The \" + this.type + \" '\" + this.name + \"' must have at least one outgoing sequence flow.\");","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertOneOutgoingSequenceFlow = function(processDefinition, errorQueue) {","    var outgoingFlows = processDefinition.getOutgoingSequenceFlows(this);","    if (outgoingFlows.length !== 1) {","        errorQueue.addError(\"FO3\", this, \"The \" + this.type + \" '\" + this.name + \"' must have exactly one outgoing sequence flow.\");","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertNoOutgoingSequenceFlows = function(processDefinition, errorQueue) {","    if (processDefinition.hasOutgoingSequenceFlows(this)) {","        errorQueue.addError(\"FO4\", this, \"The \" + this.type + \" '\" + this.name + \"' must not have outgoing sequence flows.\");","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertIncomingSequenceFlows = function(processDefinition, errorQueue) {","    if (!processDefinition.hasIncomingSequenceFlows(this)) {","        errorQueue.addError(\"FO5\", this, \"The \" + this.type + \" '\" + this.name + \"' must have at least one incoming sequence flow.\");","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNFlowObject.prototype.assertNoIncomingSequenceFlows = function(processDefinition, errorQueue) {","    if (processDefinition.hasIncomingSequenceFlows(this)) {","        errorQueue.addError(\"FO5\", this, \"The \" + this.type + \" '\" + this.name + \"' must not have incoming sequence flows.\");","    }","};","",""],"l":{"14":1,"15":0,"16":0,"17":0,"18":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"39":1,"40":0,"41":0,"42":0,"50":1,"51":0,"52":0,"60":1,"61":0,"62":0,"63":0,"71":1,"72":0,"73":0,"81":1,"82":0,"83":0,"91":1,"92":0,"93":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/startEvents.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/startEvents.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":46}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":27},"end":{"line":28,"column":47}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":46},"end":{"line":39,"column":75}}},"4":{"name":"(anonymous_4)","line":49,"loc":{"start":{"line":49,"column":36},"end":{"line":49,"column":76}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":63}},"4":{"start":{"line":14,"column":0},"end":{"line":22,"column":2}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":50}},"6":{"start":{"line":17,"column":4},"end":{"line":21,"column":7}},"7":{"start":{"line":28,"column":0},"end":{"line":30,"column":2}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":59}},"9":{"start":{"line":39,"column":0},"end":{"line":42,"column":2}},"10":{"start":{"line":40,"column":4},"end":{"line":40,"column":50}},"11":{"start":{"line":41,"column":4},"end":{"line":41,"column":29}},"12":{"start":{"line":43,"column":0},"end":{"line":43,"column":46}},"13":{"start":{"line":49,"column":0},"end":{"line":53,"column":2}},"14":{"start":{"line":50,"column":4},"end":{"line":50,"column":32}},"15":{"start":{"line":51,"column":4},"end":{"line":51,"column":70}},"16":{"start":{"line":52,"column":4},"end":{"line":52,"column":70}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils\");","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","/**"," * @param node"," * @return {BPMNStartEvent}"," */","exports.createBPMNStartEvent = function(node) {","    var getValue = parserUtils.getAttributesValue;","","    return (new BPMNStartEvent(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isStartEventName = function(localName) {","    return (localName.toLowerCase().indexOf(\"start\") > -1);","};","","/**"," * Subsumes all kind of start events"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNStartEvent = exports.BPMNStartEvent = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isStartEvent = true;","};","util.inherits(BPMNStartEvent, BPMNFlowObject);","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNStartEvent.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertNoIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertOneOutgoingSequenceFlow(processDefinition, errorQueue);","};"],"l":{"6":1,"7":1,"8":1,"14":1,"15":0,"17":0,"28":1,"29":0,"39":1,"40":0,"41":0,"43":1,"49":1,"50":0,"51":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/boundaryEvents.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/boundaryEvents.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":34},"end":{"line":14,"column":49}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":30},"end":{"line":28,"column":50}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":27},"end":{"line":36,"column":47}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":52},"end":{"line":48,"column":96}}},"5":{"name":"(anonymous_5)","line":59,"loc":{"start":{"line":59,"column":39},"end":{"line":59,"column":79}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":63}},"4":{"start":{"line":14,"column":0},"end":{"line":22,"column":2}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":50}},"6":{"start":{"line":16,"column":4},"end":{"line":21,"column":7}},"7":{"start":{"line":28,"column":0},"end":{"line":30,"column":2}},"8":{"start":{"line":29,"column":4},"end":{"line":29,"column":43}},"9":{"start":{"line":36,"column":0},"end":{"line":38,"column":2}},"10":{"start":{"line":37,"column":4},"end":{"line":37,"column":50}},"11":{"start":{"line":48,"column":0},"end":{"line":52,"column":2}},"12":{"start":{"line":49,"column":4},"end":{"line":49,"column":50}},"13":{"start":{"line":50,"column":4},"end":{"line":50,"column":32}},"14":{"start":{"line":51,"column":4},"end":{"line":51,"column":39}},"15":{"start":{"line":53,"column":0},"end":{"line":53,"column":49}},"16":{"start":{"line":59,"column":0},"end":{"line":63,"column":2}},"17":{"start":{"line":60,"column":4},"end":{"line":60,"column":32}},"18":{"start":{"line":61,"column":4},"end":{"line":61,"column":70}},"19":{"start":{"line":62,"column":4},"end":{"line":62,"column":70}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils\");","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","/**"," * @param node"," * @return {BPMNBoundaryEvent}"," */","exports.createBPMNBoundaryEvent = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNBoundaryEvent(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        getValue(node, \"attachedToRef\")","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isBoundaryEventName = function(localName) {","    return (localName === \"boundaryEvent\");","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isTimerEventName = function(localName) {","    return (localName === \"timerEventDefinition\");","};","","/**"," * Subsumes all kind of start events"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {String} attachedToRef"," * @constructor"," */","var BPMNBoundaryEvent = exports.BPMNBoundaryEvent = function(bpmnId, name, type, attachedToRef) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isBoundaryEvent = true;","    this.attachedToRef = attachedToRef;","};","util.inherits(BPMNBoundaryEvent, BPMNFlowObject);","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNBoundaryEvent.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertNoIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertOneOutgoingSequenceFlow(processDefinition, errorQueue);","};"],"l":{"6":1,"7":1,"8":1,"14":1,"15":0,"16":0,"28":1,"29":0,"36":1,"37":0,"48":1,"49":0,"50":0,"51":0,"53":1,"59":1,"60":0,"61":0,"62":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/endEvents.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/endEvents.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":29},"end":{"line":14,"column":44}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":45}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":42},"end":{"line":38,"column":71}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":67}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":55},"end":{"line":54,"column":66}}},"6":{"name":"(anonymous_6)","line":69,"loc":{"start":{"line":69,"column":34},"end":{"line":69,"column":74}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":63}},"4":{"start":{"line":14,"column":0},"end":{"line":21,"column":2}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":50}},"6":{"start":{"line":16,"column":4},"end":{"line":20,"column":7}},"7":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"8":{"start":{"line":28,"column":4},"end":{"line":28,"column":57}},"9":{"start":{"line":38,"column":0},"end":{"line":41,"column":2}},"10":{"start":{"line":39,"column":4},"end":{"line":39,"column":50}},"11":{"start":{"line":40,"column":4},"end":{"line":40,"column":27}},"12":{"start":{"line":42,"column":0},"end":{"line":42,"column":44}},"13":{"start":{"line":50,"column":0},"end":{"line":63,"column":2}},"14":{"start":{"line":51,"column":4},"end":{"line":51,"column":33}},"15":{"start":{"line":52,"column":4},"end":{"line":52,"column":53}},"16":{"start":{"line":54,"column":4},"end":{"line":62,"column":7}},"17":{"start":{"line":55,"column":8},"end":{"line":61,"column":9}},"18":{"start":{"line":56,"column":12},"end":{"line":56,"column":78}},"19":{"start":{"line":57,"column":12},"end":{"line":57,"column":54}},"20":{"start":{"line":58,"column":12},"end":{"line":58,"column":78}},"21":{"start":{"line":60,"column":12},"end":{"line":60,"column":60}},"22":{"start":{"line":69,"column":0},"end":{"line":73,"column":2}},"23":{"start":{"line":70,"column":4},"end":{"line":70,"column":32}},"24":{"start":{"line":71,"column":4},"end":{"line":71,"column":68}},"25":{"start":{"line":72,"column":4},"end":{"line":72,"column":70}}},"branchMap":{"1":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":8}},{"start":{"line":55,"column":8},"end":{"line":55,"column":8}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils.js\");","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","/**"," * @param node"," * @return {BPMNEndEvent}"," */","exports.createBPMNEndEvent = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNEndEvent(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isEndEventName = function(localName) {","    return (localName.toLowerCase().indexOf(\"end\") > -1);","};","","/**"," * Subsumes all kind of end events"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNEndEvent = exports.BPMNEndEvent = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isEndEvent = true;","};","util.inherits(BPMNEndEvent, BPMNFlowObject);","","/**"," * Semantics: emit token to the parent process - if there is one. Otherwise we are at the end"," *          of the main process and thus delete it from the cache."," * @param {BPMNProcess} currentProcess"," * @param {Object} data"," */","BPMNEndEvent.prototype.emitTokens = function(currentProcess, data) {","    var endEventName = this.name;","    var parentProcess = currentProcess.parentProcess;","","    currentProcess.onFlowObjectEnd(endEventName, data, function() {","        if (parentProcess) {","            var currentCallActivityName = currentProcess.parentToken.position;","            currentProcess.onProcessEnd(endEventName);","            parentProcess.emitActivityEndEvent(currentCallActivityName, data);","        } else {","            currentProcess.onProcessEnd(endEventName, true);","        }","    });","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNEndEvent.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertNoOutgoingSequenceFlows(processDefinition, errorQueue);","};"],"l":{"6":1,"7":1,"8":1,"14":1,"15":0,"16":0,"27":1,"28":0,"38":1,"39":0,"40":0,"42":1,"50":1,"51":0,"52":0,"54":0,"55":0,"56":0,"57":0,"58":0,"60":0,"69":1,"70":0,"71":0,"72":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/sequenceFlows.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/sequenceFlows.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":33},"end":{"line":12,"column":48}}},"2":{"name":"(anonymous_2)","line":28,"loc":{"start":{"line":28,"column":29},"end":{"line":28,"column":49}}},"3":{"name":"(anonymous_3)","line":40,"loc":{"start":{"line":40,"column":50},"end":{"line":40,"column":101}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":12,"column":0},"end":{"line":22,"column":2}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"4":{"start":{"line":15,"column":4},"end":{"line":21,"column":7}},"5":{"start":{"line":28,"column":0},"end":{"line":30,"column":2}},"6":{"start":{"line":29,"column":4},"end":{"line":29,"column":66}},"7":{"start":{"line":40,"column":0},"end":{"line":47,"column":2}},"8":{"start":{"line":41,"column":4},"end":{"line":41,"column":25}},"9":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}},"10":{"start":{"line":43,"column":4},"end":{"line":43,"column":21}},"11":{"start":{"line":44,"column":4},"end":{"line":44,"column":31}},"12":{"start":{"line":45,"column":4},"end":{"line":45,"column":31}},"13":{"start":{"line":46,"column":4},"end":{"line":46,"column":31}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var parserUtils = require(\"./parserUtils\");","","/**"," * @param node"," * @constructor"," */","exports.createBPMNSequenceFlow = function(node) {","    var getValue = parserUtils.getAttributesValue;","","    return (new BPMNSequenceFlow(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        getValue(node, \"sourceRef\"),","        getValue(node, \"targetRef\")","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isSequenceFlowName = function(localName) {","    return (localName.toLowerCase().indexOf(\"sequenceflow\") > -1);","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {String} sourceRef"," * @param {String} targetRef"," * @constructor"," */","var BPMNSequenceFlow = exports.BPMNSequenceFlow = function(bpmnId, name, type, sourceRef, targetRef) {","    this.bpmnId = bpmnId;","    this.name = name;","    this.type = type;","    this.sourceRef = sourceRef;","    this.targetRef = targetRef;","    this.isSequenceFlow = true;","};",""],"l":{"6":1,"12":1,"13":0,"15":0,"28":1,"29":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/gateways.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/gateways.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":1,"22":0,"23":0,"24":1,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":1,"59":0,"60":0,"61":1,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":1,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":24},"end":{"line":15,"column":44}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":55}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":29},"end":{"line":46,"column":49}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":58},"end":{"line":56,"column":87}}},"5":{"name":"(anonymous_5)","line":67,"loc":{"start":{"line":67,"column":44},"end":{"line":67,"column":75}}},"6":{"name":"(anonymous_6)","line":74,"loc":{"start":{"line":74,"column":52},"end":{"line":74,"column":63}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":38},"end":{"line":75,"column":69}}},"8":{"name":"(anonymous_8)","line":105,"loc":{"start":{"line":105,"column":42},"end":{"line":105,"column":82}}},"9":{"name":"(anonymous_9)","line":112,"loc":{"start":{"line":112,"column":34},"end":{"line":112,"column":65}}},"10":{"name":"(anonymous_10)","line":125,"loc":{"start":{"line":125,"column":28},"end":{"line":125,"column":48}}},"11":{"name":"(anonymous_11)","line":135,"loc":{"start":{"line":135,"column":56},"end":{"line":135,"column":85}}},"12":{"name":"(anonymous_12)","line":146,"loc":{"start":{"line":146,"column":43},"end":{"line":146,"column":67}}},"13":{"name":"(anonymous_13)","line":156,"loc":{"start":{"line":156,"column":49},"end":{"line":156,"column":60}}},"14":{"name":"(anonymous_14)","line":159,"loc":{"start":{"line":159,"column":42},"end":{"line":159,"column":72}}},"15":{"name":"(anonymous_15)","line":172,"loc":{"start":{"line":172,"column":41},"end":{"line":172,"column":81}}},"16":{"name":"assertGatewayFlowCardinality","line":181,"loc":{"start":{"line":181,"column":0},"end":{"line":181,"column":78}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":63}},"5":{"start":{"line":15,"column":0},"end":{"line":17,"column":2}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":61}},"7":{"start":{"line":24,"column":0},"end":{"line":39,"column":2}},"8":{"start":{"line":25,"column":4},"end":{"line":25,"column":59}},"9":{"start":{"line":26,"column":4},"end":{"line":26,"column":23}},"10":{"start":{"line":27,"column":4},"end":{"line":27,"column":31}},"11":{"start":{"line":28,"column":4},"end":{"line":28,"column":47}},"12":{"start":{"line":29,"column":4},"end":{"line":29,"column":43}},"13":{"start":{"line":31,"column":4},"end":{"line":37,"column":5}},"14":{"start":{"line":32,"column":8},"end":{"line":32,"column":65}},"15":{"start":{"line":33,"column":11},"end":{"line":37,"column":5}},"16":{"start":{"line":34,"column":8},"end":{"line":34,"column":64}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":146}},"18":{"start":{"line":38,"column":4},"end":{"line":38,"column":19}},"19":{"start":{"line":46,"column":0},"end":{"line":48,"column":2}},"20":{"start":{"line":47,"column":4},"end":{"line":47,"column":46}},"21":{"start":{"line":56,"column":0},"end":{"line":59,"column":2}},"22":{"start":{"line":57,"column":4},"end":{"line":57,"column":50}},"23":{"start":{"line":58,"column":4},"end":{"line":58,"column":35}},"24":{"start":{"line":60,"column":0},"end":{"line":60,"column":52}},"25":{"start":{"line":67,"column":0},"end":{"line":99,"column":3}},"26":{"start":{"line":68,"column":4},"end":{"line":68,"column":20}},"27":{"start":{"line":69,"column":4},"end":{"line":69,"column":29}},"28":{"start":{"line":70,"column":4},"end":{"line":70,"column":96}},"29":{"start":{"line":71,"column":4},"end":{"line":71,"column":55}},"30":{"start":{"line":72,"column":4},"end":{"line":72,"column":20}},"31":{"start":{"line":74,"column":4},"end":{"line":98,"column":7}},"32":{"start":{"line":75,"column":8},"end":{"line":97,"column":11}},"33":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"34":{"start":{"line":77,"column":16},"end":{"line":77,"column":23}},"35":{"start":{"line":80,"column":12},"end":{"line":96,"column":13}},"36":{"start":{"line":81,"column":16},"end":{"line":81,"column":99}},"37":{"start":{"line":82,"column":16},"end":{"line":89,"column":17}},"38":{"start":{"line":83,"column":20},"end":{"line":86,"column":21}},"39":{"start":{"line":84,"column":24},"end":{"line":84,"column":177}},"40":{"start":{"line":85,"column":24},"end":{"line":85,"column":61}},"41":{"start":{"line":87,"column":20},"end":{"line":87,"column":84}},"42":{"start":{"line":88,"column":20},"end":{"line":88,"column":40}},"43":{"start":{"line":91,"column":16},"end":{"line":93,"column":17}},"44":{"start":{"line":92,"column":20},"end":{"line":92,"column":57}},"45":{"start":{"line":94,"column":16},"end":{"line":94,"column":80}},"46":{"start":{"line":95,"column":16},"end":{"line":95,"column":36}},"47":{"start":{"line":105,"column":0},"end":{"line":119,"column":2}},"48":{"start":{"line":106,"column":4},"end":{"line":106,"column":20}},"49":{"start":{"line":108,"column":4},"end":{"line":108,"column":32}},"50":{"start":{"line":109,"column":4},"end":{"line":109,"column":70}},"51":{"start":{"line":111,"column":4},"end":{"line":111,"column":81}},"52":{"start":{"line":112,"column":4},"end":{"line":118,"column":7}},"53":{"start":{"line":113,"column":8},"end":{"line":113,"column":45}},"54":{"start":{"line":114,"column":8},"end":{"line":117,"column":9}},"55":{"start":{"line":115,"column":12},"end":{"line":116,"column":96}},"56":{"start":{"line":125,"column":0},"end":{"line":127,"column":2}},"57":{"start":{"line":126,"column":4},"end":{"line":126,"column":45}},"58":{"start":{"line":135,"column":0},"end":{"line":138,"column":2}},"59":{"start":{"line":136,"column":4},"end":{"line":136,"column":50}},"60":{"start":{"line":137,"column":4},"end":{"line":137,"column":34}},"61":{"start":{"line":139,"column":0},"end":{"line":139,"column":51}},"62":{"start":{"line":146,"column":0},"end":{"line":166,"column":2}},"63":{"start":{"line":147,"column":4},"end":{"line":147,"column":20}},"64":{"start":{"line":148,"column":4},"end":{"line":148,"column":30}},"65":{"start":{"line":149,"column":4},"end":{"line":149,"column":96}},"66":{"start":{"line":150,"column":4},"end":{"line":150,"column":23}},"67":{"start":{"line":152,"column":4},"end":{"line":152,"column":54}},"68":{"start":{"line":154,"column":4},"end":{"line":154,"column":50}},"69":{"start":{"line":155,"column":4},"end":{"line":165,"column":5}},"70":{"start":{"line":156,"column":8},"end":{"line":162,"column":10}},"71":{"start":{"line":157,"column":12},"end":{"line":157,"column":42}},"72":{"start":{"line":158,"column":12},"end":{"line":158,"column":97}},"73":{"start":{"line":159,"column":12},"end":{"line":161,"column":15}},"74":{"start":{"line":160,"column":16},"end":{"line":160,"column":73}},"75":{"start":{"line":164,"column":8},"end":{"line":164,"column":26}},"76":{"start":{"line":172,"column":0},"end":{"line":174,"column":2}},"77":{"start":{"line":173,"column":4},"end":{"line":173,"column":70}},"78":{"start":{"line":181,"column":0},"end":{"line":197,"column":1}},"79":{"start":{"line":182,"column":4},"end":{"line":182,"column":80}},"80":{"start":{"line":184,"column":4},"end":{"line":184,"column":71}},"81":{"start":{"line":185,"column":4},"end":{"line":185,"column":71}},"82":{"start":{"line":187,"column":4},"end":{"line":196,"column":5}},"83":{"start":{"line":188,"column":8},"end":{"line":188,"column":84}},"84":{"start":{"line":189,"column":8},"end":{"line":189,"column":84}},"85":{"start":{"line":191,"column":8},"end":{"line":191,"column":55}},"86":{"start":{"line":192,"column":8},"end":{"line":192,"column":56}},"87":{"start":{"line":193,"column":8},"end":{"line":195,"column":9}},"88":{"start":{"line":194,"column":12},"end":{"line":194,"column":169}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"2":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":11},"end":{"line":33,"column":11}},{"start":{"line":33,"column":11},"end":{"line":33,"column":11}}]},"3":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"4":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":12}},{"start":{"line":80,"column":12},"end":{"line":80,"column":12}}]},"5":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":16},"end":{"line":82,"column":16}},{"start":{"line":82,"column":16},"end":{"line":82,"column":16}}]},"6":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":20},"end":{"line":83,"column":20}},{"start":{"line":83,"column":20},"end":{"line":83,"column":20}}]},"7":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":16}},{"start":{"line":91,"column":16},"end":{"line":91,"column":16}}]},"8":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":8}},{"start":{"line":114,"column":8},"end":{"line":114,"column":8}}]},"9":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":12},"end":{"line":114,"column":17}},{"start":{"line":114,"column":21},"end":{"line":114,"column":39}}]},"10":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]},"11":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]},"12":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":8},"end":{"line":193,"column":8}},{"start":{"line":193,"column":8},"end":{"line":193,"column":8}}]},"13":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":12},"end":{"line":193,"column":24}},{"start":{"line":193,"column":28},"end":{"line":193,"column":41}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var handler = require('../handler.js');","var parserUtils = require(\"./parserUtils\");","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isGatewayName = function(localName) {","    return (localName.toLowerCase().indexOf(\"gateway\") > -1);","};","","/**"," * @param node"," * @param {BPMNParseErrorQueue} errorQueue"," * @return {BPMNExclusiveGateway|BPMNParallelGateway}"," */","exports.createBPMNGateway = function(node, errorQueue) {","    var getAttributeValue = parserUtils.getAttributesValue;","    var gateway = null;","    var localName = node.local;","    var name = getAttributeValue(node, \"name\");","    var id = getAttributeValue(node, \"id\");","","    if (isExclusiveGatewayName(localName)) {","        gateway = new BPMNExclusiveGateway(id, name, node.local);","    } else if (isParallelGatewayName(localName)) {","        gateway = new BPMNParallelGateway(id, name, node.local);","    } else {","        errorQueue.addError(\"UnsupportedGateway\", {bpmnId: id, name: name, type: node.local}, \"The gateway '\" + name + \"' is not supported yet.\");","    }","    return gateway;","};","","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","var isExclusiveGatewayName = function(localName) {","    return (localName === \"exclusiveGateway\");","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNExclusiveGateway = exports.BPMNExclusiveGateway = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isExclusiveGateway = true;","};","util.inherits(BPMNExclusiveGateway, BPMNFlowObject);","","/**"," * Semantics: emit token along the first outgoing flow having an event handler that evaluates to true"," * @param {BPMNProcess} currentProcess"," * @param {Object} data"," */","BPMNExclusiveGateway.prototype.emitTokens = function(currentProcess, data) {","    var self = this;","    var emittedToken = false;","    var outgoingSequenceFlows = currentProcess.processDefinition.getOutgoingSequenceFlows(self);","    var isDiverging = outgoingSequenceFlows.length > 1;","    var handlerName;","","    currentProcess.onFlowObjectEnd(self.name, data, function() {","        outgoingSequenceFlows.forEach(function(outgoingSequenceFlow) {","            if (emittedToken) {","                return;","            }","","            if (isDiverging) {","                handlerName = self.name + handler.handlerNameSeparator + outgoingSequenceFlow.name;","                if (handler.callHandler(handlerName, currentProcess, data)) {","                    if(currentProcess.getCurrentTrx()){","                        currentProcess.getCurrentTrx().processChoice(currentProcess.processDefinition.name, currentProcess.getProcessId(), self.name, outgoingSequenceFlow.name);","                        currentProcess.getCurrentTrx().end();","                    }","                    currentProcess.emitTokenAlong(self, outgoingSequenceFlow, data);","                    emittedToken = true;","                }","            } else {","                if(currentProcess.getCurrentTrx()){","                    currentProcess.getCurrentTrx().end();","                }","                currentProcess.emitTokenAlong(self, outgoingSequenceFlow, data);","                emittedToken = true;","            }","        });","    });"," };","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNExclusiveGateway.prototype.validate = function(processDefinition, errorQueue) {","    var self = this;","","    this.assertName(errorQueue);","    assertGatewayFlowCardinality(this, processDefinition, errorQueue);","","    var outgoingSequenceFlows = processDefinition.getOutgoingSequenceFlows(this);","    outgoingSequenceFlows.forEach(function(outgoingSequenceFlow) {","        var name = outgoingSequenceFlow.name;","        if (!name || name.trim() === '') {","            errorQueue.addError(\"XG1\", outgoingSequenceFlow,","                \"Outgoing flows of the \" + self.type + \" '\" + self.name + \"' must have names.\");","        }","    });","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","var isParallelGatewayName = function(localName) {","    return (localName === \"parallelGateway\");","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNParallelGateway = exports.BPMNParallelGateway = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isParallelGateway = true;","};","util.inherits(BPMNParallelGateway, BPMNFlowObject);","","/**"," * Semantics: wait until all tokens arrive and then emit tokens along all outgoing flows"," * @param {BPMNProcess} process"," * @param {Object} data"," */","BPMNParallelGateway.prototype.emitTokens = function(process, data) {","    var self = this;","    var state = process.state;","    var numberOfIncomingFlows = process.processDefinition.getIncomingSequenceFlows(self).length;","    var numberOfTokens;","","    state.createTokenAt(self.name, process.processId);","","    numberOfTokens = state.numberOfTokensAt(self);","    if (numberOfTokens === numberOfIncomingFlows) {","        process.onFlowObjectEnd(self.name, data, function() {","            state.removeAllTokensAt(self);","            var outgoingSequenceFlows = process.processDefinition.getOutgoingSequenceFlows(self);","            outgoingSequenceFlows.forEach(function(outgoingSequenceFlow){","                process.emitTokenAlong(self, outgoingSequenceFlow, data);","            });","       });","    } else {","        process.persist();","    }","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNParallelGateway.prototype.validate = function(processDefinition, errorQueue) {","    assertGatewayFlowCardinality(this, processDefinition, errorQueue);","};","","/**"," * @param {BPMNParallelGateway | BPMNExclusiveGateway} gateway"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","function assertGatewayFlowCardinality(gateway, processDefinition, errorQueue) {","    var outgoingSequenceFlows, incomingSequenceFlows, isDiverging, isConverging;","","    gateway.assertIncomingSequenceFlows(processDefinition, errorQueue);","    gateway.assertOutgoingSequenceFlows(processDefinition, errorQueue);","","    if (!errorQueue.hasErrors()) {","        outgoingSequenceFlows = processDefinition.getOutgoingSequenceFlows(gateway);","        incomingSequenceFlows = processDefinition.getIncomingSequenceFlows(gateway);","","        isDiverging = outgoingSequenceFlows.length > 1;","        isConverging = incomingSequenceFlows.length > 1;","        if (!isDiverging && !isConverging) {","            errorQueue.addError(\"GW1\", gateway, \"The \" + gateway.type + \" '\" + gateway.name + \"' must have more than one incoming or outgoing flow to work as gateway.\");","        }","    }","}"],"l":{"6":1,"7":1,"8":1,"9":1,"15":1,"16":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"36":0,"38":0,"46":1,"47":0,"56":1,"57":0,"58":0,"60":1,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"87":0,"88":0,"91":0,"92":0,"94":0,"95":0,"105":1,"106":0,"108":0,"109":0,"111":0,"112":0,"113":0,"114":0,"115":0,"125":1,"126":0,"135":1,"136":0,"137":0,"139":1,"146":1,"147":0,"148":0,"149":0,"150":0,"152":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"164":0,"172":1,"173":0,"181":1,"182":0,"184":0,"185":0,"187":0,"188":0,"189":0,"191":0,"192":0,"193":0,"194":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/handler.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/handler.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":22},"end":{"line":17,"column":73}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":38},"end":{"line":19,"column":49}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":54},"end":{"line":51,"column":77}}},"4":{"name":"(anonymous_4)","line":60,"loc":{"start":{"line":60,"column":60},"end":{"line":60,"column":84}}},"5":{"name":"(anonymous_5)","line":70,"loc":{"start":{"line":70,"column":29},"end":{"line":70,"column":52}}},"6":{"name":"(anonymous_6)","line":79,"loc":{"start":{"line":79,"column":31},"end":{"line":79,"column":54}}},"7":{"name":"stripBOM","line":86,"loc":{"start":{"line":86,"column":0},"end":{"line":86,"column":27}}},"8":{"name":"(anonymous_8)","line":101,"loc":{"start":{"line":101,"column":56},"end":{"line":101,"column":71}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"3":{"start":{"line":17,"column":0},"end":{"line":45,"column":2}},"4":{"start":{"line":18,"column":4},"end":{"line":18,"column":28}},"5":{"start":{"line":19,"column":4},"end":{"line":19,"column":52}},"6":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}},"7":{"start":{"line":21,"column":4},"end":{"line":21,"column":55}},"8":{"start":{"line":23,"column":4},"end":{"line":42,"column":5}},"9":{"start":{"line":24,"column":8},"end":{"line":24,"column":37}},"10":{"start":{"line":25,"column":8},"end":{"line":39,"column":9}},"11":{"start":{"line":26,"column":12},"end":{"line":31,"column":13}},"12":{"start":{"line":27,"column":16},"end":{"line":27,"column":73}},"13":{"start":{"line":29,"column":16},"end":{"line":29,"column":93}},"14":{"start":{"line":30,"column":16},"end":{"line":30,"column":85}},"15":{"start":{"line":32,"column":15},"end":{"line":39,"column":9}},"16":{"start":{"line":35,"column":12},"end":{"line":35,"column":19}},"17":{"start":{"line":37,"column":12},"end":{"line":38,"column":97}},"18":{"start":{"line":41,"column":8},"end":{"line":41,"column":110}},"19":{"start":{"line":44,"column":4},"end":{"line":44,"column":18}},"20":{"start":{"line":51,"column":0},"end":{"line":53,"column":2}},"21":{"start":{"line":52,"column":4},"end":{"line":52,"column":65}},"22":{"start":{"line":60,"column":0},"end":{"line":64,"column":2}},"23":{"start":{"line":61,"column":4},"end":{"line":61,"column":48}},"24":{"start":{"line":62,"column":4},"end":{"line":62,"column":52}},"25":{"start":{"line":63,"column":4},"end":{"line":63,"column":19}},"26":{"start":{"line":70,"column":0},"end":{"line":73,"column":2}},"27":{"start":{"line":71,"column":4},"end":{"line":71,"column":59}},"28":{"start":{"line":72,"column":4},"end":{"line":72,"column":36}},"29":{"start":{"line":79,"column":0},"end":{"line":84,"column":2}},"30":{"start":{"line":80,"column":4},"end":{"line":80,"column":42}},"31":{"start":{"line":81,"column":4},"end":{"line":81,"column":37}},"32":{"start":{"line":82,"column":4},"end":{"line":82,"column":51}},"33":{"start":{"line":83,"column":4},"end":{"line":83,"column":33}},"34":{"start":{"line":86,"column":0},"end":{"line":94,"column":1}},"35":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"36":{"start":{"line":91,"column":8},"end":{"line":91,"column":35}},"37":{"start":{"line":93,"column":4},"end":{"line":93,"column":19}},"38":{"start":{"line":101,"column":0},"end":{"line":108,"column":2}},"39":{"start":{"line":102,"column":4},"end":{"line":102,"column":86}},"40":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"41":{"start":{"line":105,"column":8},"end":{"line":105,"column":36}},"42":{"start":{"line":107,"column":4},"end":{"line":107,"column":21}}},"branchMap":{"1":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":15},"end":{"line":19,"column":34}},{"start":{"line":19,"column":38},"end":{"line":19,"column":51}}]},"2":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":15},"end":{"line":32,"column":15}},{"start":{"line":32,"column":15},"end":{"line":32,"column":15}}]},"5":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":4}},{"start":{"line":90,"column":4},"end":{"line":90,"column":4}}]},"6":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var fileUtils = require('./utils/file.js');","","exports.handlerNameSeparator = '$';","","/**"," * @param {String} name"," * @param {BPMNProcess} process"," * @param {Object=} data"," * @param {Function=} handlerDoneCallback"," * @private"," */","exports.callHandler = function(name, process, data, handlerDoneCallback) {","    var result, handlerType;","    var done = handlerDoneCallback || function() {};","    var eventType = \"callHandler\";","    var handler = getHandlerFromProcess(name, process);","","    if (handler) {","        handlerType = typeof handler;","        if (handlerType === 'function') {","            try {","                result = handler.call(process.processClient, data, done);","            } catch (error) {","                process.logger.error(\"Error in handler '\" + name + \"': \" + error.toString());","                process.defaultErrorHandler.call(process.processClient, error, done);","            }","        } else if (handlerType === 'object') {","            // hierarchical handler used for mocking up sub process handlers. See test cases for examples","            // To keep going we have to call done()","            done();","        } else {","            process.callDefaultEventHandler(eventType, name, mapName2HandlerName(name),","                                            \"Unknown handler type: '\" + handlerType + \"'\", done);","        }","     } else {","        process.callDefaultEventHandler(eventType, name, mapName2HandlerName(name), \"No handler found\", done);","    }","","    return result;","};","","/**"," * @param {String} bpmnFilePath"," * @return {String}"," */","var getHandlerFileName = exports.getHandlerFileName = function(bpmnFilePath) {","    return (fileUtils.removeFileExtension(bpmnFilePath) + \".js\");","};","","/**"," * @param {String} name"," * @param {BPMNProcess} process"," * @return {Function | Object}"," */","var getHandlerFromProcess = exports.getHandlerFromProcess = function(name, process) {","    var handlerName = mapName2HandlerName(name);","    var handler = process.eventHandler[handlerName]; // this works as long as event names are unique","    return handler;","};","","/**"," * @param {String} bpmnFilePath"," * @return {Object}"," */","exports.getHandlerFromFile = function(bpmnFilePath) {","    var handlerFilePath = getHandlerFileName(bpmnFilePath);","    return require(handlerFilePath);","};","","/**"," * @param {String} moduleString"," * @return {Object}"," */","exports.getHandlerFromString = function(moduleString) {","    var Module = require('module').Module;","    var handlerModule = new Module();","    handlerModule._compile(stripBOM(moduleString));","    return handlerModule.exports;","};","","function stripBOM(content) {","    // Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)","    // because the buffer-to-string conversion in `fs.readFileSync()`","    // translates it to FEFF, the UTF-16 BOM.","    if (content.charCodeAt(0) === 0xFEFF) {","        content = content.slice(1);","    }","    return content;","}","","/**"," * Replace all non-allowed characters with '_', if the name starts with a number prefix it with '_'"," * @param {String} name"," * @return {String}"," */","var mapName2HandlerName = exports.mapName2HandlerName = function(name) {","    var cleanName = name.replace(/[:!`~\\^@*#?\\|&;%@\"<>\\(\\){}\\[\\]\\+, \\t\\n]/g, \"_\");","","    if (cleanName.match(/^[0-9]/)) {","        cleanName = \"_\" + cleanName;","    }","    return cleanName;","};",""],"l":{"6":1,"8":1,"17":1,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"32":0,"35":0,"37":0,"41":0,"44":0,"51":1,"52":0,"60":1,"61":0,"62":0,"63":0,"70":1,"71":0,"72":0,"79":1,"80":0,"81":0,"82":0,"83":0,"86":1,"90":0,"91":0,"93":0,"101":1,"102":0,"104":0,"105":0,"107":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/callActivity.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/callActivity.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":20,"loc":{"start":{"line":20,"column":33},"end":{"line":20,"column":112}}},"2":{"name":"(anonymous_2)","line":43,"loc":{"start":{"line":43,"column":29},"end":{"line":43,"column":49}}},"3":{"name":"(anonymous_3)","line":57,"loc":{"start":{"line":57,"column":50},"end":{"line":58,"column":93}}},"4":{"name":"(anonymous_4)","line":76,"loc":{"start":{"line":76,"column":40},"end":{"line":76,"column":118}}},"5":{"name":"(anonymous_5)","line":91,"loc":{"start":{"line":91,"column":87},"end":{"line":91,"column":115}}},"6":{"name":"(anonymous_6)","line":111,"loc":{"start":{"line":111,"column":49},"end":{"line":112,"column":112}}},"7":{"name":"(anonymous_7)","line":131,"loc":{"start":{"line":131,"column":8},"end":{"line":131,"column":36}}},"8":{"name":"(anonymous_8)","line":147,"loc":{"start":{"line":147,"column":40},"end":{"line":147,"column":65}}},"9":{"name":"assignHandler","line":169,"loc":{"start":{"line":169,"column":0},"end":{"line":169,"column":54}}},"10":{"name":"(anonymous_10)","line":179,"loc":{"start":{"line":179,"column":38},"end":{"line":179,"column":78}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":63}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":57}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":45}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":50}},"8":{"start":{"line":20,"column":0},"end":{"line":37,"column":2}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":50}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":56}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":65}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":48}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":71}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":79}},"15":{"start":{"line":27,"column":4},"end":{"line":27,"column":99}},"16":{"start":{"line":29,"column":4},"end":{"line":36,"column":7}},"17":{"start":{"line":43,"column":0},"end":{"line":45,"column":2}},"18":{"start":{"line":44,"column":4},"end":{"line":44,"column":58}},"19":{"start":{"line":57,"column":0},"end":{"line":64,"column":2}},"20":{"start":{"line":59,"column":4},"end":{"line":59,"column":48}},"21":{"start":{"line":60,"column":4},"end":{"line":60,"column":31}},"22":{"start":{"line":61,"column":4},"end":{"line":61,"column":47}},"23":{"start":{"line":62,"column":4},"end":{"line":62,"column":57}},"24":{"start":{"line":63,"column":4},"end":{"line":63,"column":29}},"25":{"start":{"line":65,"column":0},"end":{"line":65,"column":46}},"26":{"start":{"line":76,"column":0},"end":{"line":101,"column":2}},"27":{"start":{"line":77,"column":4},"end":{"line":77,"column":20}},"28":{"start":{"line":78,"column":4},"end":{"line":78,"column":37}},"29":{"start":{"line":79,"column":4},"end":{"line":79,"column":45}},"30":{"start":{"line":80,"column":4},"end":{"line":80,"column":62}},"31":{"start":{"line":81,"column":4},"end":{"line":81,"column":39}},"32":{"start":{"line":83,"column":4},"end":{"line":100,"column":5}},"33":{"start":{"line":85,"column":8},"end":{"line":85,"column":77}},"34":{"start":{"line":86,"column":8},"end":{"line":86,"column":64}},"35":{"start":{"line":90,"column":8},"end":{"line":90,"column":109}},"36":{"start":{"line":91,"column":8},"end":{"line":99,"column":11}},"37":{"start":{"line":92,"column":12},"end":{"line":92,"column":75}},"38":{"start":{"line":93,"column":12},"end":{"line":98,"column":13}},"39":{"start":{"line":94,"column":16},"end":{"line":94,"column":64}},"40":{"start":{"line":96,"column":16},"end":{"line":97,"column":60}},"41":{"start":{"line":111,"column":0},"end":{"line":141,"column":2}},"42":{"start":{"line":114,"column":4},"end":{"line":117,"column":5}},"43":{"start":{"line":115,"column":8},"end":{"line":115,"column":43}},"44":{"start":{"line":116,"column":8},"end":{"line":116,"column":39}},"45":{"start":{"line":119,"column":4},"end":{"line":119,"column":50}},"46":{"start":{"line":120,"column":4},"end":{"line":120,"column":111}},"47":{"start":{"line":121,"column":4},"end":{"line":121,"column":104}},"48":{"start":{"line":123,"column":4},"end":{"line":140,"column":6}},"49":{"start":{"line":132,"column":12},"end":{"line":134,"column":13}},"50":{"start":{"line":133,"column":16},"end":{"line":133,"column":37}},"51":{"start":{"line":136,"column":12},"end":{"line":136,"column":64}},"52":{"start":{"line":138,"column":12},"end":{"line":138,"column":42}},"53":{"start":{"line":147,"column":0},"end":{"line":167,"column":2}},"54":{"start":{"line":148,"column":4},"end":{"line":148,"column":30}},"55":{"start":{"line":149,"column":4},"end":{"line":149,"column":37}},"56":{"start":{"line":150,"column":4},"end":{"line":150,"column":94}},"57":{"start":{"line":152,"column":4},"end":{"line":157,"column":5}},"58":{"start":{"line":153,"column":8},"end":{"line":153,"column":32}},"59":{"start":{"line":155,"column":8},"end":{"line":155,"column":37}},"60":{"start":{"line":156,"column":8},"end":{"line":156,"column":65}},"61":{"start":{"line":159,"column":4},"end":{"line":159,"column":66}},"62":{"start":{"line":160,"column":4},"end":{"line":160,"column":66}},"63":{"start":{"line":161,"column":4},"end":{"line":161,"column":64}},"64":{"start":{"line":162,"column":4},"end":{"line":162,"column":65}},"65":{"start":{"line":163,"column":4},"end":{"line":163,"column":61}},"66":{"start":{"line":164,"column":4},"end":{"line":164,"column":59}},"67":{"start":{"line":166,"column":4},"end":{"line":166,"column":19}},"68":{"start":{"line":169,"column":0},"end":{"line":173,"column":1}},"69":{"start":{"line":172,"column":4},"end":{"line":172,"column":58}},"70":{"start":{"line":179,"column":0},"end":{"line":187,"column":2}},"71":{"start":{"line":180,"column":4},"end":{"line":180,"column":32}},"72":{"start":{"line":181,"column":4},"end":{"line":181,"column":68}},"73":{"start":{"line":182,"column":4},"end":{"line":182,"column":68}},"74":{"start":{"line":184,"column":4},"end":{"line":186,"column":5}},"75":{"start":{"line":185,"column":8},"end":{"line":185,"column":135}}},"branchMap":{"1":{"line":27,"type":"cond-expr","locations":[{"start":{"line":27,"column":38},"end":{"line":27,"column":93}},{"start":{"line":27,"column":96},"end":{"line":27,"column":98}}]},"2":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":4}},{"start":{"line":83,"column":4},"end":{"line":83,"column":4}}]},"3":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":12},"end":{"line":93,"column":12}},{"start":{"line":93,"column":12},"end":{"line":93,"column":12}}]},"4":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":4}},{"start":{"line":114,"column":4},"end":{"line":114,"column":4}}]},"5":{"line":120,"type":"binary-expr","locations":[{"start":{"line":120,"column":28},"end":{"line":120,"column":51}},{"start":{"line":120,"column":55},"end":{"line":120,"column":110}}]},"6":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":132,"column":12}},{"start":{"line":132,"column":12},"end":{"line":132,"column":12}}]},"7":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":4},"end":{"line":152,"column":4}},{"start":{"line":152,"column":4},"end":{"line":152,"column":4}}]},"8":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":21}},{"start":{"line":152,"column":25},"end":{"line":152,"column":58}}]},"9":{"line":172,"type":"binary-expr","locations":[{"start":{"line":172,"column":20},"end":{"line":172,"column":33}},{"start":{"line":172,"column":37},"end":{"line":172,"column":57}}]},"10":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":4},"end":{"line":184,"column":4}},{"start":{"line":184,"column":4},"end":{"line":184,"column":4}}]},"11":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":8},"end":{"line":184,"column":22}},{"start":{"line":184,"column":26},"end":{"line":184,"column":46}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","var BPMNActivity = require(\"./activity.js\").BPMNActivity;","var util = require('util');","var parserUtils = require(\"./parserUtils\");","var path = require('path');","var handlerModule = require('../handler.js');","var bpmnDefinitions = require('./definitions.js');","","/**"," * @param node"," * @param {String} baseFileName Name of the current process definition file"," * @param {Object} prefix2NamespaceMap"," * @param {Object} importNamespace2LocationMap"," */","exports.createBPMNCallActivity = function(node, baseFileName, prefix2NamespaceMap, importNamespace2LocationMap) {","    var getValue = parserUtils.getAttributesValue;","    var calledElement = getValue(node, \"calledElement\");","    var splitName = parserUtils.splitPrefixedName(calledElement);","    var calledElementName = splitName.localName;","    var calledElementNamespace = prefix2NamespaceMap[splitName.prefix];","    var relativeLocation = importNamespace2LocationMap[calledElementNamespace];","    var location = relativeLocation ? path.join(path.dirname(baseFileName), relativeLocation) : \"\";","","    return (new BPMNCallActivity(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        calledElementName,","        calledElementNamespace,","        location","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isCallActivityName = function(localName) {","    return (localName.toLowerCase().indexOf(\"call\") > -1);","};","","/**"," * Subsumes all kind of tasks"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {String} calledElementName"," * @param {String} calledElementNamespace"," * @param {String} location"," * @constructor"," */","var BPMNCallActivity = exports.BPMNCallActivity = function(bpmnId, name, type, calledElementName,","                                                           calledElementNamespace, location) {","    BPMNActivity.call(this, bpmnId, name, type);","    this.isCallActivity = true;","    this.calledElementName = calledElementName;","    this.calledElementNamespace = calledElementNamespace;","    this.location = location;","};","util.inherits(BPMNCallActivity, BPMNActivity);","","/**"," * Semantics: If we are to enter a called processing (returningFromCalledProcess = false), the called process is created and a token"," *            is put onto its start state."," *            If we leave the callActivity we just emit a token."," * @param {BPMNProcess} currentProcess"," * @param {Object} data"," * @param {Function} createBPMNProcess"," * @param {Boolean=} returningFromCalledProcess"," */","BPMNCallActivity.prototype.emitTokens = function(currentProcess, data, createBPMNProcess, returningFromCalledProcess) {","    var self = this;","    var callActivityName = self.name;","    var processId = currentProcess.processId;","    var calledProcessId = processId + \"::\" + callActivityName;","    var callActivityToken, startEvents;","","    if (returningFromCalledProcess) {","","        BPMNFlowObject.prototype.emitTokens.call(self, currentProcess, data);","        currentProcess.unregisterCalledProcess(calledProcessId);","","    } else {","","        callActivityToken = currentProcess.state.createTokenAt(callActivityName, processId, calledProcessId);","        self.createCalledProcess(callActivityToken, currentProcess, createBPMNProcess, function(err, calledProcess){","            startEvents = calledProcess.processDefinition.getStartEvents();","            if (startEvents.length === 1) {","                calledProcess.triggerEvent(startEvents[0].name);","            } else {","                throw new Error(\"The called process '\" + calledProcess.processDefinition.name +","                    \"' must have exactly one start event.\");","            }","        });","    }","};","","/**"," * @param {Token} callActivityToken"," * @param {BPMNProcess} currentProcess"," * @param {Function} createBPMNProcess"," * @param {BPMNProcessDefinition=} calledProcessDefinition"," * @param {Function} callback"," * @return {BPMNProcess}"," */","BPMNCallActivity.prototype.createCalledProcess = function(callActivityToken, currentProcess,","                                                          createBPMNProcess, calledProcessDefinition, callback) {","","    if(typeof calledProcessDefinition === 'function'){","        callback = calledProcessDefinition;","        calledProcessDefinition = null;","    }","","    var handler = this.getHandler(currentProcess);","    var processDefinition = calledProcessDefinition || bpmnDefinitions.getBPMNProcessDefinition(this.location);","    var callActivityHistoryEntry = currentProcess.getHistory().getLastEntry(callActivityToken.position);","","    createBPMNProcess(","        callActivityToken.calledProcessId,","        processDefinition,","        handler,","        currentProcess.persistency,","        currentProcess,","        callActivityToken,","        callActivityHistoryEntry,","        function(err, calledProcess){","            if(err){","                return callback(err);","            }","","            currentProcess.registerCalledProcess(calledProcess);","","            callback(null, calledProcess);","        }","    );","};","","/**"," * @param {BPMNProcess} currentProcess"," * @return {Function | Object}"," */","BPMNCallActivity.prototype.getHandler = function(currentProcess) {","    var handler, bpmnFilePath;","    var callActivityName = this.name;","    var mockupHandler = handlerModule.getHandlerFromProcess(callActivityName, currentProcess);","","    if (mockupHandler && typeof mockupHandler === \"object\") {","        handler = mockupHandler;","    } else {","        bpmnFilePath = this.location;","        handler = handlerModule.getHandlerFromFile(bpmnFilePath);","    }","","    assignHandler(handler, \"defaultEventHandler\", currentProcess);","    assignHandler(handler, \"defaultErrorHandler\", currentProcess);","    assignHandler(handler, \"doneSavingHandler\", currentProcess);","    assignHandler(handler, \"doneLoadingHandler\", currentProcess);","    assignHandler(handler, \"onBeginHandler\", currentProcess);","    assignHandler(handler, \"onEndHandler\", currentProcess);","","    return handler;","};","","function assignHandler(handler, name, currentProcess) {","    // If the handler is explicitly given, we use it.","    // Otherwise we use the handler of the current process which is the parent of the called process","    handler[name] = handler[name] || currentProcess[name];","}","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNCallActivity.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertOutgoingSequenceFlows(processDefinition, errorQueue);","","    if (!this.location || this.location === '') {","        errorQueue.addError(\"CA1\", this, \"The \" + this.type + \" '\" + this.name + \"' must reference another process by its file name.\");","    }","};",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"43":1,"44":0,"57":1,"59":0,"60":0,"61":0,"62":0,"63":0,"65":1,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"83":0,"85":0,"86":0,"90":0,"91":0,"92":0,"93":0,"94":0,"96":0,"111":1,"114":0,"115":0,"116":0,"119":0,"120":0,"121":0,"123":0,"132":0,"133":0,"136":0,"138":0,"147":1,"148":0,"149":0,"150":0,"152":0,"153":0,"155":0,"156":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"166":0,"169":1,"172":0,"179":1,"180":0,"181":0,"182":0,"184":0,"185":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/events.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/events.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":29},"end":{"line":10,"column":49}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":12,"column":2}},"2":{"start":{"line":11,"column":4},"end":{"line":11,"column":52}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isMessageEventName = function(localName) {","    return (localName === \"messageEventDefinition\");","};",""],"l":{"10":1,"11":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/intermediateEvents.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/intermediateEvents.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":1,"10":0,"11":0,"12":1,"13":1,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":1,"21":0,"22":0,"23":1,"24":1,"25":0,"26":1,"27":0,"28":0,"29":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":43},"end":{"line":14,"column":58}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":39},"end":{"line":27,"column":59}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":70},"end":{"line":38,"column":99}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":48},"end":{"line":48,"column":88}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":43},"end":{"line":56,"column":58}}},"6":{"name":"(anonymous_6)","line":69,"loc":{"start":{"line":69,"column":39},"end":{"line":69,"column":59}}},"7":{"name":"(anonymous_7)","line":80,"loc":{"start":{"line":80,"column":70},"end":{"line":80,"column":99}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":48},"end":{"line":90,"column":88}}},"9":{"name":"validateIntermediateEvent","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":73}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":46}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":63}},"4":{"start":{"line":14,"column":0},"end":{"line":21,"column":2}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":50}},"6":{"start":{"line":16,"column":4},"end":{"line":20,"column":7}},"7":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"8":{"start":{"line":28,"column":4},"end":{"line":28,"column":52}},"9":{"start":{"line":38,"column":0},"end":{"line":41,"column":2}},"10":{"start":{"line":39,"column":4},"end":{"line":39,"column":50}},"11":{"start":{"line":40,"column":4},"end":{"line":40,"column":41}},"12":{"start":{"line":42,"column":0},"end":{"line":42,"column":58}},"13":{"start":{"line":48,"column":0},"end":{"line":50,"column":2}},"14":{"start":{"line":49,"column":4},"end":{"line":49,"column":67}},"15":{"start":{"line":56,"column":0},"end":{"line":63,"column":2}},"16":{"start":{"line":57,"column":4},"end":{"line":57,"column":50}},"17":{"start":{"line":58,"column":4},"end":{"line":62,"column":7}},"18":{"start":{"line":69,"column":0},"end":{"line":71,"column":2}},"19":{"start":{"line":70,"column":4},"end":{"line":70,"column":52}},"20":{"start":{"line":80,"column":0},"end":{"line":83,"column":2}},"21":{"start":{"line":81,"column":4},"end":{"line":81,"column":50}},"22":{"start":{"line":82,"column":4},"end":{"line":82,"column":41}},"23":{"start":{"line":84,"column":0},"end":{"line":84,"column":58}},"24":{"start":{"line":90,"column":0},"end":{"line":92,"column":2}},"25":{"start":{"line":91,"column":4},"end":{"line":91,"column":67}},"26":{"start":{"line":99,"column":0},"end":{"line":103,"column":1}},"27":{"start":{"line":100,"column":4},"end":{"line":100,"column":33}},"28":{"start":{"line":101,"column":4},"end":{"line":101,"column":69}},"29":{"start":{"line":102,"column":4},"end":{"line":102,"column":71}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils.js\");","var BPMNFlowObject = require(\"./flowObject.js\").BPMNFlowObject;","","/**"," * @param node"," * @return {BPMNIntermediateThrowEvent}"," */","exports.createBPMNIntermediateThrowEvent = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNIntermediateThrowEvent(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isIntermediateThrowEventName = function(localName) {","    return (localName === \"intermediateThrowEvent\");","};","","/**"," * Subsumes all kind of end events"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNIntermediateThrowEvent = exports.BPMNIntermediateThrowEvent = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isIntermediateThrowEvent = true;","};","util.inherits(BPMNIntermediateThrowEvent, BPMNFlowObject);","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNIntermediateThrowEvent.prototype.validate = function(processDefinition, errorQueue) {","    validateIntermediateEvent(this, processDefinition, errorQueue);","};","","/**"," * @param node"," * @return {BPMNIntermediateCatchEvent}"," */","exports.createBPMNIntermediateCatchEvent = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNIntermediateCatchEvent(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isIntermediateCatchEventName = function(localName) {","    return (localName === \"intermediateCatchEvent\");","};","","/**"," * Subsumes all kind of end events"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @constructor"," */","var BPMNIntermediateCatchEvent = exports.BPMNIntermediateCatchEvent = function(bpmnId, name, type) {","    BPMNFlowObject.call(this, bpmnId, name, type);","    this.isIntermediateCatchEvent = true;","};","util.inherits(BPMNIntermediateCatchEvent, BPMNFlowObject);","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNIntermediateCatchEvent.prototype.validate = function(processDefinition, errorQueue) {","    validateIntermediateEvent(this, processDefinition, errorQueue);","};","","/**"," * @param {BPMNIntermediateCatchEvent | BPMNIntermediateThrowEvent} event"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","function validateIntermediateEvent(event, processDefinition, errorQueue) {","    event.assertName(errorQueue);","    event.assertIncomingSequenceFlows(processDefinition, errorQueue);","    event.assertOneOutgoingSequenceFlow(processDefinition, errorQueue);","}"],"l":{"6":1,"7":1,"8":1,"14":1,"15":0,"16":0,"27":1,"28":0,"38":1,"39":0,"40":0,"42":1,"48":1,"49":0,"56":1,"57":0,"58":0,"69":1,"70":0,"80":1,"81":0,"82":0,"84":1,"90":1,"91":0,"99":1,"100":0,"101":0,"102":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/subProcess.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/subProcess.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":1,"17":0,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":31},"end":{"line":17,"column":68}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":27},"end":{"line":32,"column":47}}},"3":{"name":"(anonymous_3)","line":44,"loc":{"start":{"line":44,"column":47},"end":{"line":44,"column":98}}},"4":{"name":"(anonymous_4)","line":60,"loc":{"start":{"line":60,"column":38},"end":{"line":60,"column":116}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":47},"end":{"line":72,"column":120}}},"6":{"name":"(anonymous_6)","line":84,"loc":{"start":{"line":84,"column":38},"end":{"line":84,"column":63}}},"7":{"name":"(anonymous_7)","line":93,"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":76}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":57}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":69}},"6":{"start":{"line":17,"column":0},"end":{"line":26,"column":2}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":50}},"8":{"start":{"line":20,"column":4},"end":{"line":25,"column":7}},"9":{"start":{"line":32,"column":0},"end":{"line":34,"column":2}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":64}},"11":{"start":{"line":44,"column":1},"end":{"line":48,"column":2}},"12":{"start":{"line":45,"column":4},"end":{"line":45,"column":48}},"13":{"start":{"line":46,"column":4},"end":{"line":46,"column":29}},"14":{"start":{"line":47,"column":4},"end":{"line":47,"column":50}},"15":{"start":{"line":49,"column":0},"end":{"line":49,"column":44}},"16":{"start":{"line":60,"column":0},"end":{"line":64,"column":2}},"17":{"start":{"line":63,"column":4},"end":{"line":63,"column":122}},"18":{"start":{"line":72,"column":0},"end":{"line":78,"column":2}},"19":{"start":{"line":73,"column":4},"end":{"line":73,"column":51}},"20":{"start":{"line":76,"column":4},"end":{"line":77,"column":97}},"21":{"start":{"line":84,"column":0},"end":{"line":87,"column":2}},"22":{"start":{"line":85,"column":4},"end":{"line":85,"column":35}},"23":{"start":{"line":86,"column":4},"end":{"line":86,"column":73}},"24":{"start":{"line":93,"column":0},"end":{"line":97,"column":2}},"25":{"start":{"line":94,"column":4},"end":{"line":94,"column":32}},"26":{"start":{"line":95,"column":4},"end":{"line":95,"column":68}},"27":{"start":{"line":96,"column":4},"end":{"line":96,"column":68}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var parserUtils = require(\"./parserUtils\");","var handler = require('../handler.js');","","var BPMNActivity = require(\"./activity.js\").BPMNActivity;","var BPMNCallActivity = require(\"./callActivity.js\").BPMNCallActivity;","","/**"," * @param node"," * @param {BPMNProcessDefinition} subProcessDefinition"," */","exports.createBPMNSubProcess = function(node, subProcessDefinition) {","    var getValue = parserUtils.getAttributesValue;","","    return (new BPMNSubProcess(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        subProcessDefinition","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isSubProcessName = function(localName) {","    return (localName.toLowerCase().indexOf(\"subprocess\") > -1);","};","","/**"," * Subsumes all kind of tasks"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {BPMNProcessDefinition} subProcessDefinition"," * @constructor"," */"," var BPMNSubProcess = exports.BPMNSubProcess = function(bpmnId, name, type, subProcessDefinition) {","    BPMNActivity.call(this, bpmnId, name, type);","    this.isSubProcess = true;","    this.processDefinition = subProcessDefinition;","};","util.inherits(BPMNSubProcess, BPMNActivity);","","","/**"," * Semantics: If we are to enter a called processing (returningFromSubProcess = false), the called process is"," *            created and a token is put onto its start state. If we leave the subProcess we just emit a token."," * @param {BPMNProcess} currentProcess"," * @param {Object} data"," * @param {Function} createBPMNProcess"," * @param {Boolean=} returningFromCalledProcess"," */","BPMNSubProcess.prototype.emitTokens = function(currentProcess, data, createBPMNProcess, returningFromCalledProcess) {","    // A sub-process is a special case of a call activity:","    // the process is defined inline instead of being defined in another file","    BPMNCallActivity.prototype.emitTokens.call(this, currentProcess, data, createBPMNProcess, returningFromCalledProcess);","};","","/**"," * @param {Token} callActivityToken"," * @param {BPMNProcess} currentProcess"," * @param {Function} createBPMNProcess"," * @param {Function} callback"," */","BPMNSubProcess.prototype.createCalledProcess = function(callActivityToken, currentProcess, createBPMNProcess, callback) {","    var processDefinition = this.processDefinition;","    // A sub-process is a special case of a call activity:","    // the process is defined inline instead of being defined in another file","    BPMNCallActivity.prototype.createCalledProcess.call(","        this, callActivityToken, currentProcess, createBPMNProcess, processDefinition, callback);","};","","/**"," * @param {BPMNProcess} currentProcess"," * @return {Function | Object}"," */","BPMNSubProcess.prototype.getHandler = function(currentProcess) {","    var subProcessName = this.name;","    return handler.getHandlerFromProcess(subProcessName, currentProcess);","};","","/**"," * @param {BPMNProcessDefinition} processDefinition"," * @param {BPMNParseErrorQueue} errorQueue"," */","BPMNSubProcess.prototype.validate = function(processDefinition, errorQueue) {","    this.assertName(errorQueue);","    this.assertIncomingSequenceFlows(processDefinition, errorQueue);","    this.assertOutgoingSequenceFlows(processDefinition, errorQueue);","};",""],"l":{"6":1,"7":1,"8":1,"10":1,"11":1,"17":1,"18":0,"20":0,"32":1,"33":0,"44":1,"45":0,"46":0,"47":0,"49":1,"60":1,"63":0,"72":1,"73":0,"76":0,"84":1,"85":0,"86":0,"93":1,"94":0,"95":0,"96":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/messageFlows.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/messageFlows.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":32},"end":{"line":12,"column":47}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":28},"end":{"line":27,"column":48}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":48},"end":{"line":39,"column":99}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":12,"column":0},"end":{"line":21,"column":2}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"4":{"start":{"line":14,"column":4},"end":{"line":20,"column":7}},"5":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"6":{"start":{"line":28,"column":4},"end":{"line":28,"column":65}},"7":{"start":{"line":39,"column":0},"end":{"line":47,"column":2}},"8":{"start":{"line":40,"column":4},"end":{"line":40,"column":25}},"9":{"start":{"line":41,"column":4},"end":{"line":41,"column":21}},"10":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}},"11":{"start":{"line":43,"column":4},"end":{"line":43,"column":31}},"12":{"start":{"line":44,"column":4},"end":{"line":44,"column":31}},"13":{"start":{"line":45,"column":4},"end":{"line":45,"column":42}},"14":{"start":{"line":46,"column":4},"end":{"line":46,"column":42}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var parserUtils = require(\"./parserUtils\");","","/**"," * @param node"," * @constructor"," */","exports.createBPMNMessageFlow = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNMessageFlow(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        getValue(node, \"sourceRef\"),","        getValue(node, \"targetRef\")","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isMessageFlowName = function(localName) {","    return (localName.toLowerCase().indexOf(\"messageflow\") > -1);","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {String} sourceRef"," * @param {String} targetRef"," * @constructor"," */","var BPMNMessageFlow = exports.BPMNMessageFlow = function(bpmnId, name, type, sourceRef, targetRef) {","    this.bpmnId = bpmnId;","    this.name = name;","    this.type = type;","    this.sourceRef = sourceRef;","    this.targetRef = targetRef;","    this.targetProcessDefinitionId = null;","    this.sourceProcessDefinitionId = null;","};",""],"l":{"6":1,"12":1,"13":0,"14":0,"27":1,"28":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/participant.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/participant.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":32},"end":{"line":12,"column":47}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":28},"end":{"line":26,"column":48}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":48},"end":{"line":37,"column":89}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":12,"column":0},"end":{"line":20,"column":2}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"4":{"start":{"line":14,"column":4},"end":{"line":19,"column":7}},"5":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"6":{"start":{"line":27,"column":4},"end":{"line":27,"column":41}},"7":{"start":{"line":37,"column":0},"end":{"line":42,"column":2}},"8":{"start":{"line":38,"column":4},"end":{"line":38,"column":25}},"9":{"start":{"line":39,"column":4},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":4},"end":{"line":40,"column":21}},"11":{"start":{"line":41,"column":4},"end":{"line":41,"column":33}}},"branchMap":{},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var parserUtils = require(\"./parserUtils\");","","/**"," * @param node"," * @constructor"," */","exports.createBPMNParticipant = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNParticipant(","        getValue(node, \"id\"),","        getValue(node, \"name\"),","        node.local,","        getValue(node, \"processRef\")","    ));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isParticipantName = function(localName) {","    return (localName === 'participant');","};","","/**"," * @param {String} bpmnId"," * @param {String} name"," * @param {String} type"," * @param {String} processRef"," * @constructor"," */","var BPMNParticipant = exports.BPMNParticipant = function(bpmnId, name, type, processRef) {","    this.bpmnId = bpmnId;","    this.name = name;","    this.type = type;","    this.processRef = processRef;","};",""],"l":{"6":1,"12":1,"13":0,"14":0,"26":1,"27":0,"37":1,"38":0,"39":0,"40":0,"41":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/collaborationDefinition.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/collaborationDefinition.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":1,"24":0,"25":1,"26":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":44},"end":{"line":12,"column":59}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":60}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":72},"end":{"line":29,"column":89}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":55},"end":{"line":39,"column":77}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":66},"end":{"line":47,"column":91}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":48},"end":{"line":48,"column":70}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":69},"end":{"line":62,"column":94}}},"8":{"name":"(anonymous_8)","line":63,"loc":{"start":{"line":63,"column":36},"end":{"line":63,"column":58}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":55},"end":{"line":71,"column":77}}},"10":{"name":"(anonymous_10)","line":78,"loc":{"start":{"line":78,"column":56},"end":{"line":78,"column":67}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"2":{"start":{"line":12,"column":0},"end":{"line":15,"column":2}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":50}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":67}},"5":{"start":{"line":21,"column":0},"end":{"line":23,"column":2}},"6":{"start":{"line":22,"column":4},"end":{"line":22,"column":43}},"7":{"start":{"line":29,"column":0},"end":{"line":34,"column":2}},"8":{"start":{"line":30,"column":4},"end":{"line":30,"column":25}},"9":{"start":{"line":31,"column":4},"end":{"line":31,"column":27}},"10":{"start":{"line":32,"column":4},"end":{"line":32,"column":27}},"11":{"start":{"line":33,"column":4},"end":{"line":33,"column":42}},"12":{"start":{"line":39,"column":0},"end":{"line":41,"column":2}},"13":{"start":{"line":40,"column":3},"end":{"line":40,"column":39}},"14":{"start":{"line":47,"column":0},"end":{"line":55,"column":2}},"15":{"start":{"line":48,"column":4},"end":{"line":50,"column":7}},"16":{"start":{"line":49,"column":8},"end":{"line":49,"column":59}},"17":{"start":{"line":51,"column":4},"end":{"line":53,"column":5}},"18":{"start":{"line":52,"column":8},"end":{"line":52,"column":115}},"19":{"start":{"line":54,"column":4},"end":{"line":54,"column":27}},"20":{"start":{"line":62,"column":0},"end":{"line":66,"column":2}},"21":{"start":{"line":63,"column":4},"end":{"line":65,"column":7}},"22":{"start":{"line":64,"column":8},"end":{"line":64,"column":59}},"23":{"start":{"line":71,"column":0},"end":{"line":73,"column":2}},"24":{"start":{"line":72,"column":4},"end":{"line":72,"column":40}},"25":{"start":{"line":78,"column":0},"end":{"line":80,"column":2}},"26":{"start":{"line":79,"column":4},"end":{"line":79,"column":29}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var parserUtils = require(\"./parserUtils\");","","/**"," * @param node"," * @return {BPMNCollaborationDefinition}"," */","exports.createBPMNCollaborationDefinition = function(node) {","    var getValue = parserUtils.getAttributesValue;","    return (new BPMNCollaborationDefinition(getValue(node, \"id\")));","};","","/**"," * @param localName name without namespace prefix"," * @return {Boolean}"," */","exports.isCollaborationDefinitionName = function(localName) {","    return (localName === \"collaboration\");","};","","/**"," * @param {String} bpmnId"," * @constructor"," */","var BPMNCollaborationDefinition = exports.BPMNCollaborationDefinition = function(bpmnId) {","    this.bpmnId = bpmnId;","    this.participants = [];","    this.messageFlows = [];","    this.isCollaborationDefinition = true;","};","","/**"," * @param {BPMNParticipant} participant"," */","BPMNCollaborationDefinition.prototype.addParticipant = function(participant) {","   this.participants.push(participant);","};","","/**"," * @param {String} processBbpmnId"," * @return {BPMNParticipant}"," */","BPMNCollaborationDefinition.prototype.getParticipantByProcessId = function(processBbpmnId) {","    var participants = this.participants.filter(function(participant) {","        return (participant.processRef === processBbpmnId);","    });","    if (participants.length > 1) {","        throw new Error(\"Cannot uniquely assign a pool to the process whith the BPMN ID '\" + processBbpmnId + \"'\");","    }","    return participants[0];","};","","/**"," * Get all participants the process is collaborating with"," * @param {String} processBbpmnId"," * @return {Array.<BPMNParticipant>}"," */","BPMNCollaborationDefinition.prototype.getCollaboratingParticipants = function(processBbpmnId) {","    return this.participants.filter(function(participant) {","        return (participant.processRef !== processBbpmnId);","    });","};","","/**"," * @param {BPMNMessageFlow} messageFlow"," */","BPMNCollaborationDefinition.prototype.addMessageFlow = function(messageFlow) {","    this.messageFlows.push(messageFlow);","};","","/**"," * @return {Array.<BPMNMessageFlow>}"," */","BPMNCollaborationDefinition.prototype.getMessageFlows = function() {","    return this.messageFlows;","};"],"l":{"6":1,"12":1,"13":0,"14":0,"21":1,"22":0,"29":1,"30":0,"31":0,"32":0,"33":0,"39":1,"40":0,"47":1,"48":0,"49":0,"51":0,"52":0,"54":0,"62":1,"63":0,"64":0,"71":1,"72":0,"78":1,"79":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/errors.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/parsing/errors.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":1,"11":0,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":1,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"BPMNParseError","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":55}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":36},"end":{"line":26,"column":56}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":26},"end":{"line":34,"column":45}}},"4":{"name":"addError","line":45,"loc":{"start":{"line":45,"column":41},"end":{"line":45,"column":91}}},"5":{"name":"getErrors","line":52,"loc":{"start":{"line":52,"column":42},"end":{"line":52,"column":63}}},"6":{"name":"reportErrors","line":60,"loc":{"start":{"line":60,"column":45},"end":{"line":60,"column":83}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":19},"end":{"line":62,"column":35}}},"8":{"name":"getNumberOfErrors","line":70,"loc":{"start":{"line":70,"column":50},"end":{"line":70,"column":79}}},"9":{"name":"hasErrors","line":77,"loc":{"start":{"line":77,"column":42},"end":{"line":77,"column":63}}},"10":{"name":"clearErrors","line":81,"loc":{"start":{"line":81,"column":38},"end":{"line":81,"column":61}}},"11":{"name":"throwErrors","line":85,"loc":{"start":{"line":85,"column":43},"end":{"line":85,"column":66}}},"12":{"name":"checkErrors","line":98,"loc":{"start":{"line":98,"column":38},"end":{"line":98,"column":61}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":20,"column":1}},"2":{"start":{"line":13,"column":4},"end":{"line":13,"column":21}},"3":{"start":{"line":14,"column":4},"end":{"line":14,"column":35}},"4":{"start":{"line":15,"column":4},"end":{"line":19,"column":5}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":54}},"6":{"start":{"line":17,"column":8},"end":{"line":17,"column":47}},"7":{"start":{"line":18,"column":8},"end":{"line":18,"column":54}},"8":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"9":{"start":{"line":27,"column":4},"end":{"line":27,"column":47}},"10":{"start":{"line":34,"column":0},"end":{"line":38,"column":2}},"11":{"start":{"line":36,"column":4},"end":{"line":36,"column":30}},"12":{"start":{"line":37,"column":4},"end":{"line":37,"column":29}},"13":{"start":{"line":45,"column":0},"end":{"line":47,"column":2}},"14":{"start":{"line":46,"column":3},"end":{"line":46,"column":81}},"15":{"start":{"line":52,"column":0},"end":{"line":54,"column":2}},"16":{"start":{"line":53,"column":4},"end":{"line":53,"column":32}},"17":{"start":{"line":60,"column":0},"end":{"line":65,"column":2}},"18":{"start":{"line":61,"column":4},"end":{"line":61,"column":34}},"19":{"start":{"line":62,"column":4},"end":{"line":64,"column":7}},"20":{"start":{"line":63,"column":8},"end":{"line":63,"column":30}},"21":{"start":{"line":70,"column":0},"end":{"line":72,"column":2}},"22":{"start":{"line":71,"column":4},"end":{"line":71,"column":39}},"23":{"start":{"line":77,"column":0},"end":{"line":79,"column":2}},"24":{"start":{"line":78,"column":4},"end":{"line":78,"column":42}},"25":{"start":{"line":81,"column":0},"end":{"line":83,"column":2}},"26":{"start":{"line":82,"column":4},"end":{"line":82,"column":30}},"27":{"start":{"line":85,"column":0},"end":{"line":96,"column":2}},"28":{"start":{"line":87,"column":4},"end":{"line":87,"column":28}},"29":{"start":{"line":90,"column":4},"end":{"line":90,"column":49}},"30":{"start":{"line":91,"column":4},"end":{"line":91,"column":43}},"31":{"start":{"line":92,"column":4},"end":{"line":92,"column":53}},"32":{"start":{"line":93,"column":4},"end":{"line":93,"column":37}},"33":{"start":{"line":95,"column":4},"end":{"line":95,"column":16}},"34":{"start":{"line":98,"column":0},"end":{"line":102,"column":2}},"35":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"36":{"start":{"line":100,"column":9},"end":{"line":100,"column":27}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"2":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":22},"end":{"line":16,"column":40}},{"start":{"line":16,"column":44},"end":{"line":16,"column":53}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":24},"end":{"line":17,"column":40}},{"start":{"line":17,"column":44},"end":{"line":17,"column":46}}]},"4":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":24},"end":{"line":18,"column":40}},{"start":{"line":18,"column":44},"end":{"line":18,"column":53}}]},"5":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param {string} code"," * @param {{bpmnId: string, name: string, type: string}} bpmnElement"," * @param {string} description"," * @constructor"," */","function BPMNParseError(code, bpmnElement, description){","    this.code = code;","    this.description = description;","    if (bpmnElement) { // = null, if we cannot parse the file, for example","        this.bpmnId = bpmnElement.bpmnId || \"Unknown\";","        this.bpmnName = bpmnElement.name || \"\";","        this.bpmnType = bpmnElement.type || \"Unknown\";","    }","}","","/**"," * @param {String=} fileName"," * @return {BPMNParseErrorQueue}"," */","exports.createBPMNParseErrorQueue = function (fileName) {","    return (new BPMNParseErrorQueue(fileName));","};","","/**"," * @param {String=} fileName"," * @constructor"," */","var BPMNParseErrorQueue = function(fileName) {","    /** @tpe {Array.<BuildError>} */","    this.bpmnParseErrors = [];","    this.fileName = fileName;","};","","/**"," * @param {string} code"," * @param {{bpmnId: string, name: string, type: string}} bpmnElement"," * @param {string} description"," */","BPMNParseErrorQueue.prototype.addError = function addError(code, bpmnElement, description) {","   this.bpmnParseErrors.push(new BPMNParseError(code, bpmnElement, description));","};","","/**"," * @return {Array.<BPMNParseError>}"," */","BPMNParseErrorQueue.prototype.getErrors = function getErrors() {","    return this.bpmnParseErrors;","};","","/**"," *"," * @param {function(BPMNParseError)} reportFunction"," */","BPMNParseErrorQueue.prototype.reportErrors = function reportErrors(reportFunction) {","    var errors = this.getErrors();","    errors.forEach(function(error) {","        reportFunction(error);","    });","};","","/**"," * @return {int}"," */","BPMNParseErrorQueue.prototype.getNumberOfErrors = function getNumberOfErrors() {","    return this.bpmnParseErrors.length;","};","","/**"," * @return {Boolean}"," */","BPMNParseErrorQueue.prototype.hasErrors = function hasErrors() {","    return (this.getNumberOfErrors() > 0);","};","","BPMNParseErrorQueue.prototype.clear = function clearErrors() {","    this.bpmnParseErrors = [];","};","","BPMNParseErrorQueue.prototype.throwError = function throwErrors() {","    // call built-in Error object to get stack and other properties required by the test framework","    var error = new Error();","","    // mix-in relevant properties","    error.bpmnParseErrors = this.bpmnParseErrors;","    error.reportErrors = this.reportErrors;","    error.getNumberOfErrors = this.getNumberOfErrors;","    error.getErrors = this.getErrors;","","    throw error;","};","","BPMNParseErrorQueue.prototype.check = function checkErrors() {","    if (this.hasErrors()) {","         this.throwError();","    }","};",""],"l":{"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"26":1,"27":0,"34":1,"36":0,"37":0,"45":1,"46":0,"52":1,"53":0,"60":1,"61":0,"62":0,"63":0,"70":1,"71":0,"77":1,"78":0,"81":1,"82":0,"85":1,"87":0,"90":0,"91":0,"92":0,"93":0,"95":0,"98":1,"99":0,"100":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/process.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/process.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":1,"97":0,"98":1,"99":0,"100":1,"101":0,"102":1,"103":0,"104":1,"105":0,"106":1,"107":0,"108":1,"109":0,"110":1,"111":0,"112":1,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":1,"154":0,"155":1,"156":0,"157":0,"158":1,"159":0,"160":1,"161":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":1,"183":0,"184":1,"185":0,"186":1,"187":0,"188":1,"189":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":1,"211":0,"212":0,"213":0,"214":1,"215":0,"216":0,"217":0,"218":0,"219":0,"220":1,"221":0,"222":0,"223":1,"224":0,"225":0,"226":1,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":1,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":1,"277":0,"278":0,"279":0,"280":0,"281":0,"282":1,"283":0,"284":1,"285":0,"286":1,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":1,"300":0,"301":1,"302":0,"303":0,"304":1,"305":0,"306":0,"307":1,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":1,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":1,"334":0,"335":0,"336":0,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":1,"346":0,"347":0,"348":1,"349":0,"350":1,"351":0,"352":0,"353":0,"354":0,"355":0,"356":1,"357":0,"358":1,"359":0,"360":0,"361":0,"362":0,"363":0,"364":1,"365":0,"366":0,"367":0,"368":0,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":1,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":1,"411":0,"412":0,"413":0,"414":0,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":1,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":1,"475":0,"476":0,"477":0,"478":0,"479":1,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":1,"488":0,"489":0,"490":1,"491":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},"fnMap":{"1":{"name":"(anonymous_1)","line":46,"loc":{"start":{"line":46,"column":52},"end":{"line":46,"column":169}}},"2":{"name":"(anonymous_2)","line":77,"loc":{"start":{"line":77,"column":38},"end":{"line":77,"column":51}}},"3":{"name":"(anonymous_3)","line":84,"loc":{"start":{"line":84,"column":29},"end":{"line":84,"column":39}}},"4":{"name":"BPMNProcess","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":119}}},"5":{"name":"(anonymous_5)","line":144,"loc":{"start":{"line":144,"column":26},"end":{"line":144,"column":96}}},"6":{"name":"(anonymous_6)","line":168,"loc":{"start":{"line":168,"column":38},"end":{"line":168,"column":49}}},"7":{"name":"(anonymous_7)","line":175,"loc":{"start":{"line":175,"column":45},"end":{"line":175,"column":56}}},"8":{"name":"(anonymous_8)","line":182,"loc":{"start":{"line":182,"column":37},"end":{"line":182,"column":48}}},"9":{"name":"(anonymous_9)","line":189,"loc":{"start":{"line":189,"column":34},"end":{"line":189,"column":51}}},"10":{"name":"(anonymous_10)","line":196,"loc":{"start":{"line":196,"column":36},"end":{"line":196,"column":55}}},"11":{"name":"(anonymous_11)","line":203,"loc":{"start":{"line":203,"column":39},"end":{"line":203,"column":61}}},"12":{"name":"(anonymous_12)","line":212,"loc":{"start":{"line":212,"column":40},"end":{"line":212,"column":76}}},"13":{"name":"(anonymous_13)","line":220,"loc":{"start":{"line":220,"column":43},"end":{"line":220,"column":70}}},"14":{"name":"(anonymous_14)","line":227,"loc":{"start":{"line":227,"column":38},"end":{"line":227,"column":49}}},"15":{"name":"(anonymous_15)","line":235,"loc":{"start":{"line":235,"column":37},"end":{"line":235,"column":63}}},"16":{"name":"(anonymous_16)","line":254,"loc":{"start":{"line":254,"column":29},"end":{"line":254,"column":40}}},"17":{"name":"(anonymous_17)","line":283,"loc":{"start":{"line":283,"column":36},"end":{"line":283,"column":64}}},"18":{"name":"(anonymous_18)","line":290,"loc":{"start":{"line":290,"column":75},"end":{"line":290,"column":105}}},"19":{"name":"(anonymous_19)","line":311,"loc":{"start":{"line":311,"column":33},"end":{"line":311,"column":58}}},"20":{"name":"(anonymous_20)","line":320,"loc":{"start":{"line":320,"column":45},"end":{"line":320,"column":81}}},"21":{"name":"(anonymous_21)","line":328,"loc":{"start":{"line":328,"column":43},"end":{"line":328,"column":83}}},"22":{"name":"(anonymous_22)","line":338,"loc":{"start":{"line":338,"column":39},"end":{"line":338,"column":78}}},"23":{"name":"(anonymous_23)","line":345,"loc":{"start":{"line":345,"column":41},"end":{"line":345,"column":52}}},"24":{"name":"(anonymous_24)","line":353,"loc":{"start":{"line":353,"column":36},"end":{"line":353,"column":70}}},"25":{"name":"(anonymous_25)","line":359,"loc":{"start":{"line":359,"column":52},"end":{"line":359,"column":63}}},"26":{"name":"(anonymous_26)","line":368,"loc":{"start":{"line":368,"column":42},"end":{"line":368,"column":80}}},"27":{"name":"(anonymous_27)","line":383,"loc":{"start":{"line":383,"column":46},"end":{"line":383,"column":61}}},"28":{"name":"(anonymous_28)","line":397,"loc":{"start":{"line":397,"column":44},"end":{"line":397,"column":63}}},"29":{"name":"(anonymous_29)","line":404,"loc":{"start":{"line":404,"column":33},"end":{"line":404,"column":44}}},"30":{"name":"(anonymous_30)","line":411,"loc":{"start":{"line":411,"column":35},"end":{"line":411,"column":46}}},"31":{"name":"(anonymous_31)","line":418,"loc":{"start":{"line":418,"column":38},"end":{"line":418,"column":49}}},"32":{"name":"(anonymous_32)","line":425,"loc":{"start":{"line":425,"column":32},"end":{"line":425,"column":58}}},"33":{"name":"(anonymous_33)","line":432,"loc":{"start":{"line":432,"column":21},"end":{"line":432,"column":48}}},"34":{"name":"(anonymous_34)","line":448,"loc":{"start":{"line":448,"column":38},"end":{"line":448,"column":49}}},"35":{"name":"(anonymous_35)","line":475,"loc":{"start":{"line":475,"column":40},"end":{"line":475,"column":55}}},"36":{"name":"(anonymous_36)","line":486,"loc":{"start":{"line":486,"column":39},"end":{"line":486,"column":50}}},"37":{"name":"(anonymous_37)","line":499,"loc":{"start":{"line":499,"column":41},"end":{"line":499,"column":52}}},"38":{"name":"(anonymous_38)","line":507,"loc":{"start":{"line":507,"column":39},"end":{"line":507,"column":61}}},"39":{"name":"(anonymous_39)","line":514,"loc":{"start":{"line":514,"column":42},"end":{"line":514,"column":61}}},"40":{"name":"(anonymous_40)","line":518,"loc":{"start":{"line":518,"column":19},"end":{"line":518,"column":29}}},"41":{"name":"(anonymous_41)","line":526,"loc":{"start":{"line":526,"column":22},"end":{"line":526,"column":50}}},"42":{"name":"(anonymous_42)","line":548,"loc":{"start":{"line":548,"column":54},"end":{"line":548,"column":70}}},"43":{"name":"(anonymous_43)","line":576,"loc":{"start":{"line":576,"column":29},"end":{"line":576,"column":39}}},"44":{"name":"(anonymous_44)","line":586,"loc":{"start":{"line":586,"column":46},"end":{"line":586,"column":65}}},"45":{"name":"(anonymous_45)","line":591,"loc":{"start":{"line":591,"column":19},"end":{"line":591,"column":29}}},"46":{"name":"(anonymous_46)","line":594,"loc":{"start":{"line":594,"column":35},"end":{"line":594,"column":68}}},"47":{"name":"(anonymous_47)","line":597,"loc":{"start":{"line":597,"column":85},"end":{"line":597,"column":113}}},"48":{"name":"(anonymous_48)","line":607,"loc":{"start":{"line":607,"column":41},"end":{"line":607,"column":62}}},"49":{"name":"(anonymous_49)","line":619,"loc":{"start":{"line":619,"column":36},"end":{"line":619,"column":58}}},"50":{"name":"(anonymous_50)","line":627,"loc":{"start":{"line":627,"column":36},"end":{"line":627,"column":51}}},"51":{"name":"(anonymous_51)","line":637,"loc":{"start":{"line":637,"column":36},"end":{"line":637,"column":98}}},"52":{"name":"(anonymous_52)","line":664,"loc":{"start":{"line":664,"column":45},"end":{"line":664,"column":71}}},"53":{"name":"(anonymous_53)","line":673,"loc":{"start":{"line":673,"column":39},"end":{"line":673,"column":95}}},"54":{"name":"(anonymous_54)","line":681,"loc":{"start":{"line":681,"column":42},"end":{"line":681,"column":53}}},"55":{"name":"(anonymous_55)","line":693,"loc":{"start":{"line":693,"column":42},"end":{"line":693,"column":82}}},"56":{"name":"(anonymous_56)","line":697,"loc":{"start":{"line":697,"column":19},"end":{"line":697,"column":30}}},"57":{"name":"(anonymous_57)","line":699,"loc":{"start":{"line":699,"column":69},"end":{"line":699,"column":80}}},"58":{"name":"(anonymous_58)","line":726,"loc":{"start":{"line":726,"column":40},"end":{"line":726,"column":84}}},"59":{"name":"(anonymous_59)","line":730,"loc":{"start":{"line":730,"column":19},"end":{"line":730,"column":30}}},"60":{"name":"(anonymous_60)","line":754,"loc":{"start":{"line":754,"column":37},"end":{"line":754,"column":81}}},"61":{"name":"(anonymous_61)","line":758,"loc":{"start":{"line":758,"column":19},"end":{"line":758,"column":30}}},"62":{"name":"(anonymous_62)","line":783,"loc":{"start":{"line":783,"column":46},"end":{"line":783,"column":70}}},"63":{"name":"(anonymous_63)","line":791,"loc":{"start":{"line":791,"column":48},"end":{"line":791,"column":74}}},"64":{"name":"(anonymous_64)","line":799,"loc":{"start":{"line":799,"column":53},"end":{"line":799,"column":79}}},"65":{"name":"(anonymous_65)","line":803,"loc":{"start":{"line":803,"column":27},"end":{"line":803,"column":51}}},"66":{"name":"(anonymous_66)","line":814,"loc":{"start":{"line":814,"column":57},"end":{"line":814,"column":78}}},"67":{"name":"(anonymous_67)","line":822,"loc":{"start":{"line":822,"column":50},"end":{"line":822,"column":78}}},"68":{"name":"(anonymous_68)","line":826,"loc":{"start":{"line":826,"column":27},"end":{"line":826,"column":51}}},"69":{"name":"(anonymous_69)","line":836,"loc":{"start":{"line":836,"column":51},"end":{"line":836,"column":62}}},"70":{"name":"(anonymous_70)","line":839,"loc":{"start":{"line":839,"column":32},"end":{"line":839,"column":61}}},"71":{"name":"(anonymous_71)","line":853,"loc":{"start":{"line":853,"column":39},"end":{"line":853,"column":54}}},"72":{"name":"(anonymous_72)","line":866,"loc":{"start":{"line":866,"column":16},"end":{"line":866,"column":26}}},"73":{"name":"(anonymous_73)","line":878,"loc":{"start":{"line":878,"column":57},"end":{"line":878,"column":68}}},"74":{"name":"(anonymous_74)","line":881,"loc":{"start":{"line":881,"column":38},"end":{"line":881,"column":64}}},"75":{"name":"(anonymous_75)","line":895,"loc":{"start":{"line":895,"column":33},"end":{"line":895,"column":48}}},"76":{"name":"(anonymous_76)","line":907,"loc":{"start":{"line":907,"column":16},"end":{"line":907,"column":26}}},"77":{"name":"(anonymous_77)","line":919,"loc":{"start":{"line":919,"column":53},"end":{"line":919,"column":64}}},"78":{"name":"(anonymous_78)","line":922,"loc":{"start":{"line":922,"column":34},"end":{"line":922,"column":60}}},"79":{"name":"(anonymous_79)","line":943,"loc":{"start":{"line":943,"column":16},"end":{"line":943,"column":26}}},"80":{"name":"(anonymous_80)","line":955,"loc":{"start":{"line":955,"column":53},"end":{"line":955,"column":64}}},"81":{"name":"(anonymous_81)","line":958,"loc":{"start":{"line":958,"column":29},"end":{"line":958,"column":67}}},"82":{"name":"(anonymous_82)","line":972,"loc":{"start":{"line":972,"column":26},"end":{"line":972,"column":41}}},"83":{"name":"(anonymous_83)","line":1032,"loc":{"start":{"line":1032,"column":35},"end":{"line":1032,"column":72}}},"84":{"name":"(anonymous_84)","line":1044,"loc":{"start":{"line":1044,"column":44},"end":{"line":1044,"column":55}}},"85":{"name":"(anonymous_85)","line":1048,"loc":{"start":{"line":1048,"column":32},"end":{"line":1048,"column":48}}},"86":{"name":"(anonymous_86)","line":1050,"loc":{"start":{"line":1050,"column":25},"end":{"line":1050,"column":35}}},"87":{"name":"(anonymous_87)","line":1064,"loc":{"start":{"line":1064,"column":48},"end":{"line":1064,"column":118}}},"88":{"name":"logDefaultedErrors","line":1072,"loc":{"start":{"line":1072,"column":0},"end":{"line":1072,"column":35}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"8":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":55}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":26}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":50}},"12":{"start":{"line":22,"column":0},"end":{"line":22,"column":62}},"13":{"start":{"line":23,"column":0},"end":{"line":23,"column":68}},"14":{"start":{"line":24,"column":0},"end":{"line":24,"column":65}},"15":{"start":{"line":25,"column":0},"end":{"line":25,"column":77}},"16":{"start":{"line":27,"column":0},"end":{"line":27,"column":91}},"17":{"start":{"line":29,"column":0},"end":{"line":29,"column":48}},"18":{"start":{"line":30,"column":0},"end":{"line":30,"column":46}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":58}},"20":{"start":{"line":32,"column":0},"end":{"line":32,"column":50}},"21":{"start":{"line":46,"column":0},"end":{"line":89,"column":2}},"22":{"start":{"line":47,"column":4},"end":{"line":47,"column":20}},"23":{"start":{"line":49,"column":4},"end":{"line":67,"column":5}},"24":{"start":{"line":50,"column":8},"end":{"line":50,"column":31}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":27}},"26":{"start":{"line":52,"column":8},"end":{"line":52,"column":29}},"27":{"start":{"line":53,"column":8},"end":{"line":53,"column":27}},"28":{"start":{"line":54,"column":8},"end":{"line":54,"column":34}},"29":{"start":{"line":55,"column":11},"end":{"line":67,"column":5}},"30":{"start":{"line":56,"column":8},"end":{"line":56,"column":33}},"31":{"start":{"line":57,"column":8},"end":{"line":57,"column":29}},"32":{"start":{"line":58,"column":8},"end":{"line":58,"column":27}},"33":{"start":{"line":59,"column":8},"end":{"line":59,"column":34}},"34":{"start":{"line":60,"column":11},"end":{"line":67,"column":5}},"35":{"start":{"line":61,"column":8},"end":{"line":61,"column":31}},"36":{"start":{"line":62,"column":8},"end":{"line":62,"column":27}},"37":{"start":{"line":63,"column":8},"end":{"line":63,"column":34}},"38":{"start":{"line":64,"column":11},"end":{"line":67,"column":5}},"39":{"start":{"line":65,"column":8},"end":{"line":65,"column":38}},"40":{"start":{"line":66,"column":8},"end":{"line":66,"column":34}},"41":{"start":{"line":69,"column":4},"end":{"line":71,"column":5}},"42":{"start":{"line":70,"column":8},"end":{"line":70,"column":15}},"43":{"start":{"line":73,"column":4},"end":{"line":73,"column":132}},"44":{"start":{"line":75,"column":4},"end":{"line":88,"column":5}},"45":{"start":{"line":77,"column":8},"end":{"line":81,"column":11}},"46":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"47":{"start":{"line":79,"column":16},"end":{"line":79,"column":43}},"48":{"start":{"line":83,"column":8},"end":{"line":87,"column":9}},"49":{"start":{"line":84,"column":12},"end":{"line":86,"column":15}},"50":{"start":{"line":85,"column":16},"end":{"line":85,"column":44}},"51":{"start":{"line":101,"column":0},"end":{"line":162,"column":1}},"52":{"start":{"line":102,"column":4},"end":{"line":102,"column":20}},"53":{"start":{"line":103,"column":4},"end":{"line":103,"column":49}},"54":{"start":{"line":105,"column":4},"end":{"line":105,"column":24}},"55":{"start":{"line":106,"column":4},"end":{"line":106,"column":47}},"56":{"start":{"line":107,"column":4},"end":{"line":107,"column":37}},"57":{"start":{"line":108,"column":4},"end":{"line":108,"column":39}},"58":{"start":{"line":109,"column":4},"end":{"line":109,"column":63}},"59":{"start":{"line":110,"column":4},"end":{"line":110,"column":35}},"60":{"start":{"line":111,"column":4},"end":{"line":111,"column":29}},"61":{"start":{"line":112,"column":4},"end":{"line":112,"column":29}},"62":{"start":{"line":113,"column":4},"end":{"line":113,"column":53}},"63":{"start":{"line":114,"column":4},"end":{"line":114,"column":27}},"64":{"start":{"line":115,"column":4},"end":{"line":115,"column":25}},"65":{"start":{"line":116,"column":4},"end":{"line":116,"column":30}},"66":{"start":{"line":117,"column":4},"end":{"line":117,"column":72}},"67":{"start":{"line":118,"column":4},"end":{"line":120,"column":5}},"68":{"start":{"line":119,"column":8},"end":{"line":119,"column":72}},"69":{"start":{"line":121,"column":4},"end":{"line":121,"column":27}},"70":{"start":{"line":122,"column":4},"end":{"line":126,"column":6}},"71":{"start":{"line":128,"column":4},"end":{"line":134,"column":5}},"72":{"start":{"line":129,"column":8},"end":{"line":129,"column":64}},"73":{"start":{"line":130,"column":8},"end":{"line":130,"column":42}},"74":{"start":{"line":131,"column":8},"end":{"line":131,"column":39}},"75":{"start":{"line":133,"column":8},"end":{"line":133,"column":44}},"76":{"start":{"line":136,"column":4},"end":{"line":141,"column":5}},"77":{"start":{"line":137,"column":8},"end":{"line":137,"column":77}},"78":{"start":{"line":138,"column":8},"end":{"line":138,"column":53}},"79":{"start":{"line":140,"column":8},"end":{"line":140,"column":48}},"80":{"start":{"line":143,"column":4},"end":{"line":143,"column":45}},"81":{"start":{"line":144,"column":4},"end":{"line":148,"column":6}},"82":{"start":{"line":145,"column":8},"end":{"line":147,"column":9}},"83":{"start":{"line":146,"column":12},"end":{"line":146,"column":42}},"84":{"start":{"line":150,"column":4},"end":{"line":150,"column":38}},"85":{"start":{"line":151,"column":4},"end":{"line":151,"column":87}},"86":{"start":{"line":152,"column":4},"end":{"line":152,"column":87}},"87":{"start":{"line":153,"column":4},"end":{"line":153,"column":60}},"88":{"start":{"line":154,"column":4},"end":{"line":154,"column":62}},"89":{"start":{"line":155,"column":4},"end":{"line":155,"column":54}},"90":{"start":{"line":156,"column":4},"end":{"line":156,"column":50}},"91":{"start":{"line":158,"column":4},"end":{"line":158,"column":40}},"92":{"start":{"line":159,"column":4},"end":{"line":159,"column":38}},"93":{"start":{"line":160,"column":4},"end":{"line":160,"column":44}},"94":{"start":{"line":161,"column":4},"end":{"line":161,"column":40}},"95":{"start":{"line":163,"column":0},"end":{"line":163,"column":41}},"96":{"start":{"line":168,"column":0},"end":{"line":170,"column":2}},"97":{"start":{"line":169,"column":4},"end":{"line":169,"column":78}},"98":{"start":{"line":175,"column":0},"end":{"line":177,"column":2}},"99":{"start":{"line":176,"column":4},"end":{"line":176,"column":34}},"100":{"start":{"line":182,"column":0},"end":{"line":184,"column":2}},"101":{"start":{"line":183,"column":4},"end":{"line":183,"column":26}},"102":{"start":{"line":189,"column":0},"end":{"line":191,"column":2}},"103":{"start":{"line":190,"column":4},"end":{"line":190,"column":25}},"104":{"start":{"line":196,"column":0},"end":{"line":198,"column":2}},"105":{"start":{"line":197,"column":4},"end":{"line":197,"column":38}},"106":{"start":{"line":203,"column":0},"end":{"line":205,"column":2}},"107":{"start":{"line":204,"column":4},"end":{"line":204,"column":42}},"108":{"start":{"line":212,"column":0},"end":{"line":214,"column":2}},"109":{"start":{"line":213,"column":4},"end":{"line":213,"column":56}},"110":{"start":{"line":220,"column":0},"end":{"line":222,"column":2}},"111":{"start":{"line":221,"column":4},"end":{"line":221,"column":50}},"112":{"start":{"line":227,"column":0},"end":{"line":229,"column":2}},"113":{"start":{"line":228,"column":4},"end":{"line":228,"column":27}},"114":{"start":{"line":235,"column":0},"end":{"line":276,"column":3}},"115":{"start":{"line":236,"column":4},"end":{"line":236,"column":20}},"116":{"start":{"line":237,"column":4},"end":{"line":237,"column":51}},"117":{"start":{"line":238,"column":4},"end":{"line":238,"column":35}},"118":{"start":{"line":239,"column":4},"end":{"line":239,"column":75}},"119":{"start":{"line":240,"column":4},"end":{"line":240,"column":74}},"120":{"start":{"line":242,"column":4},"end":{"line":275,"column":5}},"121":{"start":{"line":244,"column":8},"end":{"line":244,"column":93}},"122":{"start":{"line":246,"column":8},"end":{"line":263,"column":9}},"123":{"start":{"line":247,"column":12},"end":{"line":252,"column":13}},"124":{"start":{"line":248,"column":17},"end":{"line":248,"column":113}},"125":{"start":{"line":251,"column":16},"end":{"line":251,"column":51}},"126":{"start":{"line":253,"column":15},"end":{"line":263,"column":9}},"127":{"start":{"line":254,"column":12},"end":{"line":258,"column":15}},"128":{"start":{"line":257,"column":16},"end":{"line":257,"column":75}},"129":{"start":{"line":259,"column":15},"end":{"line":263,"column":9}},"130":{"start":{"line":260,"column":12},"end":{"line":260,"column":67}},"131":{"start":{"line":262,"column":12},"end":{"line":262,"column":132}},"132":{"start":{"line":264,"column":11},"end":{"line":275,"column":5}},"133":{"start":{"line":265,"column":8},"end":{"line":265,"column":74}},"134":{"start":{"line":266,"column":8},"end":{"line":266,"column":75}},"135":{"start":{"line":268,"column":8},"end":{"line":272,"column":9}},"136":{"start":{"line":269,"column":12},"end":{"line":269,"column":48}},"137":{"start":{"line":271,"column":12},"end":{"line":271,"column":120}},"138":{"start":{"line":274,"column":8},"end":{"line":274,"column":116}},"139":{"start":{"line":283,"column":0},"end":{"line":305,"column":2}},"140":{"start":{"line":284,"column":4},"end":{"line":284,"column":20}},"141":{"start":{"line":286,"column":4},"end":{"line":304,"column":5}},"142":{"start":{"line":287,"column":8},"end":{"line":287,"column":45}},"143":{"start":{"line":289,"column":8},"end":{"line":303,"column":9}},"144":{"start":{"line":290,"column":12},"end":{"line":300,"column":15}},"145":{"start":{"line":291,"column":16},"end":{"line":291,"column":109}},"146":{"start":{"line":292,"column":16},"end":{"line":292,"column":95}},"147":{"start":{"line":294,"column":16},"end":{"line":297,"column":56}},"148":{"start":{"line":299,"column":16},"end":{"line":299,"column":73}},"149":{"start":{"line":302,"column":12},"end":{"line":302,"column":156}},"150":{"start":{"line":311,"column":0},"end":{"line":314,"column":2}},"151":{"start":{"line":312,"column":4},"end":{"line":312,"column":61}},"152":{"start":{"line":313,"column":4},"end":{"line":313,"column":46}},"153":{"start":{"line":320,"column":0},"end":{"line":322,"column":2}},"154":{"start":{"line":321,"column":4},"end":{"line":321,"column":55}},"155":{"start":{"line":328,"column":0},"end":{"line":332,"column":2}},"156":{"start":{"line":329,"column":4},"end":{"line":329,"column":85}},"157":{"start":{"line":331,"column":4},"end":{"line":331,"column":56}},"158":{"start":{"line":338,"column":0},"end":{"line":340,"column":2}},"159":{"start":{"line":339,"column":4},"end":{"line":339,"column":53}},"160":{"start":{"line":345,"column":0},"end":{"line":347,"column":2}},"161":{"start":{"line":346,"column":4},"end":{"line":346,"column":30}},"162":{"start":{"line":353,"column":0},"end":{"line":362,"column":2}},"163":{"start":{"line":354,"column":4},"end":{"line":354,"column":20}},"164":{"start":{"line":355,"column":4},"end":{"line":355,"column":38}},"165":{"start":{"line":357,"column":4},"end":{"line":357,"column":51}},"166":{"start":{"line":358,"column":4},"end":{"line":358,"column":63}},"167":{"start":{"line":359,"column":4},"end":{"line":361,"column":7}},"168":{"start":{"line":360,"column":8},"end":{"line":360,"column":57}},"169":{"start":{"line":368,"column":0},"end":{"line":377,"column":2}},"170":{"start":{"line":369,"column":4},"end":{"line":369,"column":20}},"171":{"start":{"line":370,"column":4},"end":{"line":370,"column":69}},"172":{"start":{"line":371,"column":4},"end":{"line":371,"column":87}},"173":{"start":{"line":372,"column":4},"end":{"line":376,"column":5}},"174":{"start":{"line":373,"column":8},"end":{"line":373,"column":70}},"175":{"start":{"line":375,"column":8},"end":{"line":375,"column":15}},"176":{"start":{"line":383,"column":0},"end":{"line":391,"column":2}},"177":{"start":{"line":384,"column":4},"end":{"line":384,"column":20}},"178":{"start":{"line":385,"column":4},"end":{"line":385,"column":69}},"179":{"start":{"line":386,"column":4},"end":{"line":390,"column":5}},"180":{"start":{"line":387,"column":8},"end":{"line":387,"column":62}},"181":{"start":{"line":389,"column":8},"end":{"line":389,"column":15}},"182":{"start":{"line":397,"column":0},"end":{"line":399,"column":2}},"183":{"start":{"line":398,"column":4},"end":{"line":398,"column":43}},"184":{"start":{"line":404,"column":0},"end":{"line":406,"column":2}},"185":{"start":{"line":405,"column":4},"end":{"line":405,"column":22}},"186":{"start":{"line":411,"column":0},"end":{"line":413,"column":2}},"187":{"start":{"line":412,"column":4},"end":{"line":412,"column":24}},"188":{"start":{"line":418,"column":0},"end":{"line":420,"column":2}},"189":{"start":{"line":419,"column":4},"end":{"line":419,"column":27}},"190":{"start":{"line":425,"column":0},"end":{"line":469,"column":2}},"191":{"start":{"line":426,"column":4},"end":{"line":426,"column":48}},"192":{"start":{"line":427,"column":4},"end":{"line":427,"column":39}},"193":{"start":{"line":429,"column":4},"end":{"line":468,"column":5}},"194":{"start":{"line":430,"column":8},"end":{"line":430,"column":34}},"195":{"start":{"line":431,"column":8},"end":{"line":431,"column":44}},"196":{"start":{"line":432,"column":8},"end":{"line":455,"column":11}},"197":{"start":{"line":433,"column":12},"end":{"line":454,"column":13}},"198":{"start":{"line":434,"column":16},"end":{"line":435,"column":102}},"199":{"start":{"line":437,"column":16},"end":{"line":439,"column":17}},"200":{"start":{"line":438,"column":20},"end":{"line":438,"column":89}},"201":{"start":{"line":441,"column":16},"end":{"line":443,"column":17}},"202":{"start":{"line":442,"column":20},"end":{"line":442,"column":99}},"203":{"start":{"line":445,"column":16},"end":{"line":445,"column":67}},"204":{"start":{"line":447,"column":16},"end":{"line":453,"column":17}},"205":{"start":{"line":448,"column":20},"end":{"line":450,"column":23}},"206":{"start":{"line":449,"column":24},"end":{"line":449,"column":58}},"207":{"start":{"line":452,"column":20},"end":{"line":452,"column":54}},"208":{"start":{"line":457,"column":8},"end":{"line":466,"column":10}},"209":{"start":{"line":467,"column":8},"end":{"line":467,"column":56}},"210":{"start":{"line":475,"column":0},"end":{"line":480,"column":2}},"211":{"start":{"line":476,"column":4},"end":{"line":476,"column":39}},"212":{"start":{"line":477,"column":4},"end":{"line":479,"column":5}},"213":{"start":{"line":478,"column":8},"end":{"line":478,"column":32}},"214":{"start":{"line":486,"column":0},"end":{"line":494,"column":2}},"215":{"start":{"line":487,"column":4},"end":{"line":487,"column":20}},"216":{"start":{"line":488,"column":4},"end":{"line":492,"column":5}},"217":{"start":{"line":489,"column":8},"end":{"line":489,"column":58}},"218":{"start":{"line":491,"column":8},"end":{"line":491,"column":27}},"219":{"start":{"line":493,"column":4},"end":{"line":493,"column":23}},"220":{"start":{"line":499,"column":0},"end":{"line":502,"column":3}},"221":{"start":{"line":500,"column":4},"end":{"line":500,"column":44}},"222":{"start":{"line":501,"column":4},"end":{"line":501,"column":35}},"223":{"start":{"line":507,"column":0},"end":{"line":510,"column":2}},"224":{"start":{"line":508,"column":4},"end":{"line":508,"column":44}},"225":{"start":{"line":509,"column":4},"end":{"line":509,"column":42}},"226":{"start":{"line":514,"column":0},"end":{"line":582,"column":2}},"227":{"start":{"line":515,"column":4},"end":{"line":515,"column":57}},"228":{"start":{"line":517,"column":4},"end":{"line":519,"column":5}},"229":{"start":{"line":518,"column":8},"end":{"line":518,"column":32}},"230":{"start":{"line":521,"column":4},"end":{"line":580,"column":5}},"231":{"start":{"line":522,"column":8},"end":{"line":522,"column":34}},"232":{"start":{"line":523,"column":8},"end":{"line":523,"column":44}},"233":{"start":{"line":524,"column":8},"end":{"line":524,"column":42}},"234":{"start":{"line":525,"column":8},"end":{"line":525,"column":57}},"235":{"start":{"line":526,"column":8},"end":{"line":572,"column":10}},"236":{"start":{"line":528,"column":12},"end":{"line":570,"column":13}},"237":{"start":{"line":529,"column":16},"end":{"line":530,"column":79}},"238":{"start":{"line":531,"column":16},"end":{"line":533,"column":17}},"239":{"start":{"line":532,"column":20},"end":{"line":532,"column":102}},"240":{"start":{"line":534,"column":16},"end":{"line":534,"column":44}},"241":{"start":{"line":536,"column":16},"end":{"line":569,"column":17}},"242":{"start":{"line":537,"column":20},"end":{"line":546,"column":21}},"243":{"start":{"line":538,"column":24},"end":{"line":538,"column":65}},"244":{"start":{"line":540,"column":24},"end":{"line":541,"column":88}},"245":{"start":{"line":542,"column":24},"end":{"line":544,"column":25}},"246":{"start":{"line":543,"column":28},"end":{"line":543,"column":111}},"247":{"start":{"line":545,"column":24},"end":{"line":545,"column":60}},"248":{"start":{"line":548,"column":20},"end":{"line":564,"column":23}},"249":{"start":{"line":549,"column":24},"end":{"line":556,"column":25}},"250":{"start":{"line":550,"column":28},"end":{"line":551,"column":92}},"251":{"start":{"line":552,"column":28},"end":{"line":554,"column":29}},"252":{"start":{"line":553,"column":32},"end":{"line":553,"column":115}},"253":{"start":{"line":555,"column":28},"end":{"line":555,"column":64}},"254":{"start":{"line":558,"column":24},"end":{"line":560,"column":25}},"255":{"start":{"line":559,"column":28},"end":{"line":559,"column":109}},"256":{"start":{"line":562,"column":24},"end":{"line":562,"column":58}},"257":{"start":{"line":563,"column":24},"end":{"line":563,"column":51}},"258":{"start":{"line":567,"column":20},"end":{"line":567,"column":54}},"259":{"start":{"line":568,"column":20},"end":{"line":568,"column":47}},"260":{"start":{"line":573,"column":8},"end":{"line":573,"column":74}},"261":{"start":{"line":575,"column":8},"end":{"line":579,"column":9}},"262":{"start":{"line":576,"column":12},"end":{"line":578,"column":15}},"263":{"start":{"line":577,"column":16},"end":{"line":577,"column":27}},"264":{"start":{"line":586,"column":0},"end":{"line":605,"column":2}},"265":{"start":{"line":587,"column":4},"end":{"line":587,"column":20}},"266":{"start":{"line":588,"column":4},"end":{"line":588,"column":65}},"267":{"start":{"line":590,"column":4},"end":{"line":592,"column":5}},"268":{"start":{"line":591,"column":8},"end":{"line":591,"column":32}},"269":{"start":{"line":594,"column":4},"end":{"line":603,"column":17}},"270":{"start":{"line":595,"column":8},"end":{"line":595,"column":58}},"271":{"start":{"line":596,"column":8},"end":{"line":596,"column":88}},"272":{"start":{"line":597,"column":8},"end":{"line":602,"column":11}},"273":{"start":{"line":598,"column":12},"end":{"line":600,"column":13}},"274":{"start":{"line":599,"column":16},"end":{"line":599,"column":26}},"275":{"start":{"line":601,"column":12},"end":{"line":601,"column":54}},"276":{"start":{"line":607,"column":0},"end":{"line":613,"column":2}},"277":{"start":{"line":608,"column":4},"end":{"line":608,"column":56}},"278":{"start":{"line":609,"column":4},"end":{"line":609,"column":62}},"279":{"start":{"line":610,"column":4},"end":{"line":610,"column":63}},"280":{"start":{"line":611,"column":4},"end":{"line":611,"column":75}},"281":{"start":{"line":612,"column":4},"end":{"line":612,"column":50}},"282":{"start":{"line":619,"column":0},"end":{"line":621,"column":2}},"283":{"start":{"line":620,"column":4},"end":{"line":620,"column":34}},"284":{"start":{"line":627,"column":0},"end":{"line":629,"column":2}},"285":{"start":{"line":628,"column":4},"end":{"line":628,"column":33}},"286":{"start":{"line":637,"column":0},"end":{"line":657,"column":2}},"287":{"start":{"line":638,"column":4},"end":{"line":638,"column":17}},"288":{"start":{"line":639,"column":4},"end":{"line":639,"column":20}},"289":{"start":{"line":641,"column":4},"end":{"line":641,"column":48}},"290":{"start":{"line":643,"column":4},"end":{"line":650,"column":5}},"291":{"start":{"line":644,"column":8},"end":{"line":644,"column":89}},"292":{"start":{"line":645,"column":8},"end":{"line":645,"column":49}},"293":{"start":{"line":646,"column":8},"end":{"line":646,"column":43}},"294":{"start":{"line":647,"column":8},"end":{"line":647,"column":44}},"295":{"start":{"line":649,"column":8},"end":{"line":649,"column":58}},"296":{"start":{"line":652,"column":4},"end":{"line":656,"column":5}},"297":{"start":{"line":653,"column":8},"end":{"line":653,"column":96}},"298":{"start":{"line":655,"column":8},"end":{"line":655,"column":49}},"299":{"start":{"line":664,"column":0},"end":{"line":666,"column":2}},"300":{"start":{"line":665,"column":4},"end":{"line":665,"column":57}},"301":{"start":{"line":673,"column":0},"end":{"line":676,"column":2}},"302":{"start":{"line":674,"column":4},"end":{"line":674,"column":98}},"303":{"start":{"line":675,"column":4},"end":{"line":675,"column":43}},"304":{"start":{"line":681,"column":0},"end":{"line":684,"column":2}},"305":{"start":{"line":682,"column":4},"end":{"line":682,"column":69}},"306":{"start":{"line":683,"column":4},"end":{"line":683,"column":67}},"307":{"start":{"line":693,"column":0},"end":{"line":718,"column":2}},"308":{"start":{"line":694,"column":4},"end":{"line":694,"column":20}},"309":{"start":{"line":695,"column":4},"end":{"line":695,"column":38}},"310":{"start":{"line":697,"column":4},"end":{"line":705,"column":6}},"311":{"start":{"line":698,"column":8},"end":{"line":704,"column":9}},"312":{"start":{"line":699,"column":12},"end":{"line":701,"column":15}},"313":{"start":{"line":700,"column":16},"end":{"line":700,"column":23}},"314":{"start":{"line":703,"column":12},"end":{"line":703,"column":19}},"315":{"start":{"line":707,"column":4},"end":{"line":707,"column":45}},"316":{"start":{"line":709,"column":4},"end":{"line":711,"column":5}},"317":{"start":{"line":710,"column":8},"end":{"line":710,"column":63}},"318":{"start":{"line":713,"column":4},"end":{"line":717,"column":5}},"319":{"start":{"line":714,"column":8},"end":{"line":714,"column":47}},"320":{"start":{"line":716,"column":8},"end":{"line":716,"column":19}},"321":{"start":{"line":726,"column":0},"end":{"line":746,"column":2}},"322":{"start":{"line":727,"column":4},"end":{"line":727,"column":20}},"323":{"start":{"line":728,"column":4},"end":{"line":728,"column":31}},"324":{"start":{"line":730,"column":4},"end":{"line":739,"column":6}},"325":{"start":{"line":731,"column":8},"end":{"line":731,"column":46}},"326":{"start":{"line":732,"column":8},"end":{"line":734,"column":9}},"327":{"start":{"line":733,"column":12},"end":{"line":733,"column":73}},"328":{"start":{"line":736,"column":8},"end":{"line":738,"column":9}},"329":{"start":{"line":737,"column":12},"end":{"line":737,"column":19}},"330":{"start":{"line":741,"column":4},"end":{"line":745,"column":5}},"331":{"start":{"line":742,"column":8},"end":{"line":742,"column":90}},"332":{"start":{"line":744,"column":8},"end":{"line":744,"column":19}},"333":{"start":{"line":754,"column":0},"end":{"line":778,"column":2}},"334":{"start":{"line":755,"column":4},"end":{"line":755,"column":20}},"335":{"start":{"line":756,"column":4},"end":{"line":756,"column":36}},"336":{"start":{"line":758,"column":4},"end":{"line":771,"column":6}},"337":{"start":{"line":759,"column":8},"end":{"line":761,"column":9}},"338":{"start":{"line":760,"column":12},"end":{"line":760,"column":19}},"339":{"start":{"line":762,"column":8},"end":{"line":770,"column":9}},"340":{"start":{"line":763,"column":12},"end":{"line":763,"column":69}},"341":{"start":{"line":769,"column":12},"end":{"line":769,"column":31}},"342":{"start":{"line":773,"column":4},"end":{"line":777,"column":5}},"343":{"start":{"line":774,"column":8},"end":{"line":774,"column":45}},"344":{"start":{"line":776,"column":8},"end":{"line":776,"column":19}},"345":{"start":{"line":783,"column":0},"end":{"line":786,"column":2}},"346":{"start":{"line":784,"column":4},"end":{"line":784,"column":50}},"347":{"start":{"line":785,"column":4},"end":{"line":785,"column":58}},"348":{"start":{"line":791,"column":0},"end":{"line":793,"column":2}},"349":{"start":{"line":792,"column":4},"end":{"line":792,"column":49}},"350":{"start":{"line":799,"column":0},"end":{"line":808,"column":2}},"351":{"start":{"line":800,"column":4},"end":{"line":800,"column":20}},"352":{"start":{"line":801,"column":4},"end":{"line":801,"column":85}},"353":{"start":{"line":803,"column":4},"end":{"line":807,"column":7}},"354":{"start":{"line":804,"column":8},"end":{"line":806,"column":9}},"355":{"start":{"line":805,"column":12},"end":{"line":805,"column":73}},"356":{"start":{"line":814,"column":0},"end":{"line":816,"column":2}},"357":{"start":{"line":815,"column":4},"end":{"line":815,"column":66}},"358":{"start":{"line":822,"column":0},"end":{"line":831,"column":2}},"359":{"start":{"line":823,"column":4},"end":{"line":823,"column":20}},"360":{"start":{"line":824,"column":4},"end":{"line":824,"column":87}},"361":{"start":{"line":826,"column":4},"end":{"line":830,"column":7}},"362":{"start":{"line":827,"column":8},"end":{"line":829,"column":9}},"363":{"start":{"line":828,"column":12},"end":{"line":828,"column":70}},"364":{"start":{"line":836,"column":0},"end":{"line":873,"column":2}},"365":{"start":{"line":837,"column":4},"end":{"line":837,"column":20}},"366":{"start":{"line":839,"column":4},"end":{"line":872,"column":7}},"367":{"start":{"line":840,"column":8},"end":{"line":840,"column":103}},"368":{"start":{"line":841,"column":8},"end":{"line":841,"column":96}},"369":{"start":{"line":842,"column":8},"end":{"line":842,"column":41}},"370":{"start":{"line":844,"column":8},"end":{"line":846,"column":9}},"371":{"start":{"line":845,"column":12},"end":{"line":845,"column":156}},"372":{"start":{"line":848,"column":8},"end":{"line":871,"column":9}},"373":{"start":{"line":849,"column":12},"end":{"line":849,"column":66}},"374":{"start":{"line":850,"column":12},"end":{"line":850,"column":59}},"375":{"start":{"line":851,"column":12},"end":{"line":851,"column":111}},"376":{"start":{"line":852,"column":12},"end":{"line":852,"column":108}},"377":{"start":{"line":853,"column":12},"end":{"line":860,"column":14}},"378":{"start":{"line":854,"column":16},"end":{"line":857,"column":17}},"379":{"start":{"line":855,"column":20},"end":{"line":855,"column":104}},"380":{"start":{"line":856,"column":20},"end":{"line":856,"column":30}},"381":{"start":{"line":858,"column":16},"end":{"line":858,"column":78}},"382":{"start":{"line":859,"column":16},"end":{"line":859,"column":74}},"383":{"start":{"line":861,"column":12},"end":{"line":861,"column":118}},"384":{"start":{"line":862,"column":12},"end":{"line":862,"column":93}},"385":{"start":{"line":864,"column":12},"end":{"line":870,"column":19}},"386":{"start":{"line":867,"column":20},"end":{"line":869,"column":21}},"387":{"start":{"line":868,"column":24},"end":{"line":868,"column":34}},"388":{"start":{"line":878,"column":0},"end":{"line":914,"column":2}},"389":{"start":{"line":879,"column":4},"end":{"line":879,"column":20}},"390":{"start":{"line":881,"column":4},"end":{"line":913,"column":7}},"391":{"start":{"line":882,"column":8},"end":{"line":882,"column":61}},"392":{"start":{"line":883,"column":8},"end":{"line":883,"column":65}},"393":{"start":{"line":884,"column":8},"end":{"line":884,"column":41}},"394":{"start":{"line":886,"column":8},"end":{"line":888,"column":9}},"395":{"start":{"line":887,"column":12},"end":{"line":887,"column":146}},"396":{"start":{"line":890,"column":8},"end":{"line":912,"column":9}},"397":{"start":{"line":891,"column":12},"end":{"line":893,"column":13}},"398":{"start":{"line":892,"column":16},"end":{"line":892,"column":94}},"399":{"start":{"line":894,"column":12},"end":{"line":894,"column":97}},"400":{"start":{"line":895,"column":12},"end":{"line":901,"column":14}},"401":{"start":{"line":896,"column":16},"end":{"line":898,"column":17}},"402":{"start":{"line":897,"column":20},"end":{"line":897,"column":30}},"403":{"start":{"line":899,"column":16},"end":{"line":899,"column":78}},"404":{"start":{"line":900,"column":16},"end":{"line":900,"column":75}},"405":{"start":{"line":902,"column":12},"end":{"line":902,"column":121}},"406":{"start":{"line":903,"column":12},"end":{"line":903,"column":77}},"407":{"start":{"line":905,"column":12},"end":{"line":911,"column":19}},"408":{"start":{"line":908,"column":20},"end":{"line":910,"column":21}},"409":{"start":{"line":909,"column":24},"end":{"line":909,"column":34}},"410":{"start":{"line":919,"column":0},"end":{"line":950,"column":2}},"411":{"start":{"line":920,"column":4},"end":{"line":920,"column":20}},"412":{"start":{"line":922,"column":4},"end":{"line":949,"column":7}},"413":{"start":{"line":923,"column":8},"end":{"line":923,"column":65}},"414":{"start":{"line":924,"column":8},"end":{"line":924,"column":93}},"415":{"start":{"line":925,"column":8},"end":{"line":925,"column":100}},"416":{"start":{"line":926,"column":8},"end":{"line":926,"column":41}},"417":{"start":{"line":928,"column":8},"end":{"line":930,"column":9}},"418":{"start":{"line":929,"column":12},"end":{"line":929,"column":146}},"419":{"start":{"line":932,"column":8},"end":{"line":932,"column":85}},"420":{"start":{"line":934,"column":8},"end":{"line":948,"column":9}},"421":{"start":{"line":935,"column":12},"end":{"line":937,"column":13}},"422":{"start":{"line":936,"column":16},"end":{"line":936,"column":101}},"423":{"start":{"line":938,"column":12},"end":{"line":938,"column":47}},"424":{"start":{"line":939,"column":12},"end":{"line":939,"column":61}},"425":{"start":{"line":941,"column":12},"end":{"line":947,"column":19}},"426":{"start":{"line":944,"column":20},"end":{"line":946,"column":21}},"427":{"start":{"line":945,"column":24},"end":{"line":945,"column":34}},"428":{"start":{"line":955,"column":0},"end":{"line":1024,"column":2}},"429":{"start":{"line":956,"column":4},"end":{"line":956,"column":20}},"430":{"start":{"line":958,"column":4},"end":{"line":1023,"column":8}},"431":{"start":{"line":959,"column":8},"end":{"line":959,"column":24}},"432":{"start":{"line":960,"column":8},"end":{"line":960,"column":98}},"433":{"start":{"line":961,"column":8},"end":{"line":961,"column":34}},"434":{"start":{"line":963,"column":8},"end":{"line":963,"column":116}},"435":{"start":{"line":964,"column":8},"end":{"line":1022,"column":9}},"436":{"start":{"line":967,"column":12},"end":{"line":969,"column":13}},"437":{"start":{"line":968,"column":16},"end":{"line":968,"column":73}},"438":{"start":{"line":970,"column":12},"end":{"line":970,"column":27}},"439":{"start":{"line":972,"column":12},"end":{"line":999,"column":14}},"440":{"start":{"line":973,"column":16},"end":{"line":998,"column":17}},"441":{"start":{"line":974,"column":20},"end":{"line":976,"column":21}},"442":{"start":{"line":975,"column":24},"end":{"line":975,"column":34}},"443":{"start":{"line":977,"column":20},"end":{"line":977,"column":73}},"444":{"start":{"line":978,"column":20},"end":{"line":978,"column":35}},"445":{"start":{"line":979,"column":23},"end":{"line":998,"column":17}},"446":{"start":{"line":980,"column":20},"end":{"line":982,"column":21}},"447":{"start":{"line":981,"column":24},"end":{"line":981,"column":34}},"448":{"start":{"line":983,"column":20},"end":{"line":983,"column":73}},"449":{"start":{"line":984,"column":20},"end":{"line":984,"column":62}},"450":{"start":{"line":985,"column":23},"end":{"line":998,"column":17}},"451":{"start":{"line":986,"column":20},"end":{"line":989,"column":21}},"452":{"start":{"line":987,"column":24},"end":{"line":987,"column":117}},"453":{"start":{"line":988,"column":24},"end":{"line":988,"column":34}},"454":{"start":{"line":990,"column":20},"end":{"line":990,"column":62}},"455":{"start":{"line":991,"column":23},"end":{"line":998,"column":17}},"456":{"start":{"line":992,"column":20},"end":{"line":992,"column":62}},"457":{"start":{"line":994,"column":20},"end":{"line":996,"column":21}},"458":{"start":{"line":995,"column":24},"end":{"line":995,"column":34}},"459":{"start":{"line":997,"column":20},"end":{"line":997,"column":62}},"460":{"start":{"line":1001,"column":12},"end":{"line":1019,"column":13}},"461":{"start":{"line":1002,"column":16},"end":{"line":1004,"column":17}},"462":{"start":{"line":1003,"column":20},"end":{"line":1003,"column":110}},"463":{"start":{"line":1006,"column":16},"end":{"line":1018,"column":17}},"464":{"start":{"line":1007,"column":20},"end":{"line":1007,"column":166}},"465":{"start":{"line":1009,"column":20},"end":{"line":1017,"column":21}},"466":{"start":{"line":1010,"column":24},"end":{"line":1010,"column":119}},"467":{"start":{"line":1011,"column":27},"end":{"line":1017,"column":21}},"468":{"start":{"line":1012,"column":24},"end":{"line":1012,"column":114}},"469":{"start":{"line":1013,"column":27},"end":{"line":1017,"column":21}},"470":{"start":{"line":1014,"column":24},"end":{"line":1014,"column":114}},"471":{"start":{"line":1015,"column":27},"end":{"line":1017,"column":21}},"472":{"start":{"line":1016,"column":24},"end":{"line":1016,"column":112}},"473":{"start":{"line":1021,"column":12},"end":{"line":1021,"column":80}},"474":{"start":{"line":1032,"column":0},"end":{"line":1039,"column":2}},"475":{"start":{"line":1033,"column":4},"end":{"line":1033,"column":22}},"476":{"start":{"line":1034,"column":4},"end":{"line":1038,"column":5}},"477":{"start":{"line":1035,"column":8},"end":{"line":1035,"column":81}},"478":{"start":{"line":1037,"column":8},"end":{"line":1037,"column":46}},"479":{"start":{"line":1044,"column":0},"end":{"line":1055,"column":2}},"480":{"start":{"line":1045,"column":4},"end":{"line":1045,"column":20}},"481":{"start":{"line":1047,"column":4},"end":{"line":1047,"column":31}},"482":{"start":{"line":1048,"column":4},"end":{"line":1053,"column":7}},"483":{"start":{"line":1049,"column":8},"end":{"line":1049,"column":106}},"484":{"start":{"line":1050,"column":8},"end":{"line":1052,"column":11}},"485":{"start":{"line":1051,"column":12},"end":{"line":1051,"column":57}},"486":{"start":{"line":1054,"column":4},"end":{"line":1054,"column":29}},"487":{"start":{"line":1064,"column":0},"end":{"line":1067,"column":2}},"488":{"start":{"line":1065,"column":4},"end":{"line":1065,"column":148}},"489":{"start":{"line":1066,"column":4},"end":{"line":1066,"column":115}},"490":{"start":{"line":1072,"column":0},"end":{"line":1074,"column":1}},"491":{"start":{"line":1073,"column":4},"end":{"line":1073,"column":80}}},"branchMap":{"1":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"2":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":11},"end":{"line":55,"column":11}},{"start":{"line":55,"column":11},"end":{"line":55,"column":11}}]},"3":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":11},"end":{"line":60,"column":11}},{"start":{"line":60,"column":11},"end":{"line":60,"column":11}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":11},"end":{"line":64,"column":11}},{"start":{"line":64,"column":11},"end":{"line":64,"column":11}}]},"5":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"6":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"7":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":12}},{"start":{"line":78,"column":12},"end":{"line":78,"column":12}}]},"8":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":8}},{"start":{"line":83,"column":8},"end":{"line":83,"column":8}}]},"9":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"10":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":4},"end":{"line":128,"column":4}},{"start":{"line":128,"column":4},"end":{"line":128,"column":4}}]},"11":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":136,"column":4}},{"start":{"line":136,"column":4},"end":{"line":136,"column":4}}]},"12":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":8}},{"start":{"line":145,"column":8},"end":{"line":145,"column":8}}]},"13":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":19},"end":{"line":150,"column":31}},{"start":{"line":150,"column":35},"end":{"line":150,"column":37}}]},"14":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":31},"end":{"line":151,"column":63}},{"start":{"line":151,"column":67},"end":{"line":151,"column":86}}]},"15":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":31},"end":{"line":152,"column":63}},{"start":{"line":152,"column":67},"end":{"line":152,"column":86}}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":13},"end":{"line":169,"column":45}},{"start":{"line":169,"column":49},"end":{"line":169,"column":76}}]},"17":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":4},"end":{"line":242,"column":4}},{"start":{"line":242,"column":4},"end":{"line":242,"column":4}}]},"18":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":8},"end":{"line":246,"column":8}},{"start":{"line":246,"column":8},"end":{"line":246,"column":8}}]},"19":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":12},"end":{"line":247,"column":12}},{"start":{"line":247,"column":12},"end":{"line":247,"column":12}}]},"20":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":15},"end":{"line":253,"column":15}},{"start":{"line":253,"column":15},"end":{"line":253,"column":15}}]},"21":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":15},"end":{"line":259,"column":15}},{"start":{"line":259,"column":15},"end":{"line":259,"column":15}}]},"22":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":11},"end":{"line":264,"column":11}},{"start":{"line":264,"column":11},"end":{"line":264,"column":11}}]},"23":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":8},"end":{"line":268,"column":8}},{"start":{"line":268,"column":8},"end":{"line":268,"column":8}}]},"24":{"line":268,"type":"binary-expr","locations":[{"start":{"line":268,"column":11},"end":{"line":268,"column":21}},{"start":{"line":268,"column":25},"end":{"line":268,"column":46}}]},"25":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":4},"end":{"line":286,"column":4}},{"start":{"line":286,"column":4},"end":{"line":286,"column":4}}]},"26":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":8},"end":{"line":289,"column":8}},{"start":{"line":289,"column":8},"end":{"line":289,"column":8}}]},"27":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":4}},{"start":{"line":372,"column":4},"end":{"line":372,"column":4}}]},"28":{"line":372,"type":"binary-expr","locations":[{"start":{"line":372,"column":8},"end":{"line":372,"column":25}},{"start":{"line":372,"column":29},"end":{"line":372,"column":39}}]},"29":{"line":386,"type":"if","locations":[{"start":{"line":386,"column":4},"end":{"line":386,"column":4}},{"start":{"line":386,"column":4},"end":{"line":386,"column":4}}]},"30":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":4},"end":{"line":429,"column":4}},{"start":{"line":429,"column":4},"end":{"line":429,"column":4}}]},"31":{"line":433,"type":"if","locations":[{"start":{"line":433,"column":12},"end":{"line":433,"column":12}},{"start":{"line":433,"column":12},"end":{"line":433,"column":12}}]},"32":{"line":437,"type":"if","locations":[{"start":{"line":437,"column":16},"end":{"line":437,"column":16}},{"start":{"line":437,"column":16},"end":{"line":437,"column":16}}]},"33":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":16},"end":{"line":441,"column":16}},{"start":{"line":441,"column":16},"end":{"line":441,"column":16}}]},"34":{"line":447,"type":"if","locations":[{"start":{"line":447,"column":16},"end":{"line":447,"column":16}},{"start":{"line":447,"column":16},"end":{"line":447,"column":16}}]},"35":{"line":460,"type":"binary-expr","locations":[{"start":{"line":460,"column":25},"end":{"line":460,"column":48}},{"start":{"line":460,"column":52},"end":{"line":460,"column":56}}]},"36":{"line":477,"type":"if","locations":[{"start":{"line":477,"column":4},"end":{"line":477,"column":4}},{"start":{"line":477,"column":4},"end":{"line":477,"column":4}}]},"37":{"line":488,"type":"if","locations":[{"start":{"line":488,"column":4},"end":{"line":488,"column":4}},{"start":{"line":488,"column":4},"end":{"line":488,"column":4}}]},"38":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":4},"end":{"line":517,"column":4}},{"start":{"line":517,"column":4},"end":{"line":517,"column":4}}]},"39":{"line":521,"type":"if","locations":[{"start":{"line":521,"column":4},"end":{"line":521,"column":4}},{"start":{"line":521,"column":4},"end":{"line":521,"column":4}}]},"40":{"line":528,"type":"if","locations":[{"start":{"line":528,"column":12},"end":{"line":528,"column":12}},{"start":{"line":528,"column":12},"end":{"line":528,"column":12}}]},"41":{"line":531,"type":"if","locations":[{"start":{"line":531,"column":16},"end":{"line":531,"column":16}},{"start":{"line":531,"column":16},"end":{"line":531,"column":16}}]},"42":{"line":536,"type":"if","locations":[{"start":{"line":536,"column":16},"end":{"line":536,"column":16}},{"start":{"line":536,"column":16},"end":{"line":536,"column":16}}]},"43":{"line":542,"type":"if","locations":[{"start":{"line":542,"column":24},"end":{"line":542,"column":24}},{"start":{"line":542,"column":24},"end":{"line":542,"column":24}}]},"44":{"line":549,"type":"if","locations":[{"start":{"line":549,"column":24},"end":{"line":549,"column":24}},{"start":{"line":549,"column":24},"end":{"line":549,"column":24}}]},"45":{"line":552,"type":"if","locations":[{"start":{"line":552,"column":28},"end":{"line":552,"column":28}},{"start":{"line":552,"column":28},"end":{"line":552,"column":28}}]},"46":{"line":558,"type":"if","locations":[{"start":{"line":558,"column":24},"end":{"line":558,"column":24}},{"start":{"line":558,"column":24},"end":{"line":558,"column":24}}]},"47":{"line":575,"type":"if","locations":[{"start":{"line":575,"column":8},"end":{"line":575,"column":8}},{"start":{"line":575,"column":8},"end":{"line":575,"column":8}}]},"48":{"line":590,"type":"if","locations":[{"start":{"line":590,"column":4},"end":{"line":590,"column":4}},{"start":{"line":590,"column":4},"end":{"line":590,"column":4}}]},"49":{"line":598,"type":"if","locations":[{"start":{"line":598,"column":12},"end":{"line":598,"column":12}},{"start":{"line":598,"column":12},"end":{"line":598,"column":12}}]},"50":{"line":612,"type":"binary-expr","locations":[{"start":{"line":612,"column":22},"end":{"line":612,"column":43}},{"start":{"line":612,"column":47},"end":{"line":612,"column":49}}]},"51":{"line":643,"type":"if","locations":[{"start":{"line":643,"column":4},"end":{"line":643,"column":4}},{"start":{"line":643,"column":4},"end":{"line":643,"column":4}}]},"52":{"line":652,"type":"if","locations":[{"start":{"line":652,"column":4},"end":{"line":652,"column":4}},{"start":{"line":652,"column":4},"end":{"line":652,"column":4}}]},"53":{"line":652,"type":"binary-expr","locations":[{"start":{"line":652,"column":8},"end":{"line":652,"column":40}},{"start":{"line":652,"column":44},"end":{"line":652,"column":74}}]},"54":{"line":683,"type":"binary-expr","locations":[{"start":{"line":683,"column":12},"end":{"line":683,"column":29}},{"start":{"line":683,"column":33},"end":{"line":683,"column":65}}]},"55":{"line":698,"type":"if","locations":[{"start":{"line":698,"column":8},"end":{"line":698,"column":8}},{"start":{"line":698,"column":8},"end":{"line":698,"column":8}}]},"56":{"line":709,"type":"if","locations":[{"start":{"line":709,"column":4},"end":{"line":709,"column":4}},{"start":{"line":709,"column":4},"end":{"line":709,"column":4}}]},"57":{"line":713,"type":"if","locations":[{"start":{"line":713,"column":4},"end":{"line":713,"column":4}},{"start":{"line":713,"column":4},"end":{"line":713,"column":4}}]},"58":{"line":732,"type":"if","locations":[{"start":{"line":732,"column":8},"end":{"line":732,"column":8}},{"start":{"line":732,"column":8},"end":{"line":732,"column":8}}]},"59":{"line":736,"type":"if","locations":[{"start":{"line":736,"column":8},"end":{"line":736,"column":8}},{"start":{"line":736,"column":8},"end":{"line":736,"column":8}}]},"60":{"line":741,"type":"if","locations":[{"start":{"line":741,"column":4},"end":{"line":741,"column":4}},{"start":{"line":741,"column":4},"end":{"line":741,"column":4}}]},"61":{"line":759,"type":"if","locations":[{"start":{"line":759,"column":8},"end":{"line":759,"column":8}},{"start":{"line":759,"column":8},"end":{"line":759,"column":8}}]},"62":{"line":762,"type":"if","locations":[{"start":{"line":762,"column":8},"end":{"line":762,"column":8}},{"start":{"line":762,"column":8},"end":{"line":762,"column":8}}]},"63":{"line":773,"type":"if","locations":[{"start":{"line":773,"column":4},"end":{"line":773,"column":4}},{"start":{"line":773,"column":4},"end":{"line":773,"column":4}}]},"64":{"line":804,"type":"if","locations":[{"start":{"line":804,"column":8},"end":{"line":804,"column":8}},{"start":{"line":804,"column":8},"end":{"line":804,"column":8}}]},"65":{"line":827,"type":"if","locations":[{"start":{"line":827,"column":8},"end":{"line":827,"column":8}},{"start":{"line":827,"column":8},"end":{"line":827,"column":8}}]},"66":{"line":844,"type":"if","locations":[{"start":{"line":844,"column":8},"end":{"line":844,"column":8}},{"start":{"line":844,"column":8},"end":{"line":844,"column":8}}]},"67":{"line":848,"type":"if","locations":[{"start":{"line":848,"column":8},"end":{"line":848,"column":8}},{"start":{"line":848,"column":8},"end":{"line":848,"column":8}}]},"68":{"line":851,"type":"cond-expr","locations":[{"start":{"line":851,"column":66},"end":{"line":851,"column":70}},{"start":{"line":851,"column":73},"end":{"line":851,"column":110}}]},"69":{"line":854,"type":"if","locations":[{"start":{"line":854,"column":16},"end":{"line":854,"column":16}},{"start":{"line":854,"column":16},"end":{"line":854,"column":16}}]},"70":{"line":867,"type":"if","locations":[{"start":{"line":867,"column":20},"end":{"line":867,"column":20}},{"start":{"line":867,"column":20},"end":{"line":867,"column":20}}]},"71":{"line":886,"type":"if","locations":[{"start":{"line":886,"column":8},"end":{"line":886,"column":8}},{"start":{"line":886,"column":8},"end":{"line":886,"column":8}}]},"72":{"line":890,"type":"if","locations":[{"start":{"line":890,"column":8},"end":{"line":890,"column":8}},{"start":{"line":890,"column":8},"end":{"line":890,"column":8}}]},"73":{"line":891,"type":"if","locations":[{"start":{"line":891,"column":12},"end":{"line":891,"column":12}},{"start":{"line":891,"column":12},"end":{"line":891,"column":12}}]},"74":{"line":896,"type":"if","locations":[{"start":{"line":896,"column":16},"end":{"line":896,"column":16}},{"start":{"line":896,"column":16},"end":{"line":896,"column":16}}]},"75":{"line":908,"type":"if","locations":[{"start":{"line":908,"column":20},"end":{"line":908,"column":20}},{"start":{"line":908,"column":20},"end":{"line":908,"column":20}}]},"76":{"line":928,"type":"if","locations":[{"start":{"line":928,"column":8},"end":{"line":928,"column":8}},{"start":{"line":928,"column":8},"end":{"line":928,"column":8}}]},"77":{"line":934,"type":"if","locations":[{"start":{"line":934,"column":8},"end":{"line":934,"column":8}},{"start":{"line":934,"column":8},"end":{"line":934,"column":8}}]},"78":{"line":935,"type":"if","locations":[{"start":{"line":935,"column":12},"end":{"line":935,"column":12}},{"start":{"line":935,"column":12},"end":{"line":935,"column":12}}]},"79":{"line":944,"type":"if","locations":[{"start":{"line":944,"column":20},"end":{"line":944,"column":20}},{"start":{"line":944,"column":20},"end":{"line":944,"column":20}}]},"80":{"line":964,"type":"if","locations":[{"start":{"line":964,"column":8},"end":{"line":964,"column":8}},{"start":{"line":964,"column":8},"end":{"line":964,"column":8}}]},"81":{"line":967,"type":"if","locations":[{"start":{"line":967,"column":12},"end":{"line":967,"column":12}},{"start":{"line":967,"column":12},"end":{"line":967,"column":12}}]},"82":{"line":973,"type":"if","locations":[{"start":{"line":973,"column":16},"end":{"line":973,"column":16}},{"start":{"line":973,"column":16},"end":{"line":973,"column":16}}]},"83":{"line":974,"type":"if","locations":[{"start":{"line":974,"column":20},"end":{"line":974,"column":20}},{"start":{"line":974,"column":20},"end":{"line":974,"column":20}}]},"84":{"line":979,"type":"if","locations":[{"start":{"line":979,"column":23},"end":{"line":979,"column":23}},{"start":{"line":979,"column":23},"end":{"line":979,"column":23}}]},"85":{"line":979,"type":"binary-expr","locations":[{"start":{"line":979,"column":27},"end":{"line":979,"column":59}},{"start":{"line":979,"column":63},"end":{"line":979,"column":93}}]},"86":{"line":980,"type":"if","locations":[{"start":{"line":980,"column":20},"end":{"line":980,"column":20}},{"start":{"line":980,"column":20},"end":{"line":980,"column":20}}]},"87":{"line":985,"type":"if","locations":[{"start":{"line":985,"column":23},"end":{"line":985,"column":23}},{"start":{"line":985,"column":23},"end":{"line":985,"column":23}}]},"88":{"line":986,"type":"if","locations":[{"start":{"line":986,"column":20},"end":{"line":986,"column":20}},{"start":{"line":986,"column":20},"end":{"line":986,"column":20}}]},"89":{"line":991,"type":"if","locations":[{"start":{"line":991,"column":23},"end":{"line":991,"column":23}},{"start":{"line":991,"column":23},"end":{"line":991,"column":23}}]},"90":{"line":994,"type":"if","locations":[{"start":{"line":994,"column":20},"end":{"line":994,"column":20}},{"start":{"line":994,"column":20},"end":{"line":994,"column":20}}]},"91":{"line":1001,"type":"if","locations":[{"start":{"line":1001,"column":12},"end":{"line":1001,"column":12}},{"start":{"line":1001,"column":12},"end":{"line":1001,"column":12}}]},"92":{"line":1001,"type":"binary-expr","locations":[{"start":{"line":1001,"column":15},"end":{"line":1001,"column":48}},{"start":{"line":1001,"column":52},"end":{"line":1001,"column":55}}]},"93":{"line":1002,"type":"if","locations":[{"start":{"line":1002,"column":16},"end":{"line":1002,"column":16}},{"start":{"line":1002,"column":16},"end":{"line":1002,"column":16}}]},"94":{"line":1006,"type":"if","locations":[{"start":{"line":1006,"column":16},"end":{"line":1006,"column":16}},{"start":{"line":1006,"column":16},"end":{"line":1006,"column":16}}]},"95":{"line":1009,"type":"if","locations":[{"start":{"line":1009,"column":20},"end":{"line":1009,"column":20}},{"start":{"line":1009,"column":20},"end":{"line":1009,"column":20}}]},"96":{"line":1011,"type":"if","locations":[{"start":{"line":1011,"column":27},"end":{"line":1011,"column":27}},{"start":{"line":1011,"column":27},"end":{"line":1011,"column":27}}]},"97":{"line":1013,"type":"if","locations":[{"start":{"line":1013,"column":27},"end":{"line":1013,"column":27}},{"start":{"line":1013,"column":27},"end":{"line":1013,"column":27}}]},"98":{"line":1015,"type":"if","locations":[{"start":{"line":1015,"column":27},"end":{"line":1015,"column":27}},{"start":{"line":1015,"column":27},"end":{"line":1015,"column":27}}]},"99":{"line":1033,"type":"binary-expr","locations":[{"start":{"line":1033,"column":11},"end":{"line":1033,"column":15}},{"start":{"line":1033,"column":19},"end":{"line":1033,"column":21}}]},"100":{"line":1034,"type":"if","locations":[{"start":{"line":1034,"column":4},"end":{"line":1034,"column":4}},{"start":{"line":1034,"column":4},"end":{"line":1034,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","var async = require('async');","","var _s = require('underscore.string');","var definitions = require('./parsing/definitions.js');","var handler = require('./handler.js');","var log = require('./logger.js');","","var transactionLog = null;","try {","    transactionLog = require('e2e-transaction-logger');","}catch(err){","    transactionLog = null;","}","","var EventEmitter = require('events').EventEmitter;","var BPMNProcessState = require(\"./state.js\").BPMNProcessState;","var BPMNProcessHistory = require(\"./history.js\").BPMNProcessHistory;","var BPMNProcessClient = require(\"./client.js\").BPMNProcessClient;","var BPMNPendingTimerEvents = require(\"./timeouts.js\").BPMNPendingTimerEvents;","","var activityEndHandlerPostfix = require('./parsing/activity.js').activityEndHandlerPostfix;","","var TOKEN_ARRIVED_EVENT = \"TOKEN_ARRIVED_EVENT\";","var ACTIVITY_END_EVENT = \"ACTIVITY_END_EVENT\";","var INTERMEDIATE_CATCH_EVENT = \"INTERMEDIATE_CATCH_EVENT\";","var BOUNDARY_CATCH_EVENT = \"BOUNDARY_CATCH_EVENT\";","","/**"," * Internal creation. The process is created and try to load persisted data."," * @param {String} id"," * @param {BPMNProcessDefinition} processDefinition"," * @param {Object} eventHandler This object should contain event handler for all BPMN events"," * @param {Persistency=} persistency"," * @param {BPMNProcess=} parentProcess"," * @param {Token=} parentToken"," * @param {HistoryEntry=} parentHistoryEntry"," * @param {Function=} callback"," * @return {BPMNProcess}"," */","var createBPMNProcess = exports.createBPMNProcess = function(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry, callback) {","    var bpmnProcess;","","    if(typeof persistency === 'function' ){","        callback = persistency;","        persistency = null;","        parentProcess = null;","        parentToken = null;","        parentHistoryEntry = null;","    } else if(typeof parentProcess === 'function' ){","        callback = parentProcess;","        parentProcess = null;","        parentToken = null;","        parentHistoryEntry = null;","    } else if(typeof parentToken === 'function' ){","        callback = parentToken;","        parentToken = null;","        parentHistoryEntry = null;","    } else if(typeof parentHistoryEntry === 'function' ){","        callback = parentHistoryEntry;","        parentHistoryEntry = null;","    }","","    if(!callback){","        return;","    }","","    bpmnProcess = new BPMNProcess(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry);","","    if (bpmnProcess.isMainProcess()) {","        // we save all process information - including called processes - in one document","        bpmnProcess.loadPersistedData(function(err){","            if(callback){","                callback(err, bpmnProcess);","            }","        });","    } else {","        if(callback){","            process.nextTick(function(){        // to stay consistent","                callback(null, bpmnProcess);","            });","        }","    }","};","","/**"," * @param {String} id"," * @param {BPMNProcessDefinition} processDefinition"," * @param {Object} eventHandler This object should contain event handler for all BPMN events"," * @param {Persistency=} persistency"," * @param {BPMNProcess=} parentProcess"," * @param {Token=} parentToken"," * @param {HistoryEntry=} parentHistoryEntry"," * @constructor"," */","function BPMNProcess(id, processDefinition, eventHandler, persistency, parentProcess, parentToken, parentHistoryEntry) {","    var self = this;","    var defaultEventHandler, defaultErrorHandler;","","    this.processId = id;","    this.processDefinition = processDefinition;","    this.eventHandler = eventHandler;","    this.parentProcess = parentProcess;","    this.pendingTimerEvents = new BPMNPendingTimerEvents(this);","    this.persistency = persistency;","    this.deferredEvents = [];","    this.deferEvents = false; // events must be deferred if the process engine is loading or saving state","    this.processClient = new BPMNProcessClient(this);","    this.participants = {}; // if the process takes part in a collaboration, we store all participant process in this map","    this.properties = {}; // TODO: how do we handle parent data?","    this.calledProcesses = {};","    this.logger = new log.Logger(this, {logLevel: log.logLevels.error});","    if(transactionLog) {","        this.transactionLogger = new transactionLog.TransactionLogger();","    }","    this.currentTrx = null;","    this.views = {","        startEvent : null,","        endEvent : null,","        duration : null","    };","","    if (parentToken) {","        this.state = new BPMNProcessState(parentToken.substate);","        parentToken.substate = this.state;","        this.parentToken = parentToken;","    } else {","        this.state = new BPMNProcessState();","    }","","    if (parentHistoryEntry) {","        this.history = new BPMNProcessHistory(parentHistoryEntry.subhistory);","        parentHistoryEntry.subhistory = this.history;","    } else {","        this.history = new BPMNProcessHistory();","    }","","    defaultErrorHandler = logDefaultedErrors;","    defaultEventHandler = function(eventType, currentFlowObjectName, handlerName, reason, done) {","        if (done) {","            done.call(self.processClient);","        }","    };","","    eventHandler = eventHandler || {};","    this.defaultEventHandler = eventHandler.defaultEventHandler || defaultEventHandler;","    this.defaultErrorHandler = eventHandler.defaultErrorHandler || defaultErrorHandler;","    this.doneSavingHandler = eventHandler.doneSavingHandler;","    this.doneLoadingHandler = eventHandler.doneLoadingHandler;","    this.onBeginHandler = eventHandler.onBeginHandler;","    this.onEndHandler = eventHandler.onEndHandler;","","    this._registerOnTokenArrivedEvent();","    this._registerActivityEndEvents();","    this._registerThrowIntermediateEvents();","    this._registerThrowBoundaryEvents();","}","util.inherits(BPMNProcess, EventEmitter);","","/**"," * @returns {Boolean}"," */","BPMNProcess.prototype.isMainProcess = function() {","    return  (this.parentProcess === undefined || this.parentProcess === null);","};","","/**"," * @returns {BPMNProcessDefinition}"," */","BPMNProcess.prototype.getProcessDefinition = function() {","    return this.processDefinition;","};","","/**"," * @returns {String}"," */","BPMNProcess.prototype.getProcessId = function() {","    return this.processId;","};","","/**"," * @param {Logger} logger"," */","BPMNProcess.prototype.setLogger = function(logger) {","    this.logger = logger;","};","","/**"," * @param {number | string} logLevel"," */","BPMNProcess.prototype.setLogLevel = function(logLevel) {","    this.logger.setLogLevel(logLevel);","};","","/**"," * @param {function(string)} logAppender"," */","BPMNProcess.prototype.setLogAppender = function(logAppender) {","    this.logger.logAppender = logAppender;","};","","/**"," * Add winston log transport (semantic like winston add() [https://github.com/flatiron/winston])"," * @param winstonTransport"," * @param options"," */","BPMNProcess.prototype.addLogTransport = function(winstonTransport, options) {","    this.logger.addTransport(winstonTransport, options);","};","","/**"," * Remove winston log transport (semantic like winston remove() [https://github.com/flatiron/winston])"," * @param winstonTransport"," */","BPMNProcess.prototype.removeLogTransport = function(winstonTransport) {","    this.logger.removeTransport(winstonTransport);","};","","/**"," * @returns {Transaction}"," */","BPMNProcess.prototype.getCurrentTrx = function() {","    return this.currentTrx;","};","","/**"," * @param {String} eventName"," * @param {Object=} data"," */","BPMNProcess.prototype.triggerEvent = function(eventName, data) {","    var self = this;","    var processDefinition = self.processDefinition;","    var flowObjectName = eventName;","    var flowObject = processDefinition.getFlowObjectByName(flowObjectName);","    var taskDoneMatch = _s.endsWith(eventName, activityEndHandlerPostfix);","","    if (flowObject) {","","        this.logger.trace(\"Trigger \" + flowObject.type + \" '\" + flowObject.name + \"'\", data);","","        if (flowObject.isStartEvent) {","            if (self.history.hasBeenVisited(eventName)) {","                 throw new Error(\"The start event '\" + eventName + \"' cannot start an already started process.\");","            } else {","                // start events create a token and put it on the first occurrence","                self._putTokenAt(flowObject, data);","            }","        } else if (flowObject.isIntermediateCatchEvent) {","            process.nextTick(function() {","                // We need this to achieve parallel collaborating processes","                // TODO: however, it is not completely clear to me whether this works in all circumstances","                self._emitEvent(INTERMEDIATE_CATCH_EVENT, eventName, data);","            });","        } else if (flowObject.isBoundaryEvent) {","            self._emitEvent(BOUNDARY_CATCH_EVENT, eventName, data);","        } else {","            throw new Error(\"The process '\" + processDefinition.name + \"' has no intermediate catch event for '\" + eventName + \"'\");","        }","    } else if (taskDoneMatch){","        flowObjectName = _s.strLeft(eventName, activityEndHandlerPostfix);","        flowObject = processDefinition.getFlowObjectByName(flowObjectName);","","        if(flowObject && flowObject.isWaitTask){","            self.taskDone(flowObjectName, data);","        }else{","            throw new Error(\"The process '\" + processDefinition.name + \"' does not know the event '\" + eventName + \"'\");","        }","    } else {","        throw new Error(\"The process '\" + processDefinition.name + \"' does not know the event '\" + eventName + \"'\");","    }"," };","","/**"," * Send a message by name to this process or along a message flow"," * @param {BPMNMessageFlow | String} messageFlow"," * @param {Object=} data"," */","BPMNProcess.prototype.sendMessage = function(messageFlow, data) {","    var self = this;","","    if (typeof messageFlow === 'string') {","        this.triggerEvent(messageFlow, data);","    } else {","        if (messageFlow.targetProcessDefinitionId) {","            this.getParticipantById(messageFlow.targetProcessDefinitionId, function(err, partnerProcess) {","                var targetFlowObject = partnerProcess.processDefinition.getFlowObject(messageFlow.targetRef);","                var sourceFlowObject = self.processDefinition.getSourceFlowObject(messageFlow);","","                self.logger.trace(\"Sending '\" +","                    messageFlow.name + \"' from '\" +","                    sourceFlowObject.name + \"' to '\" +","                    targetFlowObject.name + \"'.\", data);","","                partnerProcess.triggerEvent(targetFlowObject.name, data);","            });","        } else {","            throw new Error(\"sendMessage: the '\" + messageFlow.name + \"' has no targetProcessDefinitionId. Is the message flow target an executable pool?\");","        }","    }","};","","/**"," * @param {String} taskName"," * @param {Object} data"," */","BPMNProcess.prototype.taskDone = function(taskName, data) {","    this.logger.trace(\"Task '\" + taskName + \"' done.\", data);","    this.emitActivityEndEvent(taskName, data);","};","","/**"," * @param {String} participantName"," * @return {BPMNProcess}"," */","BPMNProcess.prototype.getParticipantByName = function(participantName, callback) {","    callback(null, this.participants[participantName]);","};","","/**"," * @param {String} processDefinitionId"," * @return {BPMNProcess}"," */","BPMNProcess.prototype.getParticipantById = function(processDefinitionId, callback) {","    var participant = this.processDefinition.getParticipantById(processDefinitionId);","","    callback(null, this.participants[participant.name]);","};","","/**"," * @param {String} participantName"," * @param {BPMNProcess} bpmnProcess"," */","BPMNProcess.prototype.addParticipant = function(participantName, bpmnProcess) {","    this.participants[participantName] = bpmnProcess;","};","","/**"," * @return {BPMNProcess}"," */","BPMNProcess.prototype.getParentProcess = function() {","    return this.parentProcess;","};","","/**"," * @param {BPMNFlowObject} currentFlowObject"," * @param {Object=} data"," */","BPMNProcess.prototype._putTokenAt = function(currentFlowObject, data) {","    var self = this;","    var name = currentFlowObject.name;","","    self.state.createTokenAt(name, self.processId);","    self.logger.debug(\"Token was put on '\" + name + \"'\", data);","    self.onFlowObjectBegin(currentFlowObject, data, function() {","        self._emitEvent(TOKEN_ARRIVED_EVENT, name, data);","    });","};","","/**"," * @param {String} currentFlowObjectName"," * @param {Function} done"," */","BPMNProcess.prototype._notifyBPMNEditor = function(currentFlowObjectName, done) {","    var self = this;","    var debuggerInterface = self.processDefinition.debuggerInterface;","    var flowObject = self.processDefinition.getFlowObjectByName(currentFlowObjectName);","    if (debuggerInterface && flowObject) {","        debuggerInterface.sendPosition(flowObject, self.logger, done);","    } else {","        done();","    }","};","","/**"," * @param {Function} done"," * @private"," */","BPMNProcess.prototype._clearBPMNEditorState = function(done) {","    var self = this;","    var debuggerInterface = self.processDefinition.debuggerInterface;","    if (debuggerInterface) {","        debuggerInterface.sendPosition({}, self.logger, done);","    } else {","        done();","    }","};","","","/**"," * @param {Function} callback"," */","BPMNProcess.prototype.onTokenArrivedEvent = function(callback) {","    this.on(TOKEN_ARRIVED_EVENT, callback);","};","","/**"," * @return {BPMNProcessState}"," */","BPMNProcess.prototype.getState = function() {","    return this.state;","};","","/**"," * @return {BPMNProcessHistory}"," */","BPMNProcess.prototype.getHistory = function() {","    return this.history;","};","","/**"," * @return {*}"," */","BPMNProcess.prototype.getProperties = function() {","    return this.properties;","};","","/**"," * @param {Boolean=} closeConnection"," */","BPMNProcess.prototype.persist = function(closeConnection) {","    var mainProcess, doneSaving, persistentData;","    var persistency = this.persistency;","","    if (persistency) {","        this.setDeferEvents(true);","        mainProcess = this.getMainProcess();","        doneSaving = function(error, savedData) {","            if (error) {","                mainProcess.logger.error(\"Cannot persist process '\" + mainProcess.processId +","                    \"'. Process name: '\" + mainProcess.processDefinition.name + \"'. Error: \" + error);","","                if (mainProcess.doneSavingHandler) {","                    mainProcess.doneSavingHandler.call(mainProcess.processClient, error);","                }","            } else {","                if (mainProcess.doneSavingHandler) {","                    mainProcess.doneSavingHandler.call(mainProcess.processClient, null, savedData);","                }","","                mainProcess.logger.debug(\"SavedData: \", savedData);","","                if (closeConnection) {","                    persistency.close(function() {","                        mainProcess._emitDeferredEvents();","                    });","                } else {","                    mainProcess._emitDeferredEvents();","                }","            }","         };","","        persistentData = {","            processName: mainProcess.processDefinition.name,","            processId: mainProcess.processId,","            parentToken: mainProcess.parentToken || null,","            properties: mainProcess.properties,","            state: mainProcess.state,","            history: mainProcess.history,","            pendingTimeouts: mainProcess.pendingTimerEvents.pendingTimeouts,","            views: mainProcess.views","        };","        persistency.persist(persistentData, doneSaving);","    }","};","","/**"," * If we have a persistency layer that requires db connections, they are closed."," * @param {Function} done"," */","BPMNProcess.prototype.closeConnection = function(done) {","    var persistency = this.persistency;","    if (persistency) {","        persistency.close(done);","    }","};","","","/**"," * @returns {BPMNProcess}"," */","BPMNProcess.prototype.getMainProcess = function() {","    var mainProcess;","    if (this.parentProcess) {","        mainProcess = this.parentProcess.getMainProcess();","    } else {","        mainProcess = this;","    }","    return mainProcess;","};","","/**"," * @returns {Boolean}"," */","BPMNProcess.prototype.hasToDeferEvents = function() {","    var mainProcess = this.getMainProcess();","    return mainProcess.deferEvents;"," };","","/**"," * @param {Boolean} deferEvents"," */","BPMNProcess.prototype.setDeferEvents = function(deferEvents) {","    var mainProcess = this.getMainProcess();","    mainProcess.deferEvents = deferEvents;","};","","/**"," */","BPMNProcess.prototype.loadPersistedData = function(callback) {","    var mainProcess, processId, processName, doneLoading;","","    if(typeof callback !== 'function'){","        callback = function(){};","    }","","    if (this.persistency) {","        this.setDeferEvents(true);","        mainProcess = this.getMainProcess();","        processId = mainProcess.processId;","        processName = mainProcess.processDefinition.name;","        doneLoading = function(error, loadedData) {","","            if (error) {","                mainProcess.logger.error(\"Cannot load process '\" + mainProcess.processId +","                    \"'. Process name: '\" + processName + \"'. Error: \" + error);","                if (mainProcess.doneLoadingHandler) {","                    mainProcess.doneLoadingHandler.call(mainProcess.processClient, error, loadedData);","                }","                callback(error, loadedData);","            } else {","                if (loadedData) {","                    try{","                        mainProcess.setPersistedData(loadedData);","                    } catch (error2) {","                        mainProcess.logger.error(\"Cannot load process '\" + mainProcess.processId +","                            \"'. Process name: '\" + processName + \"'. Error: \" + error2);","                        if (mainProcess.doneLoadingHandler) {","                            mainProcess.doneLoadingHandler.call(mainProcess.processClient, error2, loadedData);","                        }","                        return callback(error2, loadedData);","                    }","","                    mainProcess.createCalledProcesses(function(error3){","                        if(error3){","                            mainProcess.logger.error(\"Cannot load process '\" + mainProcess.processId +","                                \"'. Process name: '\" + processName + \"'. Error: \" + error3);","                            if (mainProcess.doneLoadingHandler) {","                                mainProcess.doneLoadingHandler.call(mainProcess.processClient, error3, loadedData);","                            }","                            return callback(error3, loadedData);","                        }","","                        if (mainProcess.doneLoadingHandler) {","                            mainProcess.doneLoadingHandler.call(mainProcess.processClient, null, loadedData);","                        }","","                        mainProcess._emitDeferredEvents();","                        callback(null, loadedData);","                    });","","                }else{","                    mainProcess._emitDeferredEvents();","                    callback(null, loadedData);","                }","            }","","        };","        mainProcess.persistency.load(processId, processName, doneLoading);","    }else{","        if(callback){","            process.nextTick(function(){        // to stay consistent","                callback();","            });","        }","    }","","};","","/**"," */","BPMNProcess.prototype.createCalledProcesses = function(callback) {","    var self = this;","    var callActivityTokens = self.state.findCallActivityTokens();","","    if(typeof callback !== 'function'){","        callback = function(){};","    }","","    async.each(callActivityTokens, function(callActivityToken, done){","        var callActivityName = callActivityToken.position;","        var callActivity = self.processDefinition.getFlowObjectByName(callActivityName);","        callActivity.createCalledProcess(callActivityToken, self, createBPMNProcess, function(err, calledProcess){","            if(err){","                done(err);","            }","            calledProcess.createCalledProcesses(done);","        });","    }, callback);","","};","","BPMNProcess.prototype.setPersistedData = function(loadedData) {","    this.state = new BPMNProcessState(loadedData.state);","    this.history = new BPMNProcessHistory(loadedData.history);","    this.pendingTimerEvents = new BPMNPendingTimerEvents(this);","    this.pendingTimerEvents.restoreTimerEvents(loadedData.pendingTimeouts);","    this.properties = loadedData.properties || {};","};","","/**"," * @param {String} name"," * @param {Object} value"," */","BPMNProcess.prototype.setProperty = function(name, value) {","    this.properties[name] = value;","};","","/**"," * @param {String} name"," * @return {Object}"," */","BPMNProcess.prototype.getProperty = function(name) {","    return this.properties[name];","};","","/**"," * @param {BPMNFlowObject} currentFlowObject"," * @param {Object} data"," * @param {Boolean=} returningFromCalledProcess"," * @private"," */","BPMNProcess.prototype._emitTokens = function(currentFlowObject, data, returningFromCalledProcess) {","    var activity;","    var self = this;","","    self.state.removeTokenAt(currentFlowObject);","","    if (currentFlowObject.isBoundaryEvent) {","        activity = self.processDefinition.getFlowObject(currentFlowObject.attachedToRef);","        self._clearBoundaryTimerEvents(activity);","        self.state.removeTokenAt(activity);","        self.onFlowObjectEnd(activity.name);","    } else {","        self._clearBoundaryTimerEvents(currentFlowObject);","    }","","    if (currentFlowObject.isCallActivity || currentFlowObject.isSubProcess) {","        currentFlowObject.emitTokens(self, data, createBPMNProcess, returningFromCalledProcess);","    } else {","        currentFlowObject.emitTokens(self, data);","    }","};","","/**"," * @param {String} eventName"," * @param {Object} data"," * @private"," */","BPMNProcess.prototype.emitActivityEndEvent = function(eventName, data) {","    this._emitEvent(ACTIVITY_END_EVENT, eventName, data);","};","","/**"," * @param {BPMNFlowObject} currentFlowObject"," * @param {BPMNSequenceFlow} outgoingSequenceFlow"," * @param {Object} data"," */","BPMNProcess.prototype.emitTokenAlong = function(currentFlowObject, outgoingSequenceFlow, data) {","    var nextFlowObject = this.processDefinition.getProcessElement(outgoingSequenceFlow.targetRef);","    this._putTokenAt(nextFlowObject, data);","};","","/**"," * @returns {Boolean}"," */","BPMNProcess.prototype.isDebuggerEnabled = function() {","    var debuggerInterface = this.processDefinition.debuggerInterface;","    return (debuggerInterface && debuggerInterface.isInDebugger());","};","","/**"," * Called on begin of activities, task, catch events, etc."," * @param {BPMNFlowObject} currentFlowObject"," * @param {Object} data"," * @param {Function} done"," * @private"," */","BPMNProcess.prototype.onFlowObjectBegin = function(currentFlowObject, data, done) {","    var self = this;","    var name = currentFlowObject.name;","","    var finished = function() {","        if (self.onBeginHandler) {","            self.onBeginHandler.call(self.processClient, name, data, function() {","                done();","            });","        } else {","            done();","        }","    };","","    self.history.addEntry(currentFlowObject);","","    if(currentFlowObject.isStartEvent) {","        self.views.startEvent = self.history.historyEntries[0];","    }","","    if (self.isDebuggerEnabled()) {","        this._notifyBPMNEditor(name, finished);","    } else {","        finished();","    }","};","","/**"," * Called on end of activities, task, catch events, etc."," * @param {String} currentFlowObjectName"," * @param {Object=} data"," * @param {Function=} done"," */","BPMNProcess.prototype.onFlowObjectEnd = function(currentFlowObjectName, data, done) {","    var self = this;","    var history = self.history;","","    var finished = function() {","        history.setEnd(currentFlowObjectName);","        if(history.isFinished()){","            self.views.duration = history.finishedAt - history.createdAt;","        }","        // NOTE: done() MUST be called AFTER setEnd() because in done() the token is send to the next flowObjects","        if (done) {","            done();","        }","    };","","    if (self.onEndHandler) {","        self.onEndHandler.call(self.processClient, currentFlowObjectName, data, finished);","    } else {","        finished();","    }","};","","/**"," * Called on end of processes (also called processes)"," * @param {String} endEventName"," * @param {Boolean=} isMainProcess"," * @param {Function=} done"," */","BPMNProcess.prototype.onProcessEnd = function(endEventName, isMainProcess, done) {","    var self = this;","    var history = self.getHistory();","","    var finished = function() {","        if (done) {","            done();","        }","        if (isMainProcess) {","            self.views.endEvent = history.getLastEntry(endEventName);","            // no parent implies we finish the main process","            // TODO: need a way to tell the outside in order to delete the object.","            // emit event ?","            // pass the manager to the process ?","            // pass a function that will be called here ?","            self.persist(true);","        }","    };","","    if (self.isDebuggerEnabled()) {","        self._clearBPMNEditorState(finished);","    } else {","        finished();","    }","};","","/**"," * @param {BPMNProcess} calledProcess"," */","BPMNProcess.prototype.registerCalledProcess = function(calledProcess) {","    var calledProcessId = calledProcess.processId;","    this.calledProcesses[calledProcessId] = calledProcess;","};","","/**"," * @param {String} calledProcessId"," */","BPMNProcess.prototype.unregisterCalledProcess = function(calledProcessId) {","    delete this.calledProcesses[calledProcessId];","};","","/**"," * @param {BPMNActivity} currentActivity"," * @private"," */","BPMNProcess.prototype._registerBoundaryTimerEvents = function(currentActivity) {","    var self = this;","    var boundaryEvents = this.processDefinition.getBoundaryEventsAt(currentActivity);","","    boundaryEvents.forEach(function(boundaryEvent) {","        if (boundaryEvent.isTimerEvent) {","            self.pendingTimerEvents.addBoundaryTimerEvent(boundaryEvent);","        }","    });","};","","/**"," * @param {BPMNIntermediateCatchEvent} timerEvent"," * @private"," */","BPMNProcess.prototype._registerIntermediateTimerEvents = function(timerEvent) {","    this.pendingTimerEvents.addIntermediateTimerEvent(timerEvent);","};","","/**"," * @param {BPMNFlowObject} currentFlowObject"," * @private"," */","BPMNProcess.prototype._clearBoundaryTimerEvents = function(currentFlowObject) {","    var self = this;","    var boundaryEvents = this.processDefinition.getBoundaryEventsAt(currentFlowObject);","","    boundaryEvents.forEach(function(boundaryEvent) {","        if (boundaryEvent.isTimerEvent) {","            self.pendingTimerEvents.removeTimeout(boundaryEvent.name);","        }","    });","};","","/**"," * @private"," */","BPMNProcess.prototype._registerActivityEndEvents = function() {","    var self = this;","","    self.on(ACTIVITY_END_EVENT, function(activityName, data) {","        var currentToken, owningProcessId, currentProcess, currentFlowObject, activityEndHandlerIsDone;","        var handlerName = handler.mapName2HandlerName(activityName) + activityEndHandlerPostfix;","        var trx = self.currentTrx = null;","","        if(self.transactionLogger){","            trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, 'PSTATE', 'TRANSITION', null, activityName+'Done');","        }","","        if (self.state.hasTokens(activityName)) {","            currentToken = self.state.getFirstToken(activityName);","            owningProcessId = currentToken.owningProcessId;","            currentProcess = owningProcessId === self.processId ? self : self.calledProcesses[owningProcessId];","            currentFlowObject = currentProcess.processDefinition.getFlowObjectByName(currentToken.position);","            activityEndHandlerIsDone = function(data) {","                if(trx) {","                    trx.processStateEnd(self.processDefinition.name, self.getProcessId(), activityName);","                    trx.end();","                }","                self.logger.trace(\"Calling done() of '\" + handlerName + \"'.\");","                currentProcess._emitTokens(currentFlowObject, data, true);","            };","            self.logger.trace(\"Calling '\" + handlerName + \"' for \" + ACTIVITY_END_EVENT + \" '\" + activityName + \"'.\");","            handler.callHandler(handlerName, currentProcess, data, activityEndHandlerIsDone);","        } else {","            self.callDefaultEventHandler(ACTIVITY_END_EVENT, activityName, handlerName,","                \"Process cannot handle this activity because it is not currently executed.\",","                function(){","                    if(trx){","                        trx.end();","                    }","                });","        }","    });","};","","/**"," * @private"," */","BPMNProcess.prototype._registerThrowIntermediateEvents = function() {","    var self = this;","","    self.on(INTERMEDIATE_CATCH_EVENT, function(eventName, data) {","        var catchIntermediateEventObject, eventCaughtHandler;","        var handlerName = handler.mapName2HandlerName(eventName);","        var trx = self.currentTrx = null;","","        if(self.transactionLogger){","            trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, 'PSTATE', 'TRANSITION', null, eventName);","        }","","        if (self.state.hasTokens(eventName)) {","            if(trx) {","                trx.processEvent(self.processDefinition.name, self.getProcessId(), eventName);","            }","            catchIntermediateEventObject = self.processDefinition.getFlowObjectByName(eventName);","            eventCaughtHandler = function(data) {","                if(trx){","                    trx.end();","                }","                self.logger.trace(\"Calling done() of '\" + handlerName + \"'.\");","                self._emitTokens(catchIntermediateEventObject, data, true);","            };","            self.logger.trace(\"Calling '\" + handlerName + \"' for \" + INTERMEDIATE_CATCH_EVENT + \" '\" + eventName + \"'.\");","            handler.callHandler(handlerName, self, data, eventCaughtHandler);","        } else {","            self.callDefaultEventHandler(INTERMEDIATE_CATCH_EVENT, eventName, handlerName, \"Process cannot handle the intermediate event ' + \" +","                eventName + \"' because the process '\" + self.processDefinition.name + \"' doesn't expect one.\",","                function(){","                    if(trx){","                        trx.end();","                    }","                });","        }","    });","};","","/**"," * @private"," */","BPMNProcess.prototype._registerThrowBoundaryEvents = function() {","    var self = this;","","    self.on(BOUNDARY_CATCH_EVENT, function(eventName, data) {","        var handlerName = handler.mapName2HandlerName(eventName);","        var catchBoundaryEventObject = self.processDefinition.getFlowObjectByName(eventName);","        var activity = self.processDefinition.getFlowObject(catchBoundaryEventObject.attachedToRef);","        var trx = self.currentTrx = null;","","        if(self.transactionLogger){","            trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, 'PSTATE', 'TRANSITION', null, eventName);","        }","","        self.logger.trace(\"Catching boundary event '\" + eventName + \"' done.\", data);","","        if (self.state.hasTokensAt(activity)) {","            if(trx) {","                trx.processStateEnd(self.processDefinition.name, self.getProcessId(), activity.name);","            }","            self.state.removeTokenAt(activity);","            self._putTokenAt(catchBoundaryEventObject, data);","        } else {","            self.callDefaultEventHandler(BOUNDARY_CATCH_EVENT, eventName, handlerName, \"Process cannot handle the boundary event '\" +","                eventName + \"' because the activity '\" + activity.name + \"' doesn't expect one.\",","                function(){","                    if(trx) {","                        trx.end();","                    }","                });","        }","    });","};","","/**"," * @private"," */","BPMNProcess.prototype._registerOnTokenArrivedEvent = function() {","    var self = this;","","    self.onTokenArrivedEvent(function(currentFlowObjectName, data) {","        var handlerDone;","        var currentFlowObject = self.processDefinition.getFlowObjectByName(currentFlowObjectName);","        var trx = self.currentTrx;","","        self.logger.debug(\"Token arrived at \" + currentFlowObject.type + \" '\" + currentFlowObject.name + \"'\", data);","        if (currentFlowObject.isIntermediateCatchEvent) {","            // all intermediate event handlers are called WHEN the event occurs","            // TODO: should we change this?","            if (currentFlowObject.isTimerEvent) {","                self._registerIntermediateTimerEvents(currentFlowObject);","            }","            self.persist();","        } else {","            handlerDone = function(data) {","                if (currentFlowObject.isWaitTask) {","                    if(trx){","                        trx.end();","                    }","                    self._registerBoundaryTimerEvents(currentFlowObject);","                    self.persist();","                } else if (currentFlowObject.isCallActivity || currentFlowObject.isSubProcess) {","                    if(trx){","                        trx.end();","                    }","                    self._registerBoundaryTimerEvents(currentFlowObject);","                    self._emitTokens(currentFlowObject, data);","                } else if(currentFlowObject.isActivity) {","                    if(trx) {","                        trx.processStateEnd(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                        trx.end();","                    }","                    self._emitTokens(currentFlowObject, data);","                } else if (currentFlowObject.isExclusiveGateway) {","                    self._emitTokens(currentFlowObject, data);","                } else {","                    if(trx){","                        trx.end();","                    }","                    self._emitTokens(currentFlowObject, data);","                }","            };","","            if(currentFlowObject.isBoundaryEvent && trx){","                if(trx) {","                    trx.processEvent(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                }","            }else{","                if(self.transactionLogger) {","                    trx = self.currentTrx = self.transactionLogger.startTransaction(self.processDefinition.name, 'PSTATE', 'TRANSITION', null, currentFlowObjectName);","","                    if (currentFlowObject.isActivity) {","                        trx.processStateStart(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                    } else if (currentFlowObject.isIntermediateThrowEvent) {","                        trx.processEvent(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                    } else if (currentFlowObject.isStartEvent) {","                        trx.processStart(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                    } else if (currentFlowObject.isEndEvent) {","                        trx.processEnd(self.processDefinition.name, self.getProcessId(), currentFlowObjectName);","                    }","                }","            }","","            handler.callHandler(currentFlowObjectName, self, data, handlerDone);","        }","     });","};","","/**"," * @param {String} eventType"," * @param {String} eventName"," * @param data"," * @private"," */","BPMNProcess.prototype._emitEvent = function(eventType, eventName, data) {","    data = data || {};","    if (this.hasToDeferEvents()) {","        this.deferredEvents.push({type: eventType, name: eventName, data: data});","    } else {","        this.emit(eventType, eventName, data);","    }","};","","/**"," * @private"," */","BPMNProcess.prototype._emitDeferredEvents = function() {","    var self = this;","","    this.setDeferEvents(false); // we have to reset this flag, otherwise the deferred events we try to emit now would be deferred again!","    this.deferredEvents.forEach(function(event) {","        self.logger.trace(\"Emitting deferred events \" + event.type + \" '\" + event.name + \"'\", event.data);","        process.nextTick(function(){","            self.emit(event.type, event.name, event.data)","        });","    });","    this.deferredEvents = [];","};","","/**"," * @param {String} eventType"," * @param {String?} currentFlowObjectName"," * @param {String} handlerName"," * @param {String} reason"," * @param {Function=} done"," */","BPMNProcess.prototype.callDefaultEventHandler = function(eventType, currentFlowObjectName, handlerName, reason, done) {","    this.logger.trace(\"Unhandled event: '\" + eventType + \"' for '\" + currentFlowObjectName + \"'. Handler: \" + handlerName + \"'. Reason: \" + reason);","    this.defaultEventHandler.call(this.processClient, eventType, currentFlowObjectName, handlerName, reason, done);","};","","/**"," * @param {{toString, stack}} error"," */","function logDefaultedErrors(error) {","    console.log(\"Unhandled error: '\" + error + \"' Stack trace: \" + error.stack);","}","",""],"l":{"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"14":1,"15":1,"16":1,"18":0,"21":1,"22":1,"23":1,"24":1,"25":1,"27":1,"29":1,"30":1,"31":1,"32":1,"46":1,"47":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"69":0,"70":0,"73":0,"75":0,"77":0,"78":0,"79":0,"83":0,"84":0,"85":0,"101":1,"102":0,"103":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"121":0,"122":0,"128":0,"129":0,"130":0,"131":0,"133":0,"136":0,"137":0,"138":0,"140":0,"143":0,"144":0,"145":0,"146":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"158":0,"159":0,"160":0,"161":0,"163":1,"168":1,"169":0,"175":1,"176":0,"182":1,"183":0,"189":1,"190":0,"196":1,"197":0,"203":1,"204":0,"212":1,"213":0,"220":1,"221":0,"227":1,"228":0,"235":1,"236":0,"237":0,"238":0,"239":0,"240":0,"242":0,"244":0,"246":0,"247":0,"248":0,"251":0,"253":0,"254":0,"257":0,"259":0,"260":0,"262":0,"264":0,"265":0,"266":0,"268":0,"269":0,"271":0,"274":0,"283":1,"284":0,"286":0,"287":0,"289":0,"290":0,"291":0,"292":0,"294":0,"299":0,"302":0,"311":1,"312":0,"313":0,"320":1,"321":0,"328":1,"329":0,"331":0,"338":1,"339":0,"345":1,"346":0,"353":1,"354":0,"355":0,"357":0,"358":0,"359":0,"360":0,"368":1,"369":0,"370":0,"371":0,"372":0,"373":0,"375":0,"383":1,"384":0,"385":0,"386":0,"387":0,"389":0,"397":1,"398":0,"404":1,"405":0,"411":1,"412":0,"418":1,"419":0,"425":1,"426":0,"427":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"437":0,"438":0,"441":0,"442":0,"445":0,"447":0,"448":0,"449":0,"452":0,"457":0,"467":0,"475":1,"476":0,"477":0,"478":0,"486":1,"487":0,"488":0,"489":0,"491":0,"493":0,"499":1,"500":0,"501":0,"507":1,"508":0,"509":0,"514":1,"515":0,"517":0,"518":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"528":0,"529":0,"531":0,"532":0,"534":0,"536":0,"537":0,"538":0,"540":0,"542":0,"543":0,"545":0,"548":0,"549":0,"550":0,"552":0,"553":0,"555":0,"558":0,"559":0,"562":0,"563":0,"567":0,"568":0,"573":0,"575":0,"576":0,"577":0,"586":1,"587":0,"588":0,"590":0,"591":0,"594":0,"595":0,"596":0,"597":0,"598":0,"599":0,"601":0,"607":1,"608":0,"609":0,"610":0,"611":0,"612":0,"619":1,"620":0,"627":1,"628":0,"637":1,"638":0,"639":0,"641":0,"643":0,"644":0,"645":0,"646":0,"647":0,"649":0,"652":0,"653":0,"655":0,"664":1,"665":0,"673":1,"674":0,"675":0,"681":1,"682":0,"683":0,"693":1,"694":0,"695":0,"697":0,"698":0,"699":0,"700":0,"703":0,"707":0,"709":0,"710":0,"713":0,"714":0,"716":0,"726":1,"727":0,"728":0,"730":0,"731":0,"732":0,"733":0,"736":0,"737":0,"741":0,"742":0,"744":0,"754":1,"755":0,"756":0,"758":0,"759":0,"760":0,"762":0,"763":0,"769":0,"773":0,"774":0,"776":0,"783":1,"784":0,"785":0,"791":1,"792":0,"799":1,"800":0,"801":0,"803":0,"804":0,"805":0,"814":1,"815":0,"822":1,"823":0,"824":0,"826":0,"827":0,"828":0,"836":1,"837":0,"839":0,"840":0,"841":0,"842":0,"844":0,"845":0,"848":0,"849":0,"850":0,"851":0,"852":0,"853":0,"854":0,"855":0,"856":0,"858":0,"859":0,"861":0,"862":0,"864":0,"867":0,"868":0,"878":1,"879":0,"881":0,"882":0,"883":0,"884":0,"886":0,"887":0,"890":0,"891":0,"892":0,"894":0,"895":0,"896":0,"897":0,"899":0,"900":0,"902":0,"903":0,"905":0,"908":0,"909":0,"919":1,"920":0,"922":0,"923":0,"924":0,"925":0,"926":0,"928":0,"929":0,"932":0,"934":0,"935":0,"936":0,"938":0,"939":0,"941":0,"944":0,"945":0,"955":1,"956":0,"958":0,"959":0,"960":0,"961":0,"963":0,"964":0,"967":0,"968":0,"970":0,"972":0,"973":0,"974":0,"975":0,"977":0,"978":0,"979":0,"980":0,"981":0,"983":0,"984":0,"985":0,"986":0,"987":0,"988":0,"990":0,"991":0,"992":0,"994":0,"995":0,"997":0,"1001":0,"1002":0,"1003":0,"1006":0,"1007":0,"1009":0,"1010":0,"1011":0,"1012":0,"1013":0,"1014":0,"1015":0,"1016":0,"1021":0,"1032":1,"1033":0,"1034":0,"1035":0,"1037":0,"1044":1,"1045":0,"1047":0,"1048":0,"1049":0,"1050":0,"1051":0,"1054":0,"1064":1,"1065":0,"1066":0,"1072":1,"1073":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/logger.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/logger.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":8,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":8,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":37,"loc":{"start":{"line":37,"column":30},"end":{"line":37,"column":57}}},"2":{"name":"(anonymous_2)","line":52,"loc":{"start":{"line":52,"column":19},"end":{"line":52,"column":30}}},"3":{"name":"(anonymous_3)","line":72,"loc":{"start":{"line":72,"column":31},"end":{"line":72,"column":54}}},"4":{"name":"(anonymous_4)","line":73,"loc":{"start":{"line":73,"column":37},"end":{"line":73,"column":65}}},"5":{"name":"(anonymous_5)","line":81,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":52}}},"6":{"name":"(anonymous_6)","line":95,"loc":{"start":{"line":95,"column":31},"end":{"line":95,"column":50}}},"7":{"name":"(anonymous_7)","line":109,"loc":{"start":{"line":109,"column":32},"end":{"line":109,"column":68}}},"8":{"name":"(anonymous_8)","line":127,"loc":{"start":{"line":127,"column":35},"end":{"line":127,"column":62}}},"9":{"name":"(anonymous_9)","line":136,"loc":{"start":{"line":136,"column":23},"end":{"line":136,"column":61}}},"10":{"name":"(anonymous_10)","line":159,"loc":{"start":{"line":159,"column":79},"end":{"line":159,"column":95}}},"11":{"name":"getLogLevelString","line":169,"loc":{"start":{"line":169,"column":0},"end":{"line":169,"column":37}}},"12":{"name":"(anonymous_12)","line":173,"loc":{"start":{"line":173,"column":17},"end":{"line":173,"column":31}}},"13":{"name":"getLogLevelValue","line":185,"loc":{"start":{"line":185,"column":0},"end":{"line":185,"column":36}}},"14":{"name":"getMessageString","line":196,"loc":{"start":{"line":196,"column":0},"end":{"line":196,"column":32}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"2":{"start":{"line":11,"column":0},"end":{"line":20,"column":2}},"3":{"start":{"line":22,"column":0},"end":{"line":30,"column":2}},"4":{"start":{"line":37,"column":0},"end":{"line":69,"column":2}},"5":{"start":{"line":38,"column":4},"end":{"line":38,"column":36}},"6":{"start":{"line":39,"column":4},"end":{"line":41,"column":5}},"7":{"start":{"line":40,"column":8},"end":{"line":40,"column":76}},"8":{"start":{"line":44,"column":4},"end":{"line":44,"column":28}},"9":{"start":{"line":46,"column":4},"end":{"line":55,"column":7}},"10":{"start":{"line":53,"column":12},"end":{"line":53,"column":30}},"11":{"start":{"line":56,"column":4},"end":{"line":61,"column":7}},"12":{"start":{"line":62,"column":4},"end":{"line":66,"column":7}},"13":{"start":{"line":68,"column":4},"end":{"line":68,"column":29}},"14":{"start":{"line":72,"column":0},"end":{"line":76,"column":3}},"15":{"start":{"line":73,"column":4},"end":{"line":75,"column":6}},"16":{"start":{"line":74,"column":8},"end":{"line":74,"column":61}},"17":{"start":{"line":81,"column":0},"end":{"line":90,"column":2}},"18":{"start":{"line":82,"column":4},"end":{"line":89,"column":5}},"19":{"start":{"line":83,"column":8},"end":{"line":83,"column":68}},"20":{"start":{"line":84,"column":8},"end":{"line":84,"column":52}},"21":{"start":{"line":85,"column":8},"end":{"line":85,"column":36}},"22":{"start":{"line":87,"column":8},"end":{"line":87,"column":36}},"23":{"start":{"line":88,"column":8},"end":{"line":88,"column":35}},"24":{"start":{"line":95,"column":0},"end":{"line":102,"column":2}},"25":{"start":{"line":96,"column":4},"end":{"line":96,"column":48}},"26":{"start":{"line":97,"column":4},"end":{"line":97,"column":50}},"27":{"start":{"line":99,"column":4},"end":{"line":99,"column":31}},"28":{"start":{"line":100,"column":4},"end":{"line":100,"column":51}},"29":{"start":{"line":101,"column":4},"end":{"line":101,"column":48}},"30":{"start":{"line":109,"column":0},"end":{"line":121,"column":2}},"31":{"start":{"line":110,"column":4},"end":{"line":110,"column":47}},"32":{"start":{"line":111,"column":4},"end":{"line":111,"column":65}},"33":{"start":{"line":113,"column":4},"end":{"line":119,"column":5}},"34":{"start":{"line":114,"column":8},"end":{"line":114,"column":52}},"35":{"start":{"line":115,"column":8},"end":{"line":115,"column":59}},"36":{"start":{"line":116,"column":11},"end":{"line":119,"column":5}},"37":{"start":{"line":117,"column":8},"end":{"line":117,"column":52}},"38":{"start":{"line":118,"column":8},"end":{"line":118,"column":62}},"39":{"start":{"line":120,"column":4},"end":{"line":120,"column":66}},"40":{"start":{"line":127,"column":0},"end":{"line":129,"column":2}},"41":{"start":{"line":128,"column":4},"end":{"line":128,"column":48}},"42":{"start":{"line":136,"column":0},"end":{"line":167,"column":2}},"43":{"start":{"line":137,"column":4},"end":{"line":137,"column":77}},"44":{"start":{"line":139,"column":4},"end":{"line":166,"column":5}},"45":{"start":{"line":140,"column":8},"end":{"line":140,"column":48}},"46":{"start":{"line":141,"column":8},"end":{"line":141,"column":87}},"47":{"start":{"line":143,"column":8},"end":{"line":165,"column":9}},"48":{"start":{"line":145,"column":12},"end":{"line":145,"column":73}},"49":{"start":{"line":146,"column":12},"end":{"line":146,"column":146}},"50":{"start":{"line":147,"column":12},"end":{"line":147,"column":47}},"51":{"start":{"line":151,"column":12},"end":{"line":155,"column":14}},"52":{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},"53":{"start":{"line":157,"column":16},"end":{"line":157,"column":42}},"54":{"start":{"line":159,"column":12},"end":{"line":163,"column":15}},"55":{"start":{"line":160,"column":16},"end":{"line":162,"column":17}},"56":{"start":{"line":161,"column":20},"end":{"line":161,"column":65}},"57":{"start":{"line":169,"column":0},"end":{"line":179,"column":1}},"58":{"start":{"line":170,"column":4},"end":{"line":170,"column":27}},"59":{"start":{"line":171,"column":4},"end":{"line":171,"column":38}},"60":{"start":{"line":173,"column":4},"end":{"line":177,"column":7}},"61":{"start":{"line":174,"column":8},"end":{"line":176,"column":9}},"62":{"start":{"line":175,"column":12},"end":{"line":175,"column":25}},"63":{"start":{"line":178,"column":4},"end":{"line":178,"column":18}},"64":{"start":{"line":185,"column":0},"end":{"line":194,"column":1}},"65":{"start":{"line":186,"column":4},"end":{"line":186,"column":22}},"66":{"start":{"line":188,"column":4},"end":{"line":192,"column":5}},"67":{"start":{"line":189,"column":8},"end":{"line":189,"column":63}},"68":{"start":{"line":191,"column":8},"end":{"line":191,"column":33}},"69":{"start":{"line":193,"column":4},"end":{"line":193,"column":25}},"70":{"start":{"line":196,"column":0},"end":{"line":198,"column":1}},"71":{"start":{"line":197,"column":4},"end":{"line":197,"column":79}}},"branchMap":{"1":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"2":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":41},"end":{"line":40,"column":57}},{"start":{"line":40,"column":61},"end":{"line":40,"column":74}}]},"3":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"4":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"5":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":11},"end":{"line":116,"column":11}},{"start":{"line":116,"column":11},"end":{"line":116,"column":11}}]},"6":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":4}},{"start":{"line":139,"column":4},"end":{"line":139,"column":4}}]},"7":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":20},"end":{"line":140,"column":34}},{"start":{"line":140,"column":38},"end":{"line":140,"column":47}}]},"8":{"line":141,"type":"cond-expr","locations":[{"start":{"line":141,"column":47},"end":{"line":141,"column":74}},{"start":{"line":141,"column":77},"end":{"line":141,"column":86}}]},"9":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":8},"end":{"line":143,"column":8}},{"start":{"line":143,"column":8},"end":{"line":143,"column":8}}]},"10":{"line":145,"type":"cond-expr","locations":[{"start":{"line":145,"column":33},"end":{"line":145,"column":67}},{"start":{"line":145,"column":70},"end":{"line":145,"column":72}}]},"11":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":12}},{"start":{"line":156,"column":12},"end":{"line":156,"column":12}}]},"12":{"line":160,"type":"if","locations":[{"start":{"line":160,"column":16},"end":{"line":160,"column":16}},{"start":{"line":160,"column":16},"end":{"line":160,"column":16}}]},"13":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":8},"end":{"line":174,"column":8}},{"start":{"line":174,"column":8},"end":{"line":174,"column":8}}]},"14":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":4}},{"start":{"line":188,"column":4},"end":{"line":188,"column":4}}]},"15":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":24},"end":{"line":189,"column":43}},{"start":{"line":189,"column":47},"end":{"line":189,"column":62}}]},"16":{"line":197,"type":"cond-expr","locations":[{"start":{"line":197,"column":39},"end":{"line":197,"column":59}},{"start":{"line":197,"column":62},"end":{"line":197,"column":77}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd."," */","\"use strict\";","","var winston = require('winston');","","/**"," * @enum {number}"," */","var logLevels = exports.logLevels = {","        silly: 0, // winston","        verbose: 1, // winston","        info: 2, // winston","        warn: 3, // winston","        debug: 4, // winston","        trace: 5,","        error: 6, // winston","        none: 7","};","","var logLevelColors = {","    silly: 'yellow',","    verbose: 'blue',","    info: 'green',","    warn: 'orange',","    debug: 'black', // does not work in WebStorm","    trace: 'grey',","    error: 'red'","};","","/**"," * @param {BPMNProcess=} process"," * @param {{logLevel: number}} options"," * @constructor"," */","var Logger = exports.Logger = function(process, options) {","    this.logLevel = logLevels.error;","    if (options) {","        this.logLevel = getLogLevelValue(options.logLevel || this.logLevel);","    }","","    /** {function(string)} */","    this.logAppender = null; // used for example to test log messages","","    this.winstonFileTransport = new (winston.transports.File)({","        //level: getLogLevelString(this.logLevel), //TODO: this should work, but it doesn't. Why?","        level: 'verbose',","        filename: './process.log',","        maxsize: 64 * 1024 * 1024,","        maxFiles: 100,","        timestamp: function() {","            return Date.now();","        }","    });","    this.winstonConsoleTransport = new (winston.transports.Console)({","        //level: getLogLevelString(this.logLevel), //TODO: this should work, but it doesn't. Why?","        level: 'verbose',","        colorize: true,","        json: false","    });","    this.winstonLogger = new (winston.Logger)({","        transports: [this.winstonFileTransport, this.winstonConsoleTransport],","        levels: logLevels,","        colors: logLevelColors","    });","","    this.setProcess(process);","};","","// All log levels are available as logger methods","Object.keys(logLevels).forEach(function(logLevelName) {","    Logger.prototype[logLevelName] = function(description, data) {","        this.log(logLevels[logLevelName], description, data);","    };","});","","/**"," * @param {BPMNProcessClient|BPMNProcess} bpmnProcess"," */","Logger.prototype.setProcess = function(bpmnProcess) {","    if (bpmnProcess) {","        this.processDefinition = bpmnProcess.getProcessDefinition();","        this.processId = bpmnProcess.getProcessId();","        bpmnProcess.setLogger(this);","    } else {","        this.processDefinition = {};","        this.processId = \"unknown\";","    }","};","","/**"," * @param {number | string} logLevel"," */","Logger.prototype.setLogLevel = function(logLevel) {","    var levelValue = getLogLevelValue(logLevel);","    var levelName = getLogLevelString(levelValue);","","    this.logLevel = levelValue;","    this.winstonConsoleTransport.level = levelName;","    this.winstonFileTransport.level = levelName;","};","","/**"," * Add winston log transport (semantic like winston add() [https://github.com/flatiron/winston])"," * @param WinstonTransport"," * @param options"," */","Logger.prototype.addTransport = function(WinstonTransport, options) {","    var name = WinstonTransport.prototype.name;","    var winstonTransportObject = (new WinstonTransport(options));","","    if (name === 'file') {","        this.winstonLogger.remove(WinstonTransport);","        this.winstonFileTransport = winstonTransportObject;","    } else if (name === 'console') {","        this.winstonLogger.remove(WinstonTransport);","        this.winstonConsoleTransport = winstonTransportObject;","    }","    this.winstonLogger.add(winstonTransportObject, options, true);","};","","/**"," * Remove winston log transport (semantic like winston remove() [https://github.com/flatiron/winston])"," * @param winstonTransport"," */","Logger.prototype.removeTransport = function(winstonTransport) {","    this.winstonLogger.remove(winstonTransport);","};","","    /**"," * @param {number} logLevel"," * @param {String} description"," * @param {Object=} data"," */","Logger.prototype.log = function(logLevel, description, data) {","    var processId, processName, dataMessage, formattedMessage, messageObject;","","    if (logLevel >= this.logLevel) {","        processId = this.processId || \"unknown\";","        processName = this.processDefinition ? this.processDefinition.name : \"unknown\";","","        if (this.logAppender) {","","            dataMessage = data ? \"[\" + getMessageString(data) + \"]\" : \"\";","            formattedMessage = \"[\" + getLogLevelString(logLevel) + \"][\" + processName + \"][\" + processId + \"][\" + description + \"]\" + dataMessage;","            this.logAppender(formattedMessage);","","        } else {","","            messageObject = {","                process: processName,","                id: processId,","                description: description","            };","            if (data) {","                messageObject.data = data;","            }","            this.winstonLogger.log(getLogLevelString(logLevel), messageObject, function(error) {","                if (error) {","                    console.log(\"Error while logging: \" + error);","                }","            });","","        }","    }","};","","function getLogLevelString(logLevel) {","    var result = \"unknown\";","    var keys = Object.keys(logLevels);","","    keys.forEach(function(key) {","        if (logLevels[key] === logLevel) {","            result = key;","        }","    });","    return result;","}","","/**"," * @param {number | string} logLevel"," * @return number"," */","function getLogLevelValue(logLevel) {","    var logLevelValue;","","    if (typeof logLevel === 'string') {","        logLevelValue = logLevels[logLevel] || logLevels.error;","    } else {","        logLevelValue = logLevel;","    }","    return logLevelValue;","}","","function getMessageString(data) {","    return (typeof data === 'object' ? JSON.stringify(data) : data.toString());","}"],"l":{"6":1,"11":1,"22":1,"37":1,"38":0,"39":0,"40":0,"44":0,"46":0,"53":0,"56":0,"62":0,"68":0,"72":1,"73":8,"74":0,"81":1,"82":0,"83":0,"84":0,"85":0,"87":0,"88":0,"95":1,"96":0,"97":0,"99":0,"100":0,"101":0,"109":1,"110":0,"111":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"120":0,"127":1,"128":0,"136":1,"137":0,"139":0,"140":0,"141":0,"143":0,"145":0,"146":0,"147":0,"151":0,"156":0,"157":0,"159":0,"160":0,"161":0,"169":1,"170":0,"171":0,"173":0,"174":0,"175":0,"178":0,"185":1,"186":0,"188":0,"189":0,"191":0,"193":0,"196":1,"197":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/state.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/state.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":1,"10":1,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":1,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":70}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":52},"end":{"line":24,"column":111}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":50},"end":{"line":35,"column":66}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":43},"end":{"line":46,"column":102}}},"5":{"name":"(anonymous_5)","line":63,"loc":{"start":{"line":63,"column":40},"end":{"line":63,"column":65}}},"6":{"name":"findTokens","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":64}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":26},"end":{"line":75,"column":42}}},"8":{"name":"(anonymous_8)","line":88,"loc":{"start":{"line":88,"column":52},"end":{"line":88,"column":63}}},"9":{"name":"(anonymous_9)","line":91,"loc":{"start":{"line":91,"column":24},"end":{"line":91,"column":40}}},"10":{"name":"(anonymous_10)","line":104,"loc":{"start":{"line":104,"column":43},"end":{"line":104,"column":68}}},"11":{"name":"(anonymous_11)","line":112,"loc":{"start":{"line":112,"column":43},"end":{"line":112,"column":64}}},"12":{"name":"(anonymous_12)","line":117,"loc":{"start":{"line":117,"column":22},"end":{"line":117,"column":38}}},"13":{"name":"(anonymous_13)","line":136,"loc":{"start":{"line":136,"column":47},"end":{"line":136,"column":68}}},"14":{"name":"(anonymous_14)","line":140,"loc":{"start":{"line":140,"column":22},"end":{"line":140,"column":38}}},"15":{"name":"(anonymous_15)","line":153,"loc":{"start":{"line":153,"column":41},"end":{"line":153,"column":62}}},"16":{"name":"(anonymous_16)","line":161,"loc":{"start":{"line":161,"column":39},"end":{"line":161,"column":64}}},"17":{"name":"(anonymous_17)","line":170,"loc":{"start":{"line":170,"column":46},"end":{"line":170,"column":67}}},"18":{"name":"(anonymous_18)","line":174,"loc":{"start":{"line":174,"column":28},"end":{"line":174,"column":44}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"2":{"start":{"line":13,"column":0},"end":{"line":16,"column":2}},"3":{"start":{"line":14,"column":4},"end":{"line":14,"column":35}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":43}},"5":{"start":{"line":24,"column":0},"end":{"line":28,"column":2}},"6":{"start":{"line":25,"column":4},"end":{"line":25,"column":54}},"7":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"8":{"start":{"line":27,"column":4},"end":{"line":27,"column":43}},"9":{"start":{"line":29,"column":0},"end":{"line":29,"column":40}},"10":{"start":{"line":35,"column":0},"end":{"line":38,"column":2}},"11":{"start":{"line":37,"column":4},"end":{"line":37,"column":60}},"12":{"start":{"line":46,"column":0},"end":{"line":57,"column":2}},"13":{"start":{"line":47,"column":4},"end":{"line":47,"column":17}},"14":{"start":{"line":49,"column":4},"end":{"line":53,"column":5}},"15":{"start":{"line":50,"column":8},"end":{"line":50,"column":91}},"16":{"start":{"line":52,"column":8},"end":{"line":52,"column":62}},"17":{"start":{"line":54,"column":4},"end":{"line":54,"column":31}},"18":{"start":{"line":56,"column":4},"end":{"line":56,"column":20}},"19":{"start":{"line":63,"column":0},"end":{"line":67,"column":2}},"20":{"start":{"line":64,"column":4},"end":{"line":64,"column":25}},"21":{"start":{"line":65,"column":4},"end":{"line":65,"column":57}},"22":{"start":{"line":66,"column":4},"end":{"line":66,"column":23}},"23":{"start":{"line":74,"column":0},"end":{"line":83,"column":1}},"24":{"start":{"line":75,"column":4},"end":{"line":82,"column":7}},"25":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"26":{"start":{"line":77,"column":12},"end":{"line":77,"column":36}},"27":{"start":{"line":79,"column":8},"end":{"line":81,"column":9}},"28":{"start":{"line":80,"column":12},"end":{"line":80,"column":75}},"29":{"start":{"line":88,"column":0},"end":{"line":98,"column":2}},"30":{"start":{"line":89,"column":4},"end":{"line":89,"column":25}},"31":{"start":{"line":91,"column":4},"end":{"line":95,"column":7}},"32":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"33":{"start":{"line":93,"column":12},"end":{"line":93,"column":36}},"34":{"start":{"line":97,"column":4},"end":{"line":97,"column":23}},"35":{"start":{"line":104,"column":0},"end":{"line":107,"column":2}},"36":{"start":{"line":105,"column":4},"end":{"line":105,"column":59}},"37":{"start":{"line":106,"column":4},"end":{"line":106,"column":90}},"38":{"start":{"line":112,"column":0},"end":{"line":131,"column":2}},"39":{"start":{"line":113,"column":4},"end":{"line":113,"column":36}},"40":{"start":{"line":114,"column":4},"end":{"line":114,"column":23}},"41":{"start":{"line":115,"column":4},"end":{"line":115,"column":32}},"42":{"start":{"line":117,"column":4},"end":{"line":128,"column":7}},"43":{"start":{"line":119,"column":8},"end":{"line":127,"column":9}},"44":{"start":{"line":120,"column":12},"end":{"line":120,"column":34}},"45":{"start":{"line":122,"column":12},"end":{"line":126,"column":13}},"46":{"start":{"line":123,"column":16},"end":{"line":123,"column":43}},"47":{"start":{"line":125,"column":16},"end":{"line":125,"column":38}},"48":{"start":{"line":130,"column":4},"end":{"line":130,"column":28}},"49":{"start":{"line":136,"column":0},"end":{"line":147,"column":2}},"50":{"start":{"line":137,"column":4},"end":{"line":137,"column":23}},"51":{"start":{"line":138,"column":4},"end":{"line":138,"column":32}},"52":{"start":{"line":140,"column":4},"end":{"line":144,"column":7}},"53":{"start":{"line":141,"column":8},"end":{"line":143,"column":9}},"54":{"start":{"line":142,"column":12},"end":{"line":142,"column":34}},"55":{"start":{"line":146,"column":4},"end":{"line":146,"column":28}},"56":{"start":{"line":153,"column":0},"end":{"line":155,"column":2}},"57":{"start":{"line":154,"column":4},"end":{"line":154,"column":66}},"58":{"start":{"line":161,"column":0},"end":{"line":164,"column":2}},"59":{"start":{"line":162,"column":4},"end":{"line":162,"column":49}},"60":{"start":{"line":163,"column":4},"end":{"line":163,"column":31}},"61":{"start":{"line":170,"column":0},"end":{"line":182,"column":2}},"62":{"start":{"line":171,"column":4},"end":{"line":171,"column":18}},"63":{"start":{"line":173,"column":4},"end":{"line":179,"column":5}},"64":{"start":{"line":174,"column":8},"end":{"line":178,"column":11}},"65":{"start":{"line":175,"column":12},"end":{"line":177,"column":13}},"66":{"start":{"line":176,"column":16},"end":{"line":176,"column":24}},"67":{"start":{"line":181,"column":4},"end":{"line":181,"column":17}}},"branchMap":{"1":{"line":37,"type":"cond-expr","locations":[{"start":{"line":37,"column":42},"end":{"line":37,"column":54}},{"start":{"line":37,"column":57},"end":{"line":37,"column":59}}]},"2":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":18},"end":{"line":37,"column":23}},{"start":{"line":37,"column":27},"end":{"line":37,"column":39}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"4":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"5":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"6":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":8}},{"start":{"line":92,"column":8},"end":{"line":92,"column":8}}]},"7":{"line":106,"type":"cond-expr","locations":[{"start":{"line":106,"column":62},"end":{"line":106,"column":81}},{"start":{"line":106,"column":84},"end":{"line":106,"column":88}}]},"8":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":12},"end":{"line":106,"column":28}},{"start":{"line":106,"column":32},"end":{"line":106,"column":59}}]},"9":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":8}},{"start":{"line":119,"column":8},"end":{"line":119,"column":8}}]},"10":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":12},"end":{"line":122,"column":12}},{"start":{"line":122,"column":12},"end":{"line":122,"column":12}}]},"11":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]},"12":{"line":154,"type":"cond-expr","locations":[{"start":{"line":154,"column":25},"end":{"line":154,"column":56}},{"start":{"line":154,"column":59},"end":{"line":154,"column":64}}]},"13":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":4},"end":{"line":173,"column":4}},{"start":{"line":173,"column":4},"end":{"line":173,"column":4}}]},"14":{"line":175,"type":"if","locations":[{"start":{"line":175,"column":12},"end":{"line":175,"column":12}},{"start":{"line":175,"column":12},"end":{"line":175,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var util = require('util');","","/**"," * @param {String} flowObjectName"," * @param {String} owningProcessId"," * @constructor"," */","var Token = exports.Token = function(flowObjectName, owningProcessId) {","    this.position = flowObjectName;","    this.owningProcessId = owningProcessId;","};","","/**"," * @param {String} flowObjectName"," * @param {String} owningProcessId"," * @param {String} calledProcessId"," * @constructor"," */","var CallActivityToken = exports.CallActivityToken = function(flowObjectName, owningProcessId, calledProcessId) {","    Token.call(this, flowObjectName, owningProcessId);","    this.substate = null;","    this.calledProcessId = calledProcessId;","};","util.inherits(CallActivityToken, Token);","","/**"," * @param {BPMNProcessState} state For explicit given states. For example, after loading persisted state"," * @constructor"," */","var BPMNProcessState = exports.BPMNProcessState = function(state) {","    /** @type {Array.<Token>} */","    this.tokens = state && state.tokens ? state.tokens : [];","};","","/**"," * @param {String} flowObjectName"," * @param {String} owningProcessId"," * @param {String=} calledProcessId"," * @return {Token}"," */","BPMNProcessState.prototype.createTokenAt = function(flowObjectName, owningProcessId, calledProcessId) {","    var newToken;","","    if (calledProcessId) {","        newToken = new CallActivityToken(flowObjectName, owningProcessId, calledProcessId);","    } else {","        newToken = new Token(flowObjectName, owningProcessId);","    }","    this.tokens.push(newToken);","","    return newToken;","};","","/**"," * @param {String} flowObjectName"," * @return {Array.<Token>}"," */","BPMNProcessState.prototype.findTokens = function(flowObjectName) {","    var foundTokens = [];","    findTokens(flowObjectName, this.tokens, foundTokens);","    return foundTokens;","};","","/**"," * @param {String} flowObjectName"," * @param {Array.<Token>} currentTokens"," * @param {Array.<Token>} foundTokens"," */","function findTokens(flowObjectName, currentTokens, foundTokens) {","    currentTokens.forEach(function(token) {","        if (token.position === flowObjectName) {","            foundTokens.push(token);","        }","        if (token.substate) {","            findTokens(flowObjectName, token.substate.tokens, foundTokens);","        }","    });","}","","/**"," * @return {Array.<Token>}"," */","BPMNProcessState.prototype.findCallActivityTokens = function() {","    var foundTokens = [];","","    this.tokens.forEach(function(token) {","        if (token.calledProcessId) {","            foundTokens.push(token);","        }","    });","","    return foundTokens;","};","","/**"," * @param {String} flowObjectName"," * @return {Token}"," */","BPMNProcessState.prototype.getFirstToken = function(flowObjectName) {","    var tokensAtActivity = this.findTokens(flowObjectName);","    return (tokensAtActivity && tokensAtActivity.length > 0 ? tokensAtActivity[0] : null);","};","","/**"," * @param {BPMNFlowObject} flowObject"," */","BPMNProcessState.prototype.removeTokenAt = function(flowObject) {","    var tokenHasBeenRemoved = false;","    var newTokens = [];","    var oldTokens = this.tokens;","","    oldTokens.forEach(function(token) {","        // we remove a token by copying all references except one token","        if (tokenHasBeenRemoved) {","            newTokens.push(token);","        } else {","            if (token.position === flowObject.name) {","                tokenHasBeenRemoved = true;","            } else {","                newTokens.push(token);","            }","        }","    });","","    this.tokens = newTokens;","};","","/**"," * @param {BPMNFlowObject} flowObject"," */","BPMNProcessState.prototype.removeAllTokensAt = function(flowObject) {","    var newTokens = [];","    var oldTokens = this.tokens;","","    oldTokens.forEach(function(token) {","        if (token.position !== flowObject.name) {","            newTokens.push(token);","        }","    });","","    this.tokens = newTokens;","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Boolean}"," */","BPMNProcessState.prototype.hasTokensAt = function(flowObject) {","    return (flowObject ? this.hasTokens(flowObject.name) : false);","};","","/**"," * @param {String} flowObjectName"," * @return {Boolean}"," */","BPMNProcessState.prototype.hasTokens = function(flowObjectName) {","    var tokens = this.findTokens(flowObjectName);","    return (tokens.length > 0);","};","","/**"," * @param {BPMNFlowObject} flowObject"," * @return {Number}"," */","BPMNProcessState.prototype.numberOfTokensAt = function(flowObject) {","    var count = 0;","","    if (flowObject) {","        this.tokens.forEach(function(token) {","            if (flowObject.name === token.position) {","                count++;","            }","        });","    }","","    return count;","};","","","","",""],"l":{"6":1,"13":1,"14":0,"15":0,"24":1,"25":0,"26":0,"27":0,"29":1,"35":1,"37":0,"46":1,"47":0,"49":0,"50":0,"52":0,"54":0,"56":0,"63":1,"64":0,"65":0,"66":0,"74":1,"75":0,"76":0,"77":0,"79":0,"80":0,"88":1,"89":0,"91":0,"92":0,"93":0,"97":0,"104":1,"105":0,"106":0,"112":1,"113":0,"114":0,"115":0,"117":0,"119":0,"120":0,"122":0,"123":0,"125":0,"130":0,"136":1,"137":0,"138":0,"140":0,"141":0,"142":0,"146":0,"153":1,"154":0,"161":1,"162":0,"163":0,"170":1,"171":0,"173":0,"174":0,"175":0,"176":0,"181":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/history.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/history.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":1,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":62}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":36},"end":{"line":12,"column":47}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":19},"end":{"line":13,"column":31}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":42},"end":{"line":23,"column":75}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":43}}},"6":{"name":"(anonymous_6)","line":38,"loc":{"start":{"line":38,"column":54},"end":{"line":38,"column":72}}},"7":{"name":"(anonymous_7)","line":43,"loc":{"start":{"line":43,"column":57},"end":{"line":43,"column":80}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":40},"end":{"line":61,"column":61}}},"9":{"name":"(anonymous_9)","line":69,"loc":{"start":{"line":69,"column":44},"end":{"line":69,"column":69}}},"10":{"name":"(anonymous_10)","line":88,"loc":{"start":{"line":88,"column":38},"end":{"line":88,"column":63}}},"11":{"name":"(anonymous_11)","line":96,"loc":{"start":{"line":96,"column":42},"end":{"line":96,"column":53}}},"12":{"name":"(anonymous_12)","line":108,"loc":{"start":{"line":108,"column":46},"end":{"line":108,"column":71}}},"13":{"name":"hasBeenVisited","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":56}}},"14":{"name":"(anonymous_14)","line":115,"loc":{"start":{"line":115,"column":27},"end":{"line":115,"column":43}}},"15":{"name":"(anonymous_15)","line":122,"loc":{"start":{"line":122,"column":31},"end":{"line":122,"column":47}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":50}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"3":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"4":{"start":{"line":10,"column":4},"end":{"line":10,"column":40}},"5":{"start":{"line":12,"column":0},"end":{"line":14,"column":2}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":56}},"7":{"start":{"line":13,"column":33},"end":{"line":13,"column":53}},"8":{"start":{"line":23,"column":0},"end":{"line":28,"column":2}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":21}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":21}},"11":{"start":{"line":26,"column":4},"end":{"line":26,"column":41}},"12":{"start":{"line":27,"column":4},"end":{"line":27,"column":27}},"13":{"start":{"line":30,"column":0},"end":{"line":32,"column":2}},"14":{"start":{"line":31,"column":4},"end":{"line":31,"column":30}},"15":{"start":{"line":38,"column":0},"end":{"line":56,"column":2}},"16":{"start":{"line":40,"column":4},"end":{"line":40,"column":29}},"17":{"start":{"line":42,"column":4},"end":{"line":55,"column":5}},"18":{"start":{"line":43,"column":8},"end":{"line":49,"column":11}},"19":{"start":{"line":44,"column":12},"end":{"line":44,"column":117}},"20":{"start":{"line":45,"column":12},"end":{"line":47,"column":13}},"21":{"start":{"line":46,"column":16},"end":{"line":46,"column":83}},"22":{"start":{"line":48,"column":12},"end":{"line":48,"column":25}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":43}},"24":{"start":{"line":51,"column":8},"end":{"line":51,"column":53}},"25":{"start":{"line":53,"column":8},"end":{"line":53,"column":40}},"26":{"start":{"line":54,"column":8},"end":{"line":54,"column":31}},"27":{"start":{"line":61,"column":0},"end":{"line":63,"column":2}},"28":{"start":{"line":62,"column":4},"end":{"line":62,"column":81}},"29":{"start":{"line":69,"column":0},"end":{"line":83,"column":2}},"30":{"start":{"line":70,"column":4},"end":{"line":70,"column":25}},"31":{"start":{"line":71,"column":4},"end":{"line":71,"column":47}},"32":{"start":{"line":72,"column":4},"end":{"line":72,"column":10}},"33":{"start":{"line":74,"column":4},"end":{"line":80,"column":5}},"34":{"start":{"line":75,"column":8},"end":{"line":75,"column":43}},"35":{"start":{"line":76,"column":8},"end":{"line":79,"column":9}},"36":{"start":{"line":77,"column":12},"end":{"line":77,"column":30}},"37":{"start":{"line":78,"column":12},"end":{"line":78,"column":18}},"38":{"start":{"line":82,"column":4},"end":{"line":82,"column":21}},"39":{"start":{"line":88,"column":0},"end":{"line":94,"column":2}},"40":{"start":{"line":89,"column":4},"end":{"line":89,"column":57}},"41":{"start":{"line":90,"column":4},"end":{"line":90,"column":26}},"42":{"start":{"line":91,"column":4},"end":{"line":93,"column":5}},"43":{"start":{"line":92,"column":8},"end":{"line":92,"column":43}},"44":{"start":{"line":96,"column":0},"end":{"line":102,"column":1}},"45":{"start":{"line":97,"column":4},"end":{"line":99,"column":5}},"46":{"start":{"line":98,"column":8},"end":{"line":98,"column":97}},"47":{"start":{"line":101,"column":4},"end":{"line":101,"column":17}},"48":{"start":{"line":108,"column":0},"end":{"line":110,"column":2}},"49":{"start":{"line":109,"column":4},"end":{"line":109,"column":63}},"50":{"start":{"line":112,"column":0},"end":{"line":130,"column":1}},"51":{"start":{"line":113,"column":4},"end":{"line":113,"column":22}},"52":{"start":{"line":115,"column":4},"end":{"line":119,"column":7}},"53":{"start":{"line":116,"column":8},"end":{"line":118,"column":9}},"54":{"start":{"line":117,"column":12},"end":{"line":117,"column":25}},"55":{"start":{"line":121,"column":4},"end":{"line":127,"column":5}},"56":{"start":{"line":122,"column":8},"end":{"line":126,"column":11}},"57":{"start":{"line":123,"column":12},"end":{"line":125,"column":13}},"58":{"start":{"line":124,"column":16},"end":{"line":124,"column":29}},"59":{"start":{"line":129,"column":4},"end":{"line":129,"column":17}}},"branchMap":{"1":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":17},"end":{"line":26,"column":22}},{"start":{"line":26,"column":26},"end":{"line":26,"column":40}}]},"2":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":15},"end":{"line":27,"column":18}},{"start":{"line":27,"column":22},"end":{"line":27,"column":26}}]},"3":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":12},"end":{"line":45,"column":12}},{"start":{"line":45,"column":12},"end":{"line":45,"column":12}}]},"5":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":26},"end":{"line":51,"column":44}},{"start":{"line":51,"column":48},"end":{"line":51,"column":52}}]},"6":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"7":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":91,"column":4}},{"start":{"line":91,"column":4},"end":{"line":91,"column":4}}]},"8":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":97,"column":4}},{"start":{"line":97,"column":4},"end":{"line":97,"column":4}}]},"9":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":8}},{"start":{"line":116,"column":8},"end":{"line":116,"column":8}}]},"10":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":4},"end":{"line":121,"column":4}},{"start":{"line":121,"column":4},"end":{"line":121,"column":4}}]},"11":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":123,"column":12}},{"start":{"line":123,"column":12},"end":{"line":123,"column":12}}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":16},"end":{"line":123,"column":32}},{"start":{"line":123,"column":36},"end":{"line":123,"column":99}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var endEvents = require('./parsing/endEvents.js');","","var getTimestamp = Date.now;","exports.setTimestampFunction = function(getTimestampFunction) {","    getTimestamp = getTimestampFunction;","};","exports.setDummyTimestampFunction = function() {","    getTimestamp = function () { return \"_dummy_ts_\"; };","};","","/**"," * @param {String} name"," * @param {String} type"," * @param {Number=} begin Timestamp in ms"," * @param {Number=} end"," * @constructor"," */","var HistoryEntry = exports.HistoryEntry = function(name, type, begin, end) {","    this.name = name;","    this.type = type;","    this.begin = begin || getTimestamp();","    this.end = end || null;","};","","HistoryEntry.prototype.setEnd = function() {","    this.end = getTimestamp();","};","","/**"," * @param {BPMNProcessHistory} history For explicit given history. For example, after loading persisted state"," * @constructor"," */","var BPMNProcessHistory = exports.BPMNProcessHistory = function(history) {","    /** @type {Array.<HistoryEntry>} */","    this.historyEntries = [];","","    if (history) {","        this.historyEntries = history.historyEntries.map(function(historyEntry) {","            var entry = new HistoryEntry(historyEntry.name, historyEntry.type, historyEntry.begin, historyEntry.end);","            if (historyEntry.subhistory) {","                entry.subhistory = new BPMNProcessHistory(historyEntry.subhistory);","            }","            return entry;","        });","        this.createdAt = history.createdAt;","        this.finishedAt = history.finishedAt || null;","    } else {","        this.createdAt = getTimestamp();","        this.finishedAt = null;","    }","};","","/**"," * @param {BPMNFlowObject} flowObject"," */","BPMNProcessHistory.prototype.addEntry = function(flowObject) {","    this.historyEntries.push(new HistoryEntry(flowObject.name, flowObject.type));","};","","/**"," * @param {String} flowObjectName"," * @return {HistoryEntry}"," */","BPMNProcessHistory.prototype.getLastEntry = function(flowObjectName) {","    var lastEntry = null;","    var last =  this.historyEntries.length - 1;","    var i;","","    for (i=last; i >= 0; i--) {","        var entry = this.historyEntries[i];","        if (entry.name === flowObjectName) {","            lastEntry = entry;","            break;","        }","    }","","    return lastEntry;","};","","/**"," * @param {String} flowObjectName"," */","BPMNProcessHistory.prototype.setEnd = function(flowObjectName) {","    var historyEntry = this.getLastEntry(flowObjectName);","    historyEntry.setEnd();","    if (endEvents.isEndEventName(historyEntry.type)) {","        this.finishedAt = historyEntry.end;","    }","};","","BPMNProcessHistory.prototype.isFinished = function() {","    if(this.historyEntries.length){","        return endEvents.isEndEventName(this.historyEntries[this.historyEntries.length - 1].type)","    }","","    return false;","}","","/**"," * @param {String} flowObjectName"," * @return {Boolean}"," */","BPMNProcessHistory.prototype.hasBeenVisited = function(flowObjectName) {","    return hasBeenVisited(this.historyEntries, flowObjectName);","};","","function hasBeenVisited(historyEntries, flowObjectName) {","    var found = false;","","    historyEntries.forEach(function(entry) {","        if (entry.name === flowObjectName) {","            found = true;","        }","    });","","    if (!found) {","        historyEntries.forEach(function(entry) {","            if (entry.subhistory && hasBeenVisited(entry.subhistory.historyEntries, flowObjectName)) {","                found = true;","            }","        });","    }","","    return found;","}"],"l":{"6":1,"8":1,"9":1,"10":0,"12":1,"13":0,"23":1,"24":0,"25":0,"26":0,"27":0,"30":1,"31":0,"38":1,"40":0,"42":0,"43":0,"44":0,"45":0,"46":0,"48":0,"50":0,"51":0,"53":0,"54":0,"61":1,"62":0,"69":1,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"78":0,"82":0,"88":1,"89":0,"90":0,"91":0,"92":0,"96":1,"97":0,"98":0,"101":0,"108":1,"109":0,"112":1,"113":0,"115":0,"116":0,"117":0,"121":0,"122":0,"123":0,"124":0,"129":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/client.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/client.js","s":{"1":1,"2":0,"3":1,"4":0,"5":1,"6":0,"7":1,"8":0,"9":1,"10":0,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":1,"24":0,"25":1,"26":0,"27":1,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":0,"38":1,"39":0,"40":1,"41":0,"42":1,"43":0,"44":1,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":52},"end":{"line":10,"column":74}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":49},"end":{"line":18,"column":60}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":39},"end":{"line":26,"column":64}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":43},"end":{"line":34,"column":69}}},"5":{"name":"(anonymous_5)","line":42,"loc":{"start":{"line":42,"column":42},"end":{"line":42,"column":70}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":54},"end":{"line":50,"column":85}}},"7":{"name":"(anonymous_7)","line":57,"loc":{"start":{"line":57,"column":39},"end":{"line":57,"column":50}}},"8":{"name":"(anonymous_8)","line":64,"loc":{"start":{"line":64,"column":41},"end":{"line":64,"column":52}}},"9":{"name":"(anonymous_9)","line":72,"loc":{"start":{"line":72,"column":42},"end":{"line":72,"column":64}}},"10":{"name":"(anonymous_10)","line":80,"loc":{"start":{"line":80,"column":42},"end":{"line":80,"column":57}}},"11":{"name":"(anonymous_11)","line":87,"loc":{"start":{"line":87,"column":44},"end":{"line":87,"column":55}}},"12":{"name":"(anonymous_12)","line":94,"loc":{"start":{"line":94,"column":47},"end":{"line":94,"column":58}}},"13":{"name":"(anonymous_13)","line":101,"loc":{"start":{"line":101,"column":51},"end":{"line":101,"column":62}}},"14":{"name":"(anonymous_14)","line":108,"loc":{"start":{"line":108,"column":43},"end":{"line":108,"column":54}}},"15":{"name":"(anonymous_15)","line":116,"loc":{"start":{"line":116,"column":51},"end":{"line":116,"column":87}}},"16":{"name":"(anonymous_16)","line":117,"loc":{"start":{"line":117,"column":68},"end":{"line":117,"column":94}}},"17":{"name":"(anonymous_17)","line":129,"loc":{"start":{"line":129,"column":40},"end":{"line":129,"column":57}}},"18":{"name":"(anonymous_18)","line":136,"loc":{"start":{"line":136,"column":42},"end":{"line":136,"column":61}}},"19":{"name":"(anonymous_19)","line":145,"loc":{"start":{"line":145,"column":46},"end":{"line":145,"column":82}}},"20":{"name":"(anonymous_20)","line":153,"loc":{"start":{"line":153,"column":49},"end":{"line":153,"column":76}}},"21":{"name":"(anonymous_21)","line":160,"loc":{"start":{"line":160,"column":45},"end":{"line":160,"column":67}}},"22":{"name":"(anonymous_22)","line":169,"loc":{"start":{"line":169,"column":46},"end":{"line":169,"column":61}}},"23":{"name":"(anonymous_23)","line":176,"loc":{"start":{"line":176,"column":37},"end":{"line":176,"column":48}}},"24":{"name":"(anonymous_24)","line":185,"loc":{"start":{"line":185,"column":42},"end":{"line":185,"column":63}}},"25":{"name":"(anonymous_25)","line":200,"loc":{"start":{"line":200,"column":41},"end":{"line":200,"column":62}}},"26":{"name":"(anonymous_26)","line":220,"loc":{"start":{"line":220,"column":44},"end":{"line":220,"column":65}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":12,"column":2}},"2":{"start":{"line":11,"column":4},"end":{"line":11,"column":39}},"3":{"start":{"line":18,"column":0},"end":{"line":20,"column":2}},"4":{"start":{"line":19,"column":4},"end":{"line":19,"column":32}},"5":{"start":{"line":26,"column":0},"end":{"line":28,"column":2}},"6":{"start":{"line":27,"column":4},"end":{"line":27,"column":55}},"7":{"start":{"line":34,"column":0},"end":{"line":36,"column":2}},"8":{"start":{"line":35,"column":4},"end":{"line":35,"column":60}},"9":{"start":{"line":42,"column":0},"end":{"line":44,"column":2}},"10":{"start":{"line":43,"column":4},"end":{"line":43,"column":61}},"11":{"start":{"line":50,"column":0},"end":{"line":52,"column":2}},"12":{"start":{"line":51,"column":4},"end":{"line":51,"column":89}},"13":{"start":{"line":57,"column":0},"end":{"line":59,"column":2}},"14":{"start":{"line":58,"column":4},"end":{"line":58,"column":48}},"15":{"start":{"line":64,"column":0},"end":{"line":66,"column":2}},"16":{"start":{"line":65,"column":4},"end":{"line":65,"column":50}},"17":{"start":{"line":72,"column":0},"end":{"line":74,"column":2}},"18":{"start":{"line":73,"column":4},"end":{"line":73,"column":55}},"19":{"start":{"line":80,"column":0},"end":{"line":82,"column":2}},"20":{"start":{"line":81,"column":4},"end":{"line":81,"column":55}},"21":{"start":{"line":87,"column":0},"end":{"line":89,"column":2}},"22":{"start":{"line":88,"column":4},"end":{"line":88,"column":53}},"23":{"start":{"line":94,"column":0},"end":{"line":96,"column":2}},"24":{"start":{"line":95,"column":4},"end":{"line":95,"column":70}},"25":{"start":{"line":101,"column":0},"end":{"line":103,"column":2}},"26":{"start":{"line":102,"column":4},"end":{"line":102,"column":60}},"27":{"start":{"line":108,"column":0},"end":{"line":110,"column":2}},"28":{"start":{"line":109,"column":4},"end":{"line":109,"column":52}},"29":{"start":{"line":116,"column":0},"end":{"line":124,"column":2}},"30":{"start":{"line":117,"column":4},"end":{"line":123,"column":7}},"31":{"start":{"line":118,"column":8},"end":{"line":120,"column":9}},"32":{"start":{"line":119,"column":12},"end":{"line":119,"column":33}},"33":{"start":{"line":122,"column":8},"end":{"line":122,"column":50}},"34":{"start":{"line":129,"column":0},"end":{"line":131,"column":2}},"35":{"start":{"line":130,"column":4},"end":{"line":130,"column":48}},"36":{"start":{"line":136,"column":0},"end":{"line":138,"column":2}},"37":{"start":{"line":137,"column":4},"end":{"line":137,"column":52}},"38":{"start":{"line":145,"column":0},"end":{"line":147,"column":2}},"39":{"start":{"line":146,"column":4},"end":{"line":146,"column":73}},"40":{"start":{"line":153,"column":0},"end":{"line":155,"column":2}},"41":{"start":{"line":154,"column":4},"end":{"line":154,"column":67}},"42":{"start":{"line":160,"column":0},"end":{"line":162,"column":2}},"43":{"start":{"line":161,"column":4},"end":{"line":161,"column":58}},"44":{"start":{"line":169,"column":0},"end":{"line":171,"column":2}},"45":{"start":{"line":170,"column":4},"end":{"line":170,"column":52}},"46":{"start":{"line":176,"column":0},"end":{"line":178,"column":2}},"47":{"start":{"line":177,"column":4},"end":{"line":177,"column":53}},"48":{"start":{"line":185,"column":0},"end":{"line":193,"column":2}},"49":{"start":{"line":186,"column":4},"end":{"line":192,"column":5}},"50":{"start":{"line":187,"column":8},"end":{"line":191,"column":30}},"51":{"start":{"line":200,"column":0},"end":{"line":213,"column":2}},"52":{"start":{"line":201,"column":4},"end":{"line":201,"column":26}},"53":{"start":{"line":202,"column":4},"end":{"line":204,"column":5}},"54":{"start":{"line":203,"column":8},"end":{"line":203,"column":18}},"55":{"start":{"line":206,"column":4},"end":{"line":212,"column":5}},"56":{"start":{"line":207,"column":8},"end":{"line":211,"column":19}},"57":{"start":{"line":220,"column":0},"end":{"line":235,"column":2}},"58":{"start":{"line":221,"column":4},"end":{"line":221,"column":26}},"59":{"start":{"line":222,"column":4},"end":{"line":224,"column":5}},"60":{"start":{"line":223,"column":8},"end":{"line":223,"column":18}},"61":{"start":{"line":226,"column":4},"end":{"line":226,"column":28}},"62":{"start":{"line":228,"column":4},"end":{"line":234,"column":5}},"63":{"start":{"line":229,"column":8},"end":{"line":233,"column":19}}},"branchMap":{"1":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":8},"end":{"line":118,"column":8}},{"start":{"line":118,"column":8},"end":{"line":118,"column":8}}]},"2":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":4},"end":{"line":186,"column":4}},{"start":{"line":186,"column":4},"end":{"line":186,"column":4}}]},"3":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":4},"end":{"line":202,"column":4}},{"start":{"line":202,"column":4},"end":{"line":202,"column":4}}]},"4":{"line":206,"type":"if","locations":[{"start":{"line":206,"column":4},"end":{"line":206,"column":4}},{"start":{"line":206,"column":4},"end":{"line":206,"column":4}}]},"5":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":4},"end":{"line":222,"column":4}},{"start":{"line":222,"column":4},"end":{"line":222,"column":4}}]},"6":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":4},"end":{"line":228,"column":4}},{"start":{"line":228,"column":4},"end":{"line":228,"column":4}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param {BPMNProcess} bpmnProcess"," * @constructor"," */","var BPMNProcessClient = exports.BPMNProcessClient = function(bpmnProcess) {","    this._implementation = bpmnProcess;","};","","/**"," * @return {BPMNProcess}"," * @private"," */","BPMNProcessClient.prototype._getImplementation = function() {","    return this._implementation;","};","","/**"," * @param {String} taskName"," * @param {Object} data"," */","BPMNProcessClient.prototype.taskDone = function(taskName, data) {","    this._getImplementation().taskDone(taskName, data);","};","","/**"," * @param {String} eventName"," * @param {Object=} data"," */","BPMNProcessClient.prototype.triggerEvent = function(eventName, data) {","    this._getImplementation().triggerEvent(eventName, data);","};","","/**"," * @param {BPMNMessageFlow} messageFlow"," * @param {Object=} data"," */","BPMNProcessClient.prototype.sendMessage = function(messageFlow, data) {","    this._getImplementation().sendMessage(messageFlow, data);","};","","/**"," * @param {String}sourceObjectFlowName"," * @return {Array.<BPMNMessageFlow>}"," */","BPMNProcessClient.prototype.getOutgoingMessageFlows = function(sourceObjectFlowName) {","    return this.getProcessDefinition().getMessageFlowsBySourceName(sourceObjectFlowName);","};","","/**"," * @return {BPMNProcessState}"," */","BPMNProcessClient.prototype.getState = function() {","    return this._getImplementation().getState();","};","","/**"," * @return {BPMNProcessHistory}"," */","BPMNProcessClient.prototype.getHistory = function() {","    return this._getImplementation().getHistory();","};","","/**"," * @param {String} name"," * @param {Object} value"," */","BPMNProcessClient.prototype.setProperty = function(name, value) {","    this._getImplementation().setProperty(name, value);","};","","/**"," * @param {String} name"," * @return {Object}"," */","BPMNProcessClient.prototype.getProperty = function(name) {","    return this._getImplementation().getProperty(name);","};","","/**"," * @return {Object}"," */","BPMNProcessClient.prototype.getProperties = function() {","    return this._getImplementation().getProperties();","};","","/**"," * @return {BPMNProcessClient}"," */","BPMNProcessClient.prototype.getParentProcess = function() {","    return this._getImplementation().getParentProcess().processClient;","};","","/**"," * @return {BPMNProcessDefinition}"," */","BPMNProcessClient.prototype.getProcessDefinition = function() {","    return this._getImplementation().getProcessDefinition();","};","","/**"," * @return {String}"," */","BPMNProcessClient.prototype.getProcessId = function() {","    return this._getImplementation().getProcessId();","};","","/**"," * @param {String} participantName"," * @return {BPMNProcessClient}"," */","BPMNProcessClient.prototype.getParticipantByName = function(participantName, callback) {","    this._getImplementation().getParticipantByName(participantName, function(err, bpmnProcess){","        if(err){","            return callback(err);","        }","","        callback(null, bpmnProcess.processClient);","    });","};","","/**"," * @param {Logger} logger"," */","BPMNProcessClient.prototype.setLogger = function(logger) {","    this._getImplementation().setLogger(logger);","};","","/**"," * @param {number | string} logLevel"," */","BPMNProcessClient.prototype.setLogLevel = function(logLevel) {","    this._getImplementation().setLogLevel(logLevel);","};","","/**"," * Add winston log transport (semantic like winston add() [https://github.com/flatiron/winston])"," * @param winstonTransport"," * @param options"," */","BPMNProcessClient.prototype.addLogTransport = function(winstonTransport, options) {","    this._getImplementation().addLogTransport(winstonTransport, options);","};","","/**"," * Remove winston log transport (semantic like winston remove() [https://github.com/flatiron/winston])"," * @param winstonTransport"," */","BPMNProcessClient.prototype.removeLogTransport = function(winstonTransport) {","    this._getImplementation().removeLogTransport(winstonTransport);","};","","/**"," * @param {function(string)} logAppender"," */","BPMNProcessClient.prototype.setLogAppender = function(logAppender) {","    this._getImplementation().setLogAppender(logAppender);","};","","/**"," * If we have a persistency layer that requires db connections, they are closed."," * @param {Function} done"," */","","BPMNProcessClient.prototype.closeConnection = function(done) {","    this._getImplementation().closeConnection(done);","};","","/**"," * @return {Transaction}"," */","BPMNProcessClient.prototype.getTrx = function() {","    return this._getImplementation().getCurrentTrx();","};","","/**"," *"," * @param {String} key"," * @param {String} value"," */","BPMNProcessClient.prototype.traceString = function(key, value) {","    if(this._getImplementation().getCurrentTrx()) {","        this._getImplementation().getCurrentTrx().processValueString(","            this._getImplementation().getProcessDefinition().name,","            this._getImplementation().getProcessId(),","            key,","            value.toString());","    }","};","","/**"," *"," * @param {String} key"," * @param {Number} value"," */","BPMNProcessClient.prototype.traceFloat = function(key, value) {","    value = Number(value);","    if(!value){","        value = 0;","    }","","    if(this._getImplementation().getCurrentTrx()) {","        this._getImplementation().getCurrentTrx().processValueFloat(","            this._getImplementation().getProcessDefinition().name,","            this._getImplementation().getProcessId(),","            key,","            value);","    }","};","","/**"," *"," * @param {String} key"," * @param {Date|Number} value"," */","BPMNProcessClient.prototype.traceDatetime = function(key, value) {","    value = Number(value);","    if(!value){","        value = 0;","    }","","    value = new Date(value);","","    if(this._getImplementation().getCurrentTrx()) {","        this._getImplementation().getCurrentTrx().processValueDateTime(","            this._getImplementation().getProcessDefinition().name,","            this._getImplementation().getProcessId(),","            key,","            value);","    }","};"],"l":{"10":1,"11":0,"18":1,"19":0,"26":1,"27":0,"34":1,"35":0,"42":1,"43":0,"50":1,"51":0,"57":1,"58":0,"64":1,"65":0,"72":1,"73":0,"80":1,"81":0,"87":1,"88":0,"94":1,"95":0,"101":1,"102":0,"108":1,"109":0,"116":1,"117":0,"118":0,"119":0,"122":0,"129":1,"130":0,"136":1,"137":0,"145":1,"146":0,"153":1,"154":0,"160":1,"161":0,"169":1,"170":0,"176":1,"177":0,"185":1,"186":0,"187":0,"200":1,"201":0,"202":0,"203":0,"206":0,"207":0,"220":1,"221":0,"222":0,"223":0,"226":0,"228":0,"229":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/timeouts.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/timeouts.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"Timeout","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":42}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":62},"end":{"line":31,"column":84}}},"3":{"name":"(anonymous_3)","line":41,"loc":{"start":{"line":41,"column":47},"end":{"line":41,"column":58}}},"4":{"name":"(anonymous_4)","line":49,"loc":{"start":{"line":49,"column":46},"end":{"line":49,"column":71}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":49},"end":{"line":56,"column":74}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":54},"end":{"line":70,"column":80}}},"7":{"name":"(anonymous_7)","line":75,"loc":{"start":{"line":75,"column":45},"end":{"line":75,"column":70}}},"8":{"name":"(anonymous_8)","line":91,"loc":{"start":{"line":91,"column":57},"end":{"line":91,"column":94}}},"9":{"name":"(anonymous_9)","line":95,"loc":{"start":{"line":95,"column":28},"end":{"line":95,"column":39}}},"10":{"name":"(anonymous_10)","line":109,"loc":{"start":{"line":109,"column":61},"end":{"line":109,"column":98}}},"11":{"name":"(anonymous_11)","line":113,"loc":{"start":{"line":113,"column":28},"end":{"line":113,"column":39}}},"12":{"name":"(anonymous_12)","line":125,"loc":{"start":{"line":125,"column":22},"end":{"line":125,"column":33}}},"13":{"name":"(anonymous_13)","line":143,"loc":{"start":{"line":143,"column":49},"end":{"line":143,"column":111}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":38}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":75}},"3":{"start":{"line":14,"column":0},"end":{"line":26,"column":1}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":16}},"5":{"start":{"line":17,"column":4},"end":{"line":22,"column":5}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":25}},"7":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"8":{"start":{"line":21,"column":8},"end":{"line":21,"column":25}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":17}},"10":{"start":{"line":25,"column":4},"end":{"line":25,"column":31}},"11":{"start":{"line":31,"column":0},"end":{"line":36,"column":2}},"12":{"start":{"line":33,"column":4},"end":{"line":33,"column":30}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":35}},"14":{"start":{"line":35,"column":4},"end":{"line":35,"column":28}},"15":{"start":{"line":41,"column":0},"end":{"line":43,"column":2}},"16":{"start":{"line":42,"column":4},"end":{"line":42,"column":58}},"17":{"start":{"line":49,"column":0},"end":{"line":51,"column":2}},"18":{"start":{"line":50,"column":4},"end":{"line":50,"column":48}},"19":{"start":{"line":56,"column":0},"end":{"line":65,"column":2}},"20":{"start":{"line":57,"column":4},"end":{"line":59,"column":5}},"21":{"start":{"line":58,"column":8},"end":{"line":58,"column":52}},"22":{"start":{"line":61,"column":4},"end":{"line":64,"column":5}},"23":{"start":{"line":62,"column":8},"end":{"line":62,"column":57}},"24":{"start":{"line":63,"column":8},"end":{"line":63,"column":50}},"25":{"start":{"line":70,"column":0},"end":{"line":84,"column":2}},"26":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"27":{"start":{"line":72,"column":4},"end":{"line":72,"column":63}},"28":{"start":{"line":74,"column":4},"end":{"line":83,"column":5}},"29":{"start":{"line":75,"column":8},"end":{"line":82,"column":11}},"30":{"start":{"line":76,"column":12},"end":{"line":76,"column":83}},"31":{"start":{"line":77,"column":12},"end":{"line":81,"column":13}},"32":{"start":{"line":78,"column":16},"end":{"line":78,"column":92}},"33":{"start":{"line":80,"column":16},"end":{"line":80,"column":88}},"34":{"start":{"line":91,"column":0},"end":{"line":102,"column":2}},"35":{"start":{"line":92,"column":4},"end":{"line":92,"column":39}},"36":{"start":{"line":93,"column":4},"end":{"line":93,"column":20}},"37":{"start":{"line":94,"column":4},"end":{"line":94,"column":41}},"38":{"start":{"line":95,"column":4},"end":{"line":99,"column":6}},"39":{"start":{"line":96,"column":8},"end":{"line":96,"column":92}},"40":{"start":{"line":97,"column":8},"end":{"line":97,"column":43}},"41":{"start":{"line":98,"column":8},"end":{"line":98,"column":44}},"42":{"start":{"line":101,"column":4},"end":{"line":101,"column":74}},"43":{"start":{"line":109,"column":0},"end":{"line":135,"column":2}},"44":{"start":{"line":110,"column":4},"end":{"line":110,"column":39}},"45":{"start":{"line":111,"column":4},"end":{"line":111,"column":20}},"46":{"start":{"line":112,"column":4},"end":{"line":112,"column":41}},"47":{"start":{"line":113,"column":4},"end":{"line":132,"column":6}},"48":{"start":{"line":114,"column":8},"end":{"line":114,"column":24}},"49":{"start":{"line":115,"column":8},"end":{"line":115,"column":48}},"50":{"start":{"line":117,"column":8},"end":{"line":120,"column":9}},"51":{"start":{"line":118,"column":12},"end":{"line":118,"column":173}},"52":{"start":{"line":119,"column":12},"end":{"line":119,"column":110}},"53":{"start":{"line":122,"column":8},"end":{"line":122,"column":96}},"54":{"start":{"line":123,"column":8},"end":{"line":123,"column":52}},"55":{"start":{"line":124,"column":8},"end":{"line":124,"column":43}},"56":{"start":{"line":125,"column":8},"end":{"line":130,"column":10}},"57":{"start":{"line":126,"column":12},"end":{"line":128,"column":13}},"58":{"start":{"line":127,"column":16},"end":{"line":127,"column":26}},"59":{"start":{"line":129,"column":12},"end":{"line":129,"column":47}},"60":{"start":{"line":131,"column":8},"end":{"line":131,"column":76}},"61":{"start":{"line":134,"column":4},"end":{"line":134,"column":74}},"62":{"start":{"line":143,"column":0},"end":{"line":165,"column":2}},"63":{"start":{"line":144,"column":4},"end":{"line":144,"column":39}},"64":{"start":{"line":145,"column":4},"end":{"line":145,"column":20}},"65":{"start":{"line":146,"column":4},"end":{"line":146,"column":74}},"66":{"start":{"line":147,"column":4},"end":{"line":147,"column":78}},"67":{"start":{"line":148,"column":4},"end":{"line":148,"column":27}},"68":{"start":{"line":150,"column":4},"end":{"line":164,"column":5}},"69":{"start":{"line":151,"column":8},"end":{"line":151,"column":133}},"70":{"start":{"line":153,"column":8},"end":{"line":153,"column":67}},"71":{"start":{"line":154,"column":8},"end":{"line":154,"column":55}},"72":{"start":{"line":156,"column":8},"end":{"line":156,"column":25}},"73":{"start":{"line":157,"column":8},"end":{"line":157,"column":32}},"74":{"start":{"line":158,"column":8},"end":{"line":163,"column":9}},"75":{"start":{"line":159,"column":12},"end":{"line":159,"column":97}},"76":{"start":{"line":160,"column":12},"end":{"line":160,"column":87}},"77":{"start":{"line":162,"column":12},"end":{"line":162,"column":34}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":4},"end":{"line":57,"column":4}},{"start":{"line":57,"column":4},"end":{"line":57,"column":4}}]},"3":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"4":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]},"5":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":12},"end":{"line":77,"column":12}},{"start":{"line":77,"column":12},"end":{"line":77,"column":12}}]},"6":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":8}},{"start":{"line":117,"column":8},"end":{"line":117,"column":8}}]},"7":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":126,"column":12}},{"start":{"line":126,"column":12},"end":{"line":126,"column":12}}]},"8":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"9":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":18},"end":{"line":153,"column":32}},{"start":{"line":153,"column":36},"end":{"line":153,"column":66}}]},"10":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":8},"end":{"line":158,"column":8}},{"start":{"line":158,"column":8},"end":{"line":158,"column":8}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var handler = require('./handler.js');","var getTimeoutHandlerPostfix = handler.handlerNameSeparator + \"getTimeout\";","","/**"," * @param {Integer} timeoutInMs"," * @param {Boolean} isRelative"," * @constructor"," */","function Timeout(timeoutInMs, isRelative) {","    var at, now;","","    if (isRelative) {","        now = Date.now();","        at = now + timeoutInMs;","    } else {","        at = timeoutInMs;","    }","","    this.at = at;","    this.timeout = timeoutInMs;","}","","/**"," * @constructor"," */","var BPMNPendingTimerEvents = exports.BPMNPendingTimerEvents = function(bpmnProcess) {","    /** @type {Array.<Timeout>} */","    this.pendingTimeouts = {};","    this.bpmnProcess = bpmnProcess;","    this.setTimeoutIds = {};","};","","/**"," * @return {Boolean}"," */","BPMNPendingTimerEvents.prototype.hasTimeouts = function() {","    return (Object.keys(this.pendingTimeouts).length > 0);","};","","/**"," * @param {String} timerEventName"," * @return {Timeout}"," */","BPMNPendingTimerEvents.prototype.getTimeout = function(timerEventName) {","    return this.pendingTimeouts[timerEventName];","};","","/**"," * @param {String} timerEventName"," */","BPMNPendingTimerEvents.prototype.removeTimeout = function(timerEventName) {","    if (this.pendingTimeouts[timerEventName]) {","        delete this.pendingTimeouts[timerEventName];","    }","","    if (this.setTimeoutIds[timerEventName]) {","        clearTimeout(this.setTimeoutIds[timerEventName]);","        delete this.setTimeoutIds[timerEventName];","    }","};","","/**"," * @param {Object} pendingTimeouts Object that maps timeout event names to timeouts"," */","BPMNPendingTimerEvents.prototype.restoreTimerEvents = function(pendingTimeouts) {","    var self = this;","    var processDefinition = this.bpmnProcess.processDefinition;","","    if (pendingTimeouts) {","        Object.keys(pendingTimeouts).forEach(function(timerEventName) {","            var timerEvent = processDefinition.getFlowObjectByName(timerEventName);","            if (timerEvent.isIntermediateCatchEvent) {","                self.addIntermediateTimerEvent(timerEvent, pendingTimeouts[timerEventName]);","            } else {","                self.addBoundaryTimerEvent(timerEvent, pendingTimeouts[timerEventName]);","            }","        });","    }","};","","/**"," * @param {BPMNBoundaryEvent} timerEvent"," * @param {Timeout=} pendingTimeout If given, this timeout object is added to the pending timeouts."," *                                  If not given, a new timeout will be created."," */","BPMNPendingTimerEvents.prototype.addBoundaryTimerEvent = function(timerEvent, pendingTimeout) {","    var bpmnProcess = this.bpmnProcess;","    var self = this;","    var timerEventName = timerEvent.name;","    var timerEventHandler = function() {","        bpmnProcess.logger.trace(\"Caught boundary timer event: '\" + timerEvent.name + \"'.\");","        self.removeTimeout(timerEventName);","        bpmnProcess._putTokenAt(timerEvent);","    };","","    this.addTimerEvent(timerEventName, pendingTimeout, timerEventHandler);","};","","/**"," * @param {BPMNIntermediateCatchEvent} timerEvent"," * @param {Timeout=} pendingTimeout If given, this object is added to the pending timeouts."," *                                  If not given, a new timeout will be created."," */","BPMNPendingTimerEvents.prototype.addIntermediateTimerEvent = function(timerEvent, pendingTimeout) {","    var bpmnProcess = this.bpmnProcess;","    var self = this;","    var timerEventName = timerEvent.name;","    var timerEventHandler = function() {","        var handlerDone;","        var trx = bpmnProcess.currentTrx = null;","","        if(bpmnProcess.transactionLogger){","            trx = bpmnProcess.currentTrx = bpmnProcess.transactionLogger.startTransaction(bpmnProcess.processDefinition.name, 'PSTATE', 'TRANSITION', null, timerEvent.name);","            trx.processEvent(bpmnProcess.processDefinition.name, bpmnProcess.getProcessId(), timerEvent.name);","        }","","        bpmnProcess.logger.trace(\"Caught intermediate timer event: '\" + timerEvent.name + \"'.\");","        bpmnProcess.state.removeTokenAt(timerEvent);","        self.removeTimeout(timerEventName);","        handlerDone = function() {","            if(trx){","                trx.end();","            }","            timerEvent.emitTokens(bpmnProcess);","        };","        handler.callHandler(timerEventName, bpmnProcess, null, handlerDone);","    };","","    this.addTimerEvent(timerEventName, pendingTimeout, timerEventHandler);","};","","/**"," * @param {String} timerEventName"," * @param {Timeout=} pendingTimeout If given, this object is added to the pending timeouts."," *                                  If not given, a new timeout will be created."," * @param {Function=} timeoutEventHandler"," */","BPMNPendingTimerEvents.prototype.addTimerEvent = function(timerEventName, pendingTimeout, timeoutEventHandler) {","    var bpmnProcess = this.bpmnProcess;","    var self = this;","    var getTimeoutHandlerName = timerEventName + getTimeoutHandlerPostfix;","    var timeoutInMs = handler.callHandler(getTimeoutHandlerName, bpmnProcess);","    var timeout, now, diff;","","    if (isNaN(timeoutInMs)) {","        throw new Error(\"The getTimeout handler '\" + getTimeoutHandlerName + \"' does not return a number but '\" + timeoutInMs + \"'\");","    } else {","        timeout = pendingTimeout || new Timeout(timeoutInMs, true);","        self.pendingTimeouts[timerEventName] = timeout;","","        now = Date.now();","        diff = timeout.at - now;","        if (diff > 0) {","            bpmnProcess.logger.debug(\"Set timer for '\" + timerEventName + \"'. Timeout: \" + diff);","            self.setTimeoutIds[timerEventName] = setTimeout(timeoutEventHandler, diff);","        } else {","            timeoutEventHandler();","        }","    }","};",""],"l":{"6":1,"7":1,"14":1,"15":0,"17":0,"18":0,"19":0,"21":0,"24":0,"25":0,"31":1,"33":0,"34":0,"35":0,"41":1,"42":0,"49":1,"50":0,"56":1,"57":0,"58":0,"61":0,"62":0,"63":0,"70":1,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"101":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"117":0,"118":0,"119":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"131":0,"134":0,"143":1,"144":0,"145":0,"146":0,"147":0,"148":0,"150":0,"151":0,"153":0,"154":0,"156":0,"157":0,"158":0,"159":0,"160":0,"162":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/manager.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/manager.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":0,"21":0,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":1,"30":0,"31":0,"32":0,"33":1,"34":1,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":1,"43":1,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":1,"51":1,"52":0,"53":1,"54":0,"55":1,"56":1,"57":1,"58":0,"59":1,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":1,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":1,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":1,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":1,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":1,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":1,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":1,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":1,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":1,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":1,"263":0,"264":0,"265":0,"266":1,"267":0},"b":{"1":[1,1],"2":[0,1],"3":[1,0],"4":[0,1],"5":[0,0],"6":[0,0],"7":[1,0],"8":[0,1],"9":[0,0],"10":[0,0],"11":[1,0],"12":[0,1],"13":[0,0],"14":[0,0],"15":[1,0],"16":[0,1],"17":[1,0],"18":[0,1],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":46},"end":{"line":26,"column":63}}},"2":{"name":"(anonymous_2)","line":58,"loc":{"start":{"line":58,"column":36},"end":{"line":58,"column":63}}},"3":{"name":"(anonymous_3)","line":75,"loc":{"start":{"line":75,"column":28},"end":{"line":75,"column":55}}},"4":{"name":"(anonymous_4)","line":91,"loc":{"start":{"line":91,"column":34},"end":{"line":91,"column":57}}},"5":{"name":"(anonymous_5)","line":108,"loc":{"start":{"line":108,"column":33},"end":{"line":108,"column":51}}},"6":{"name":"(anonymous_6)","line":121,"loc":{"start":{"line":121,"column":28},"end":{"line":121,"column":45}}},"7":{"name":"(anonymous_7)","line":137,"loc":{"start":{"line":137,"column":49},"end":{"line":137,"column":76}}},"8":{"name":"execCallbacks","line":153,"loc":{"start":{"line":153,"column":4},"end":{"line":153,"column":31}}},"9":{"name":"(anonymous_9)","line":160,"loc":{"start":{"line":160,"column":42},"end":{"line":160,"column":60}}},"10":{"name":"next","line":165,"loc":{"start":{"line":165,"column":4},"end":{"line":165,"column":19}}},"11":{"name":"(anonymous_11)","line":182,"loc":{"start":{"line":182,"column":58},"end":{"line":182,"column":82}}},"12":{"name":"(anonymous_12)","line":191,"loc":{"start":{"line":191,"column":34},"end":{"line":191,"column":58}}},"13":{"name":"(anonymous_13)","line":193,"loc":{"start":{"line":193,"column":86},"end":{"line":193,"column":112}}},"14":{"name":"(anonymous_14)","line":206,"loc":{"start":{"line":206,"column":15},"end":{"line":206,"column":28}}},"15":{"name":"(anonymous_15)","line":226,"loc":{"start":{"line":226,"column":48},"end":{"line":226,"column":66}}},"16":{"name":"(anonymous_16)","line":240,"loc":{"start":{"line":240,"column":46},"end":{"line":240,"column":77}}},"17":{"name":"(anonymous_17)","line":252,"loc":{"start":{"line":252,"column":44},"end":{"line":252,"column":73}}},"18":{"name":"(anonymous_18)","line":264,"loc":{"start":{"line":264,"column":38},"end":{"line":264,"column":61}}},"19":{"name":"(anonymous_19)","line":279,"loc":{"start":{"line":279,"column":43},"end":{"line":279,"column":81}}},"20":{"name":"(anonymous_20)","line":297,"loc":{"start":{"line":297,"column":31},"end":{"line":297,"column":58}}},"21":{"name":"(anonymous_21)","line":319,"loc":{"start":{"line":319,"column":38},"end":{"line":319,"column":84}}},"22":{"name":"(anonymous_22)","line":329,"loc":{"start":{"line":329,"column":31},"end":{"line":329,"column":58}}},"23":{"name":"get","line":346,"loc":{"start":{"line":346,"column":31},"end":{"line":346,"column":65}}},"24":{"name":"(anonymous_24)","line":349,"loc":{"start":{"line":349,"column":30},"end":{"line":349,"column":43}}},"25":{"name":"(anonymous_25)","line":361,"loc":{"start":{"line":361,"column":48},"end":{"line":361,"column":90}}},"26":{"name":"(anonymous_26)","line":362,"loc":{"start":{"line":362,"column":127},"end":{"line":362,"column":153}}},"27":{"name":"(anonymous_27)","line":372,"loc":{"start":{"line":372,"column":57},"end":{"line":372,"column":96}}},"28":{"name":"(anonymous_28)","line":376,"loc":{"start":{"line":376,"column":41},"end":{"line":376,"column":75}}},"29":{"name":"(anonymous_29)","line":378,"loc":{"start":{"line":378,"column":80},"end":{"line":378,"column":106}}},"30":{"name":"(anonymous_30)","line":386,"loc":{"start":{"line":386,"column":7},"end":{"line":386,"column":20}}},"31":{"name":"(anonymous_31)","line":389,"loc":{"start":{"line":389,"column":39},"end":{"line":389,"column":53}}},"32":{"name":"(anonymous_32)","line":394,"loc":{"start":{"line":394,"column":33},"end":{"line":394,"column":56}}},"33":{"name":"(anonymous_33)","line":414,"loc":{"start":{"line":414,"column":41},"end":{"line":414,"column":73}}},"34":{"name":"(anonymous_34)","line":417,"loc":{"start":{"line":417,"column":30},"end":{"line":417,"column":43}}},"35":{"name":"(anonymous_35)","line":428,"loc":{"start":{"line":428,"column":32},"end":{"line":428,"column":52}}},"36":{"name":"(anonymous_36)","line":437,"loc":{"start":{"line":437,"column":60},"end":{"line":437,"column":88}}},"37":{"name":"(anonymous_37)","line":442,"loc":{"start":{"line":442,"column":36},"end":{"line":442,"column":56}}},"38":{"name":"(anonymous_38)","line":451,"loc":{"start":{"line":451,"column":49},"end":{"line":451,"column":70}}},"39":{"name":"(anonymous_39)","line":471,"loc":{"start":{"line":471,"column":68},"end":{"line":471,"column":94}}},"40":{"name":"(anonymous_40)","line":489,"loc":{"start":{"line":489,"column":44},"end":{"line":489,"column":63}}},"41":{"name":"(anonymous_41)","line":497,"loc":{"start":{"line":497,"column":37},"end":{"line":497,"column":63}}},"42":{"name":"(anonymous_42)","line":505,"loc":{"start":{"line":505,"column":43},"end":{"line":505,"column":62}}},"43":{"name":"(anonymous_43)","line":513,"loc":{"start":{"line":513,"column":30},"end":{"line":513,"column":43}}},"44":{"name":"(anonymous_44)","line":518,"loc":{"start":{"line":518,"column":30},"end":{"line":518,"column":60}}},"45":{"name":"(anonymous_45)","line":523,"loc":{"start":{"line":523,"column":45},"end":{"line":523,"column":68}}},"46":{"name":"(anonymous_46)","line":535,"loc":{"start":{"line":535,"column":39},"end":{"line":535,"column":69}}},"47":{"name":"(anonymous_47)","line":542,"loc":{"start":{"line":542,"column":30},"end":{"line":542,"column":43}}},"48":{"name":"(anonymous_48)","line":547,"loc":{"start":{"line":547,"column":29},"end":{"line":547,"column":59}}},"49":{"name":"(anonymous_49)","line":561,"loc":{"start":{"line":561,"column":42},"end":{"line":561,"column":68}}},"50":{"name":"(anonymous_50)","line":568,"loc":{"start":{"line":568,"column":30},"end":{"line":568,"column":43}}},"51":{"name":"(anonymous_51)","line":573,"loc":{"start":{"line":573,"column":29},"end":{"line":573,"column":59}}},"52":{"name":"(anonymous_52)","line":589,"loc":{"start":{"line":589,"column":38},"end":{"line":589,"column":85}}},"53":{"name":"(anonymous_53)","line":601,"loc":{"start":{"line":601,"column":30},"end":{"line":601,"column":43}}},"54":{"name":"(anonymous_54)","line":606,"loc":{"start":{"line":606,"column":29},"end":{"line":606,"column":59}}},"55":{"name":"(anonymous_55)","line":620,"loc":{"start":{"line":620,"column":46},"end":{"line":620,"column":64}}},"56":{"name":"(anonymous_56)","line":623,"loc":{"start":{"line":623,"column":30},"end":{"line":623,"column":43}}},"57":{"name":"(anonymous_57)","line":641,"loc":{"start":{"line":641,"column":40},"end":{"line":641,"column":73}}}},"statementMap":{"1":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"2":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":51}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":67}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":63}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":29}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":29}},"9":{"start":{"line":26,"column":0},"end":{"line":128,"column":2}},"10":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"11":{"start":{"line":29,"column":4},"end":{"line":29,"column":28}},"12":{"start":{"line":31,"column":4},"end":{"line":31,"column":28}},"13":{"start":{"line":33,"column":4},"end":{"line":33,"column":29}},"14":{"start":{"line":34,"column":4},"end":{"line":34,"column":31}},"15":{"start":{"line":35,"column":4},"end":{"line":35,"column":37}},"16":{"start":{"line":36,"column":4},"end":{"line":36,"column":39}},"17":{"start":{"line":37,"column":4},"end":{"line":37,"column":35}},"18":{"start":{"line":39,"column":4},"end":{"line":39,"column":29}},"19":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"20":{"start":{"line":41,"column":8},"end":{"line":41,"column":73}},"21":{"start":{"line":42,"column":8},"end":{"line":42,"column":74}},"22":{"start":{"line":43,"column":8},"end":{"line":43,"column":72}},"23":{"start":{"line":46,"column":4},"end":{"line":46,"column":31}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":34}},"25":{"start":{"line":50,"column":4},"end":{"line":52,"column":5}},"26":{"start":{"line":51,"column":8},"end":{"line":51,"column":37}},"27":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"28":{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},"29":{"start":{"line":58,"column":4},"end":{"line":64,"column":7}},"30":{"start":{"line":59,"column":8},"end":{"line":61,"column":9}},"31":{"start":{"line":60,"column":12},"end":{"line":60,"column":75}},"32":{"start":{"line":63,"column":8},"end":{"line":63,"column":84}},"33":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"34":{"start":{"line":68,"column":8},"end":{"line":68,"column":29}},"35":{"start":{"line":71,"column":4},"end":{"line":73,"column":5}},"36":{"start":{"line":72,"column":8},"end":{"line":72,"column":44}},"37":{"start":{"line":75,"column":4},"end":{"line":81,"column":7}},"38":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"39":{"start":{"line":77,"column":12},"end":{"line":77,"column":65}},"40":{"start":{"line":80,"column":8},"end":{"line":80,"column":74}},"41":{"start":{"line":83,"column":4},"end":{"line":85,"column":5}},"42":{"start":{"line":84,"column":8},"end":{"line":84,"column":35}},"43":{"start":{"line":87,"column":4},"end":{"line":89,"column":5}},"44":{"start":{"line":88,"column":8},"end":{"line":88,"column":56}},"45":{"start":{"line":91,"column":4},"end":{"line":97,"column":7}},"46":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"47":{"start":{"line":93,"column":12},"end":{"line":93,"column":71}},"48":{"start":{"line":96,"column":8},"end":{"line":96,"column":72}},"49":{"start":{"line":100,"column":4},"end":{"line":102,"column":5}},"50":{"start":{"line":101,"column":8},"end":{"line":101,"column":34}},"51":{"start":{"line":104,"column":4},"end":{"line":106,"column":5}},"52":{"start":{"line":105,"column":8},"end":{"line":105,"column":54}},"53":{"start":{"line":108,"column":4},"end":{"line":110,"column":7}},"54":{"start":{"line":109,"column":8},"end":{"line":109,"column":39}},"55":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"56":{"start":{"line":114,"column":8},"end":{"line":114,"column":29}},"57":{"start":{"line":117,"column":4},"end":{"line":119,"column":5}},"58":{"start":{"line":118,"column":8},"end":{"line":118,"column":44}},"59":{"start":{"line":121,"column":4},"end":{"line":127,"column":7}},"60":{"start":{"line":122,"column":8},"end":{"line":124,"column":9}},"61":{"start":{"line":123,"column":12},"end":{"line":123,"column":62}},"62":{"start":{"line":126,"column":8},"end":{"line":126,"column":51}},"63":{"start":{"line":137,"column":0},"end":{"line":218,"column":2}},"64":{"start":{"line":138,"column":4},"end":{"line":138,"column":20}},"65":{"start":{"line":140,"column":4},"end":{"line":140,"column":37}},"66":{"start":{"line":141,"column":4},"end":{"line":141,"column":30}},"67":{"start":{"line":143,"column":4},"end":{"line":143,"column":58}},"68":{"start":{"line":145,"column":4},"end":{"line":147,"column":5}},"69":{"start":{"line":146,"column":8},"end":{"line":146,"column":15}},"70":{"start":{"line":153,"column":4},"end":{"line":163,"column":5}},"71":{"start":{"line":154,"column":8},"end":{"line":154,"column":43}},"72":{"start":{"line":156,"column":8},"end":{"line":156,"column":40}},"73":{"start":{"line":157,"column":8},"end":{"line":157,"column":33}},"74":{"start":{"line":158,"column":8},"end":{"line":158,"column":35}},"75":{"start":{"line":160,"column":8},"end":{"line":162,"column":11}},"76":{"start":{"line":161,"column":12},"end":{"line":161,"column":26}},"77":{"start":{"line":165,"column":4},"end":{"line":216,"column":5}},"78":{"start":{"line":166,"column":8},"end":{"line":166,"column":34}},"79":{"start":{"line":168,"column":8},"end":{"line":170,"column":9}},"80":{"start":{"line":169,"column":12},"end":{"line":169,"column":35}},"81":{"start":{"line":172,"column":8},"end":{"line":172,"column":68}},"82":{"start":{"line":174,"column":8},"end":{"line":179,"column":9}},"83":{"start":{"line":177,"column":12},"end":{"line":177,"column":81}},"84":{"start":{"line":178,"column":12},"end":{"line":178,"column":26}},"85":{"start":{"line":182,"column":8},"end":{"line":214,"column":11}},"86":{"start":{"line":184,"column":12},"end":{"line":187,"column":13}},"87":{"start":{"line":185,"column":16},"end":{"line":185,"column":35}},"88":{"start":{"line":186,"column":16},"end":{"line":186,"column":23}},"89":{"start":{"line":189,"column":12},"end":{"line":189,"column":81}},"90":{"start":{"line":191,"column":12},"end":{"line":212,"column":15}},"91":{"start":{"line":193,"column":16},"end":{"line":204,"column":19}},"92":{"start":{"line":194,"column":20},"end":{"line":196,"column":21}},"93":{"start":{"line":195,"column":24},"end":{"line":195,"column":41}},"94":{"start":{"line":198,"column":20},"end":{"line":200,"column":21}},"95":{"start":{"line":199,"column":24},"end":{"line":199,"column":82}},"96":{"start":{"line":202,"column":20},"end":{"line":202,"column":81}},"97":{"start":{"line":203,"column":20},"end":{"line":203,"column":27}},"98":{"start":{"line":207,"column":16},"end":{"line":209,"column":17}},"99":{"start":{"line":208,"column":20},"end":{"line":208,"column":46}},"100":{"start":{"line":211,"column":16},"end":{"line":211,"column":23}},"101":{"start":{"line":226,"column":0},"end":{"line":232,"column":2}},"102":{"start":{"line":227,"column":4},"end":{"line":229,"column":5}},"103":{"start":{"line":228,"column":8},"end":{"line":228,"column":51}},"104":{"start":{"line":231,"column":4},"end":{"line":231,"column":45}},"105":{"start":{"line":240,"column":0},"end":{"line":244,"column":2}},"106":{"start":{"line":241,"column":4},"end":{"line":241,"column":79}},"107":{"start":{"line":242,"column":4},"end":{"line":242,"column":128}},"108":{"start":{"line":243,"column":4},"end":{"line":243,"column":125}},"109":{"start":{"line":252,"column":0},"end":{"line":256,"column":2}},"110":{"start":{"line":253,"column":4},"end":{"line":253,"column":79}},"111":{"start":{"line":254,"column":4},"end":{"line":254,"column":128}},"112":{"start":{"line":255,"column":4},"end":{"line":255,"column":125}},"113":{"start":{"line":264,"column":0},"end":{"line":268,"column":2}},"114":{"start":{"line":265,"column":4},"end":{"line":265,"column":42}},"115":{"start":{"line":266,"column":4},"end":{"line":266,"column":128}},"116":{"start":{"line":267,"column":4},"end":{"line":267,"column":125}},"117":{"start":{"line":279,"column":0},"end":{"line":307,"column":2}},"118":{"start":{"line":280,"column":4},"end":{"line":280,"column":20}},"119":{"start":{"line":281,"column":4},"end":{"line":281,"column":27}},"120":{"start":{"line":283,"column":4},"end":{"line":285,"column":5}},"121":{"start":{"line":284,"column":8},"end":{"line":284,"column":69}},"122":{"start":{"line":287,"column":4},"end":{"line":293,"column":5}},"123":{"start":{"line":288,"column":8},"end":{"line":292,"column":21}},"124":{"start":{"line":289,"column":12},"end":{"line":289,"column":71}},"125":{"start":{"line":290,"column":12},"end":{"line":290,"column":73}},"126":{"start":{"line":291,"column":12},"end":{"line":291,"column":71}},"127":{"start":{"line":295,"column":4},"end":{"line":295,"column":77}},"128":{"start":{"line":297,"column":4},"end":{"line":306,"column":7}},"129":{"start":{"line":299,"column":8},"end":{"line":303,"column":9}},"130":{"start":{"line":300,"column":12},"end":{"line":300,"column":75}},"131":{"start":{"line":301,"column":15},"end":{"line":303,"column":9}},"132":{"start":{"line":302,"column":12},"end":{"line":302,"column":176}},"133":{"start":{"line":305,"column":8},"end":{"line":305,"column":54}},"134":{"start":{"line":319,"column":0},"end":{"line":339,"column":2}},"135":{"start":{"line":320,"column":4},"end":{"line":320,"column":20}},"136":{"start":{"line":321,"column":4},"end":{"line":321,"column":27}},"137":{"start":{"line":323,"column":4},"end":{"line":325,"column":5}},"138":{"start":{"line":324,"column":8},"end":{"line":324,"column":71}},"139":{"start":{"line":327,"column":4},"end":{"line":327,"column":85}},"140":{"start":{"line":329,"column":4},"end":{"line":338,"column":7}},"141":{"start":{"line":331,"column":8},"end":{"line":335,"column":9}},"142":{"start":{"line":332,"column":12},"end":{"line":332,"column":75}},"143":{"start":{"line":333,"column":15},"end":{"line":335,"column":9}},"144":{"start":{"line":334,"column":12},"end":{"line":334,"column":176}},"145":{"start":{"line":337,"column":8},"end":{"line":337,"column":54}},"146":{"start":{"line":346,"column":0},"end":{"line":354,"column":2}},"147":{"start":{"line":347,"column":4},"end":{"line":347,"column":20}},"148":{"start":{"line":349,"column":4},"end":{"line":353,"column":7}},"149":{"start":{"line":350,"column":8},"end":{"line":352,"column":9}},"150":{"start":{"line":351,"column":12},"end":{"line":351,"column":57}},"151":{"start":{"line":361,"column":0},"end":{"line":365,"column":2}},"152":{"start":{"line":362,"column":4},"end":{"line":364,"column":7}},"153":{"start":{"line":363,"column":8},"end":{"line":363,"column":35}},"154":{"start":{"line":372,"column":0},"end":{"line":403,"column":2}},"155":{"start":{"line":373,"column":4},"end":{"line":373,"column":20}},"156":{"start":{"line":374,"column":4},"end":{"line":374,"column":23}},"157":{"start":{"line":376,"column":4},"end":{"line":402,"column":7}},"158":{"start":{"line":378,"column":8},"end":{"line":384,"column":11}},"159":{"start":{"line":379,"column":12},"end":{"line":381,"column":13}},"160":{"start":{"line":380,"column":16},"end":{"line":380,"column":26}},"161":{"start":{"line":382,"column":12},"end":{"line":382,"column":60}},"162":{"start":{"line":383,"column":12},"end":{"line":383,"column":19}},"163":{"start":{"line":387,"column":8},"end":{"line":387,"column":25}},"164":{"start":{"line":389,"column":8},"end":{"line":399,"column":11}},"165":{"start":{"line":390,"column":12},"end":{"line":390,"column":46}},"166":{"start":{"line":392,"column":12},"end":{"line":392,"column":97}},"167":{"start":{"line":394,"column":12},"end":{"line":396,"column":15}},"168":{"start":{"line":395,"column":16},"end":{"line":395,"column":90}},"169":{"start":{"line":398,"column":12},"end":{"line":398,"column":38}},"170":{"start":{"line":401,"column":8},"end":{"line":401,"column":31}},"171":{"start":{"line":414,"column":0},"end":{"line":484,"column":2}},"172":{"start":{"line":415,"column":4},"end":{"line":415,"column":20}},"173":{"start":{"line":417,"column":4},"end":{"line":483,"column":7}},"174":{"start":{"line":418,"column":8},"end":{"line":420,"column":9}},"175":{"start":{"line":419,"column":12},"end":{"line":419,"column":33}},"176":{"start":{"line":422,"column":8},"end":{"line":425,"column":9}},"177":{"start":{"line":423,"column":12},"end":{"line":424,"column":81}},"178":{"start":{"line":427,"column":8},"end":{"line":458,"column":9}},"179":{"start":{"line":428,"column":12},"end":{"line":432,"column":15}},"180":{"start":{"line":429,"column":16},"end":{"line":431,"column":17}},"181":{"start":{"line":430,"column":20},"end":{"line":430,"column":55}},"182":{"start":{"line":433,"column":12},"end":{"line":435,"column":13}},"183":{"start":{"line":434,"column":16},"end":{"line":434,"column":37}},"184":{"start":{"line":437,"column":12},"end":{"line":455,"column":15}},"185":{"start":{"line":438,"column":16},"end":{"line":440,"column":17}},"186":{"start":{"line":439,"column":20},"end":{"line":439,"column":41}},"187":{"start":{"line":442,"column":16},"end":{"line":446,"column":19}},"188":{"start":{"line":443,"column":20},"end":{"line":445,"column":21}},"189":{"start":{"line":444,"column":24},"end":{"line":444,"column":59}},"190":{"start":{"line":447,"column":16},"end":{"line":449,"column":17}},"191":{"start":{"line":448,"column":20},"end":{"line":448,"column":41}},"192":{"start":{"line":451,"column":16},"end":{"line":454,"column":20}},"193":{"start":{"line":452,"column":20},"end":{"line":452,"column":81}},"194":{"start":{"line":453,"column":20},"end":{"line":453,"column":53}},"195":{"start":{"line":457,"column":12},"end":{"line":457,"column":19}},"196":{"start":{"line":460,"column":8},"end":{"line":465,"column":9}},"197":{"start":{"line":461,"column":12},"end":{"line":464,"column":14}},"198":{"start":{"line":467,"column":8},"end":{"line":469,"column":9}},"199":{"start":{"line":468,"column":12},"end":{"line":468,"column":58}},"200":{"start":{"line":471,"column":8},"end":{"line":482,"column":11}},"201":{"start":{"line":472,"column":12},"end":{"line":474,"column":13}},"202":{"start":{"line":473,"column":16},"end":{"line":473,"column":37}},"203":{"start":{"line":476,"column":12},"end":{"line":478,"column":13}},"204":{"start":{"line":477,"column":16},"end":{"line":477,"column":62}},"205":{"start":{"line":480,"column":12},"end":{"line":480,"column":61}},"206":{"start":{"line":481,"column":12},"end":{"line":481,"column":54}},"207":{"start":{"line":489,"column":0},"end":{"line":500,"column":2}},"208":{"start":{"line":490,"column":4},"end":{"line":490,"column":20}},"209":{"start":{"line":491,"column":4},"end":{"line":491,"column":56}},"210":{"start":{"line":493,"column":4},"end":{"line":495,"column":5}},"211":{"start":{"line":494,"column":8},"end":{"line":494,"column":15}},"212":{"start":{"line":497,"column":4},"end":{"line":499,"column":8}},"213":{"start":{"line":498,"column":8},"end":{"line":498,"column":51}},"214":{"start":{"line":505,"column":0},"end":{"line":528,"column":2}},"215":{"start":{"line":506,"column":4},"end":{"line":506,"column":20}},"216":{"start":{"line":508,"column":4},"end":{"line":510,"column":5}},"217":{"start":{"line":509,"column":8},"end":{"line":509,"column":15}},"218":{"start":{"line":513,"column":4},"end":{"line":527,"column":7}},"219":{"start":{"line":514,"column":8},"end":{"line":516,"column":9}},"220":{"start":{"line":515,"column":12},"end":{"line":515,"column":33}},"221":{"start":{"line":518,"column":8},"end":{"line":526,"column":11}},"222":{"start":{"line":519,"column":12},"end":{"line":521,"column":13}},"223":{"start":{"line":520,"column":16},"end":{"line":520,"column":37}},"224":{"start":{"line":523,"column":12},"end":{"line":525,"column":16}},"225":{"start":{"line":524,"column":16},"end":{"line":524,"column":49}},"226":{"start":{"line":535,"column":0},"end":{"line":555,"column":2}},"227":{"start":{"line":536,"column":4},"end":{"line":536,"column":20}},"228":{"start":{"line":538,"column":4},"end":{"line":540,"column":5}},"229":{"start":{"line":539,"column":8},"end":{"line":539,"column":15}},"230":{"start":{"line":542,"column":4},"end":{"line":554,"column":7}},"231":{"start":{"line":543,"column":8},"end":{"line":545,"column":9}},"232":{"start":{"line":544,"column":12},"end":{"line":544,"column":33}},"233":{"start":{"line":547,"column":8},"end":{"line":553,"column":11}},"234":{"start":{"line":548,"column":12},"end":{"line":550,"column":13}},"235":{"start":{"line":549,"column":16},"end":{"line":549,"column":37}},"236":{"start":{"line":552,"column":12},"end":{"line":552,"column":71}},"237":{"start":{"line":561,"column":0},"end":{"line":581,"column":2}},"238":{"start":{"line":562,"column":4},"end":{"line":562,"column":20}},"239":{"start":{"line":564,"column":4},"end":{"line":566,"column":5}},"240":{"start":{"line":565,"column":8},"end":{"line":565,"column":15}},"241":{"start":{"line":568,"column":4},"end":{"line":580,"column":7}},"242":{"start":{"line":569,"column":8},"end":{"line":571,"column":9}},"243":{"start":{"line":570,"column":12},"end":{"line":570,"column":33}},"244":{"start":{"line":573,"column":8},"end":{"line":579,"column":11}},"245":{"start":{"line":574,"column":12},"end":{"line":576,"column":13}},"246":{"start":{"line":575,"column":16},"end":{"line":575,"column":37}},"247":{"start":{"line":578,"column":12},"end":{"line":578,"column":70}},"248":{"start":{"line":589,"column":0},"end":{"line":614,"column":2}},"249":{"start":{"line":590,"column":4},"end":{"line":590,"column":20}},"250":{"start":{"line":592,"column":4},"end":{"line":595,"column":5}},"251":{"start":{"line":593,"column":8},"end":{"line":593,"column":33}},"252":{"start":{"line":594,"column":8},"end":{"line":594,"column":29}},"253":{"start":{"line":597,"column":4},"end":{"line":599,"column":5}},"254":{"start":{"line":598,"column":8},"end":{"line":598,"column":15}},"255":{"start":{"line":601,"column":4},"end":{"line":613,"column":7}},"256":{"start":{"line":602,"column":8},"end":{"line":604,"column":9}},"257":{"start":{"line":603,"column":12},"end":{"line":603,"column":33}},"258":{"start":{"line":606,"column":8},"end":{"line":612,"column":11}},"259":{"start":{"line":607,"column":12},"end":{"line":609,"column":13}},"260":{"start":{"line":608,"column":16},"end":{"line":608,"column":37}},"261":{"start":{"line":611,"column":12},"end":{"line":611,"column":87}},"262":{"start":{"line":620,"column":0},"end":{"line":626,"column":2}},"263":{"start":{"line":621,"column":4},"end":{"line":621,"column":20}},"264":{"start":{"line":623,"column":4},"end":{"line":625,"column":7}},"265":{"start":{"line":624,"column":8},"end":{"line":624,"column":61}},"266":{"start":{"line":641,"column":0},"end":{"line":643,"column":2}},"267":{"start":{"line":642,"column":4},"end":{"line":642,"column":61}}},"branchMap":{"1":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":14},"end":{"line":29,"column":21}},{"start":{"line":29,"column":25},"end":{"line":29,"column":27}}]},"2":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]},"3":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":4},"end":{"line":50,"column":4}},{"start":{"line":50,"column":4},"end":{"line":50,"column":4}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"5":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"6":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":11},"end":{"line":59,"column":34}},{"start":{"line":59,"column":38},"end":{"line":59,"column":65}}]},"7":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"8":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":4}},{"start":{"line":71,"column":4},"end":{"line":71,"column":4}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"10":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":11},"end":{"line":76,"column":34}},{"start":{"line":76,"column":38},"end":{"line":76,"column":63}}]},"11":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":4}},{"start":{"line":83,"column":4},"end":{"line":83,"column":4}}]},"12":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"13":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":8}},{"start":{"line":92,"column":8},"end":{"line":92,"column":8}}]},"14":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":11},"end":{"line":92,"column":30}},{"start":{"line":92,"column":34},"end":{"line":92,"column":55}}]},"15":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"16":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]},"17":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"18":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"19":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":8}},{"start":{"line":122,"column":8},"end":{"line":122,"column":8}}]},"20":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":11},"end":{"line":122,"column":24}},{"start":{"line":122,"column":28},"end":{"line":122,"column":40}}]},"21":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":4},"end":{"line":145,"column":4}},{"start":{"line":145,"column":4},"end":{"line":145,"column":4}}]},"22":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":8},"end":{"line":168,"column":8}},{"start":{"line":168,"column":8},"end":{"line":168,"column":8}}]},"23":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":8},"end":{"line":174,"column":8}},{"start":{"line":174,"column":8},"end":{"line":174,"column":8}}]},"24":{"line":174,"type":"binary-expr","locations":[{"start":{"line":174,"column":11},"end":{"line":174,"column":59}},{"start":{"line":175,"column":16},"end":{"line":175,"column":34}}]},"25":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":12}},{"start":{"line":184,"column":12},"end":{"line":184,"column":12}}]},"26":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":20},"end":{"line":194,"column":20}},{"start":{"line":194,"column":20},"end":{"line":194,"column":20}}]},"27":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":20},"end":{"line":198,"column":20}},{"start":{"line":198,"column":20},"end":{"line":198,"column":20}}]},"28":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":16},"end":{"line":207,"column":16}},{"start":{"line":207,"column":16},"end":{"line":207,"column":16}}]},"29":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":4}},{"start":{"line":227,"column":4},"end":{"line":227,"column":4}}]},"30":{"line":242,"type":"binary-expr","locations":[{"start":{"line":242,"column":53},"end":{"line":242,"column":77}},{"start":{"line":242,"column":81},"end":{"line":242,"column":127}}]},"31":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":52},"end":{"line":243,"column":75}},{"start":{"line":243,"column":79},"end":{"line":243,"column":124}}]},"32":{"line":254,"type":"binary-expr","locations":[{"start":{"line":254,"column":53},"end":{"line":254,"column":77}},{"start":{"line":254,"column":81},"end":{"line":254,"column":127}}]},"33":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":52},"end":{"line":255,"column":75}},{"start":{"line":255,"column":79},"end":{"line":255,"column":124}}]},"34":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":53},"end":{"line":266,"column":77}},{"start":{"line":266,"column":81},"end":{"line":266,"column":127}}]},"35":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":52},"end":{"line":267,"column":75}},{"start":{"line":267,"column":79},"end":{"line":267,"column":124}}]},"36":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":4},"end":{"line":283,"column":4}},{"start":{"line":283,"column":4},"end":{"line":283,"column":4}}]},"37":{"line":287,"type":"if","locations":[{"start":{"line":287,"column":4},"end":{"line":287,"column":4}},{"start":{"line":287,"column":4},"end":{"line":287,"column":4}}]},"38":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":8},"end":{"line":299,"column":8}},{"start":{"line":299,"column":8},"end":{"line":299,"column":8}}]},"39":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":15},"end":{"line":301,"column":15}},{"start":{"line":301,"column":15},"end":{"line":301,"column":15}}]},"40":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":4},"end":{"line":323,"column":4}},{"start":{"line":323,"column":4},"end":{"line":323,"column":4}}]},"41":{"line":331,"type":"if","locations":[{"start":{"line":331,"column":8},"end":{"line":331,"column":8}},{"start":{"line":331,"column":8},"end":{"line":331,"column":8}}]},"42":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":15},"end":{"line":333,"column":15}},{"start":{"line":333,"column":15},"end":{"line":333,"column":15}}]},"43":{"line":350,"type":"if","locations":[{"start":{"line":350,"column":8},"end":{"line":350,"column":8}},{"start":{"line":350,"column":8},"end":{"line":350,"column":8}}]},"44":{"line":379,"type":"if","locations":[{"start":{"line":379,"column":12},"end":{"line":379,"column":12}},{"start":{"line":379,"column":12},"end":{"line":379,"column":12}}]},"45":{"line":418,"type":"if","locations":[{"start":{"line":418,"column":8},"end":{"line":418,"column":8}},{"start":{"line":418,"column":8},"end":{"line":418,"column":8}}]},"46":{"line":422,"type":"if","locations":[{"start":{"line":422,"column":8},"end":{"line":422,"column":8}},{"start":{"line":422,"column":8},"end":{"line":422,"column":8}}]},"47":{"line":422,"type":"binary-expr","locations":[{"start":{"line":422,"column":12},"end":{"line":422,"column":43}},{"start":{"line":422,"column":47},"end":{"line":422,"column":97}}]},"48":{"line":427,"type":"if","locations":[{"start":{"line":427,"column":8},"end":{"line":427,"column":8}},{"start":{"line":427,"column":8},"end":{"line":427,"column":8}}]},"49":{"line":429,"type":"if","locations":[{"start":{"line":429,"column":16},"end":{"line":429,"column":16}},{"start":{"line":429,"column":16},"end":{"line":429,"column":16}}]},"50":{"line":433,"type":"if","locations":[{"start":{"line":433,"column":12},"end":{"line":433,"column":12}},{"start":{"line":433,"column":12},"end":{"line":433,"column":12}}]},"51":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":16},"end":{"line":438,"column":16}},{"start":{"line":438,"column":16},"end":{"line":438,"column":16}}]},"52":{"line":443,"type":"if","locations":[{"start":{"line":443,"column":20},"end":{"line":443,"column":20}},{"start":{"line":443,"column":20},"end":{"line":443,"column":20}}]},"53":{"line":447,"type":"if","locations":[{"start":{"line":447,"column":16},"end":{"line":447,"column":16}},{"start":{"line":447,"column":16},"end":{"line":447,"column":16}}]},"54":{"line":460,"type":"if","locations":[{"start":{"line":460,"column":8},"end":{"line":460,"column":8}},{"start":{"line":460,"column":8},"end":{"line":460,"column":8}}]},"55":{"line":467,"type":"if","locations":[{"start":{"line":467,"column":8},"end":{"line":467,"column":8}},{"start":{"line":467,"column":8},"end":{"line":467,"column":8}}]},"56":{"line":472,"type":"if","locations":[{"start":{"line":472,"column":12},"end":{"line":472,"column":12}},{"start":{"line":472,"column":12},"end":{"line":472,"column":12}}]},"57":{"line":476,"type":"if","locations":[{"start":{"line":476,"column":12},"end":{"line":476,"column":12}},{"start":{"line":476,"column":12},"end":{"line":476,"column":12}}]},"58":{"line":493,"type":"if","locations":[{"start":{"line":493,"column":4},"end":{"line":493,"column":4}},{"start":{"line":493,"column":4},"end":{"line":493,"column":4}}]},"59":{"line":508,"type":"if","locations":[{"start":{"line":508,"column":4},"end":{"line":508,"column":4}},{"start":{"line":508,"column":4},"end":{"line":508,"column":4}}]},"60":{"line":514,"type":"if","locations":[{"start":{"line":514,"column":8},"end":{"line":514,"column":8}},{"start":{"line":514,"column":8},"end":{"line":514,"column":8}}]},"61":{"line":519,"type":"if","locations":[{"start":{"line":519,"column":12},"end":{"line":519,"column":12}},{"start":{"line":519,"column":12},"end":{"line":519,"column":12}}]},"62":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":4},"end":{"line":538,"column":4}},{"start":{"line":538,"column":4},"end":{"line":538,"column":4}}]},"63":{"line":543,"type":"if","locations":[{"start":{"line":543,"column":8},"end":{"line":543,"column":8}},{"start":{"line":543,"column":8},"end":{"line":543,"column":8}}]},"64":{"line":548,"type":"if","locations":[{"start":{"line":548,"column":12},"end":{"line":548,"column":12}},{"start":{"line":548,"column":12},"end":{"line":548,"column":12}}]},"65":{"line":564,"type":"if","locations":[{"start":{"line":564,"column":4},"end":{"line":564,"column":4}},{"start":{"line":564,"column":4},"end":{"line":564,"column":4}}]},"66":{"line":569,"type":"if","locations":[{"start":{"line":569,"column":8},"end":{"line":569,"column":8}},{"start":{"line":569,"column":8},"end":{"line":569,"column":8}}]},"67":{"line":574,"type":"if","locations":[{"start":{"line":574,"column":12},"end":{"line":574,"column":12}},{"start":{"line":574,"column":12},"end":{"line":574,"column":12}}]},"68":{"line":592,"type":"if","locations":[{"start":{"line":592,"column":4},"end":{"line":592,"column":4}},{"start":{"line":592,"column":4},"end":{"line":592,"column":4}}]},"69":{"line":597,"type":"if","locations":[{"start":{"line":597,"column":4},"end":{"line":597,"column":4}},{"start":{"line":597,"column":4},"end":{"line":597,"column":4}}]},"70":{"line":602,"type":"if","locations":[{"start":{"line":602,"column":8},"end":{"line":602,"column":8}},{"start":{"line":602,"column":8},"end":{"line":602,"column":8}}]},"71":{"line":607,"type":"if","locations":[{"start":{"line":607,"column":12},"end":{"line":607,"column":12}},{"start":{"line":607,"column":12},"end":{"line":607,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," * Author: Cyril Schmitt <cschmitt@e2ebridge.com>"," */","\"use strict\";","","var async = require('async');","var util = require('util');","","var definitions = require('./parsing/definitions');","var handlers = require('./handler');","var Persistency = require('./persistency/persistency').Persistency;","var createBPMNProcess = require('./process').createBPMNProcess;","var find = require('./find');","var rest = require('./rest');","","/**"," * @param {{"," *      bpmnFilePath: String|Array.<String>=,"," *      handlerFilePath: {name: String, filePath: String}|Array.<{name: String, filePath: String}>=,"," *      handler: {name: String, module: Object}|Array.<{name: String, module: Object}>=,"," *      persistencyOptions: {uri: String, doneLoading: Function, doneSaving: Function}="," *  }} options"," * @constructor"," */","var ProcessManager = exports.ProcessManager = function(options){","    var self = this;","","    options = options || {};","","    self._processCache = {};","","    self._initialized = true;","    self._initialising = false;","    self._initializationError = null;","    self._definitionsToInitialize = [];","    self._initialiseCallbacks = [];","","    self._persistency = null;","    if (options.persistencyOptions) {","        self._persistency =  new Persistency(options.persistencyOptions);","        self._doneLoadingHandler = options.persistencyOptions.doneLoading;","        self._doneSavingHandler = options.persistencyOptions.doneSaving;","    }","","    self._processHandlers = {};","    self._processDefinitions = {};","","","    if(!options.handlerFilePath){","        options.handlerFilePath = [];","    }","","    if(!util.isArray(options.handlerFilePath)){","        options.handlerFilePath = [options.handlerFilePath];","    }","","    options.handlerFilePath.forEach(function(handlerDescriptor){","        if(!handlerDescriptor.name || !handlerDescriptor.filePath){","            throw new Error(\"handlerFilePath needs a name and a filePath\");","        }","","        self.addHandlerFilePath(handlerDescriptor.name, handlerDescriptor.filePath);","    });","","","    if(!options.handler){","        options.handler = [];","    }","","    if(!util.isArray(options.handler)){","        options.handler = [options.handler];","    }","","    options.handler.forEach(function(handlerDescriptor){","        if(!handlerDescriptor.name || !handlerDescriptor.module){","            throw new Error(\"handler needs a name and a module\");","        }","","        self.addHandler(handlerDescriptor.name, handlerDescriptor.module);","    });","","    if(!options.handlerString){","        options.handlerString = [];","    }","","    if(!util.isArray(options.handlerString)){","        options.handlerString = [options.handlerString];","    }","","    options.handlerString.forEach(function(handlerString){","        if(!handlerString.name || !handlerString.string){","            throw new Error(\"handlerString needs a name and a string\");","        }","","        self.addHandlerString(handlerString.name, handlerString.string);","    });","","","    if(!options.bpmnFilePath){","        options.bpmnFilePath = [];","    }","","    if(!util.isArray(options.bpmnFilePath)){","        options.bpmnFilePath = [options.bpmnFilePath];","    }","","    options.bpmnFilePath.forEach(function(filePath){","        self.addBpmnFilePath(filePath);","    });","","","    if(!options.bpmnXML){","        options.bpmnXML = [];","    }","","    if(!util.isArray(options.bpmnXML)){","        options.bpmnXML = [options.bpmnXML];","    }","","    options.bpmnXML.forEach(function(bpmnXML){","        if(!bpmnXML.name || !bpmnXML.xml){","            throw new Error(\"bpmnXML needs a name and a xml\");","        }","","        self.addBpmnXML(bpmnXML.xml, bpmnXML.name);","    });","};","","/**"," * Initialise a new definition by loading all persisted process."," * All other function that need the initialise state will wait until initialization is done."," *"," * @param {BPMNProcessDefinition} processDefinition"," * @private"," */","ProcessManager.prototype._initialiseDefinition = function(processDefinition){","    var self = this;","","    self._initializationError = null;","    self._initialized = false;","","    self._definitionsToInitialize.push(processDefinition);","","    if(!self._initialising){    // if already initialising we don't call next, the definition will be initialised after current one.","        next();","    }","","    /**","     * Called after all initializations are done.","     * @param err","     */","    function execCallbacks(err){","        self._definitionsToInitialize = [];","","        self._initializationError = err;","        self._initialized = true;","        self._initialising = false;","","        self._initialiseCallbacks.forEach(function(callback){   // call all waiting callbacks","            callback(err);","        });","    }","","    function next(){","        self._initialising = true;","","        if(self._definitionsToInitialize.length === 0){     // if all definitions have been initialized","            return execCallbacks();","        }","","        var currentDefinition = self._definitionsToInitialize.pop();    // get the next definition","","        if(self._processDefinitions[currentDefinition.name] ||      // if the definition already exist it means the processes were already loaded","                !self._persistency){                                // if there is no persistency nothing needs to be loaded","","            self._processDefinitions[currentDefinition.name] = currentDefinition;   // we simply add or replace the definition","            return next();","        }","","","        self._persistency.loadAll(currentDefinition.name, function(err, documents){     // load all saved document","","            if(err){","                execCallbacks(err);","                return;","            }","","            self._processDefinitions[currentDefinition.name] = currentDefinition;","","            async.each(documents, function(document, done){                                                         // for each persisted document found","","                self._createSingleProcess(document.processId, currentDefinition.name, function(err, bpmnProcess){       // create the process","                    if(err){","                        return done(err);","                    }","","                    if(self._processCache[bpmnProcess.getProcessId()]){                  // check if id already used","                        return done(new Error('duplicated id in persisted data'));","                    }","","                    self._processCache[bpmnProcess.getProcessId()] = bpmnProcess;","                    done();","                });","","            }, function(err){","                if(err){","                    return execCallbacks(err);","                }","","                next();","            });","","        });","","    }","","};","","/**"," * The callback will be called after initialized"," *"," * @param callback"," * @private"," */","ProcessManager.prototype._afterInitialization = function(callback){","    if(this._initialized){","        return callback(this._initializationError);","    }","","    this._initialiseCallbacks.push(callback);","};","","/**"," * Change the process handler using a file."," *"," * @param {String} name Name of the process"," * @param {String} handlerFilePath"," */","ProcessManager.prototype.addHandlerFilePath = function(name, handlerFilePath){","    this._processHandlers[name] = handlers.getHandlerFromFile(handlerFilePath);","    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;","    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;","};","","/**"," * Change the process handler using a string."," *"," * @param {String} name Name of the process"," * @param {String} handlerString"," */","ProcessManager.prototype.addHandlerString = function(name, handlerString){","    this._processHandlers[name] = handlers.getHandlerFromString(handlerString);","    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;","    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;","};","","/**"," * Change the process handler using an object."," *"," * @param {String} name Name of the process."," * @param {String} handler"," */","ProcessManager.prototype.addHandler = function(name, handler){","    this._processHandlers[name] = handler;","    this._processHandlers[name].doneLoadingHandler = this._doneLoadingHandler || this._processHandlers[name].doneLoadingHandler;","    this._processHandlers[name].doneSavingHandler = this._doneSavingHandler || this._processHandlers[name].doneSavingHandler;","};","","/**"," * Add a bpmn file to the manager."," * All process definition found in this file will be initialized and replace the old ones if exists."," * A process handler object or file path can be passed. If none passed the same file path as the bpmn is used or the existing handler."," * An error is thrown if no handler is found."," *"," * @param {String} bpmnFilePath"," * @param {Object|String} processHandler"," */","ProcessManager.prototype.addBpmnFilePath = function(bpmnFilePath, processHandler){","    var self = this;","    var processDefinitions;","","    if(typeof processHandler === 'string'){","        processHandler = handlers.getHandlerFromFile(processHandler);","    }","","    if(!processHandler){","        try{","            processHandler = handlers.getHandlerFromFile(bpmnFilePath);","            processHandler.doneLoadingHandler = self._doneLoadingHandler;","            processHandler.doneSavingHandler = self._doneSavingHandler;","        }catch(err){}","    }","","    processDefinitions = definitions.getBPMNProcessDefinitions(bpmnFilePath);","","    processDefinitions.forEach(function(processDefinition){","","        if(processHandler) {","            self._processHandlers[processDefinition.name] = processHandler;","        } else if(!self._processHandlers[processDefinition.name]){","            throw new Error('No process handler defined for process \"'+processDefinition.name+'\". The process handler must be defined before the process or with the process.');","        }","","        self._initialiseDefinition(processDefinition);","    });","};","","/**"," * Add a bpmn XML to the manager."," * All process definition found in this file will be initialized and replace the old ones if exists."," * A process handler object or file path can be passed. If none passed the same file path as the bpmn is used or the existing handler."," * An error is thrown if no handler is found."," *"," * @param {String} bpmnXml"," * @param {String=} processName"," * @param {Object|String=} processHandler"," */","ProcessManager.prototype.addBpmnXML = function(bpmnXml, processName, processHandler){","    var self = this;","    var processDefinitions;","","    if(typeof processHandler === 'string'){","        processHandler = handlers.getHandlerFromString(processHandler);","    }","","    processDefinitions = definitions.getBPMNDefinitionsFromXML(bpmnXml, processName);","","    processDefinitions.forEach(function(processDefinition){","","        if(processHandler) {","            self._processHandlers[processDefinition.name] = processHandler;","        } else if(!self._processHandlers[processDefinition.name]){","            throw new Error('No process handler defined for process \"'+processDefinition.name+'\". The process handler must be defined before the process or with the process.');","        }","","        self._initialiseDefinition(processDefinition);","    });","};","","","/**"," * @param {String} processId"," * @param {Function} callback"," */","ProcessManager.prototype.get = function get(processId, callback) {","    var self = this;","","    this._afterInitialization(function(err){","        if(callback){","            callback(err, self._processCache[processId]);","        }","    });","};","","/**"," * @param {String} processId"," * @param {String} processName"," * @param {Function} callback"," */","ProcessManager.prototype._createSingleProcess = function(processId, processName, callback){","    createBPMNProcess(processId, this._processDefinitions[processName], this._processHandlers[processName], this._persistency, function(err, bpmnProcess){","        callback(err, bpmnProcess);","    });","};","","/**"," * @param {Array.<{name: String, id: String}>} processDescriptors"," * @param {Function} callback"," * @return {Array.<BPMNProcessClient>}"," */","ProcessManager.prototype._createCollaboratingProcesses = function(processDescriptors, callback) {","    var self = this;","    var processes = {};","","    async.eachSeries(processDescriptors, function(processDescriptor, done) {","","        self._createSingleProcess(processDescriptor.id, processDescriptor.name, function(err, bpmnProcess){","            if(err){","                done(err);","            }","            processes[processDescriptor.name] = bpmnProcess;","            done();","        });","","    }, function(err){","        var results = [];","","        Object.keys(processes).forEach(function(name){","            var bpmnProcess = processes[name];","","            var participants = bpmnProcess.getProcessDefinition().getCollaboratingParticipants();","","            participants.forEach(function (participant) {","                bpmnProcess.addParticipant(participant.name, processes[participant.name]);","            });","","            results.push(bpmnProcess);","        });","","        callback(err, results);","    });","};","","/**"," * A BPMN process is created using the descriptor name and id, it's state is loaded if it has been persisted."," * A simple id can be passed if there is only one process definition."," * If there are multiple definitions, an array of descriptors can be passed and an array of collaborating BPMN processes is created."," * The processId parameter needs to correspond."," *"," * @param {String|{name: String, id: String}|Array.<{name: String, id: String}>} descriptors"," * @param {Function} callback"," */","ProcessManager.prototype.createProcess = function(descriptors, callback) {","    var self = this;","","    this._afterInitialization(function(err){","        if(err){","            return callback(err);","        }","","        if (typeof descriptors === 'string' && Object.keys(self._processDefinitions).length !== 1) {","            return callback(new Error(\"The manager contains more than one process definition. \" +","                \"processId have to be an Array.<{name: String, id: String}>} \"));","        }","","        if(util.isArray(descriptors)) {","            descriptors.forEach(function(descriptor){             // check if one of the ids is already used","                if(self._processCache[descriptor.id]){","                    err = new Error('id already used');","                }","            });","            if(err){","                return callback(err);","            }","","            self._createCollaboratingProcesses(descriptors, function(err, bpmnProcesses){","                if(err){","                    return callback(err);","                }","","                descriptors.forEach(function(descriptor){             // check if one of the ids is already used","                    if(self._processCache[descriptor.id]){          // again because a process could have been created in between","                        err = new Error('id already used');","                    }","                });","                if(err){","                    return callback(err);","                }","","                callback(null, bpmnProcesses.map(function(bpmnProcess){","                    self._processCache[bpmnProcess.getProcessId()] = bpmnProcess;","                    return bpmnProcess.processClient;","                }));","            });","","            return;","        }","","        if(typeof descriptors === 'string') {","            descriptors = {","                id: descriptors,","                name: Object.keys(self._processDefinitions)[0]","            };","        }","","        if(self._processCache[descriptors.id]){                                        // check if id already used","            return callback(new Error('id already used'));","        }","","        self._createSingleProcess(descriptors.id, descriptors.name, function(err, bpmnProcess){","            if(err){","                return callback(err);","            }","","            if(self._processCache[descriptors.id]){                                      // check if id already used","                return callback(new Error('id already used'));                      // again because a process could have been created in between","            }","","            self._processCache[descriptors.id] = bpmnProcess;","            callback(null, bpmnProcess.processClient);","        });","    });","};","","/**"," * @param {Function} callback"," */","ProcessManager.prototype._getAllProcesses = function(callback) {","    var self = this;","    var allProcessIds = Object.keys(this._processCache);","","    if(!callback){","        return;","    }","","    callback(null, allProcessIds.map(function(loadedProcessId) {","        return self._processCache[loadedProcessId];","    }));","};","","/**"," * @param {Function} callback"," */","ProcessManager.prototype.getAllProcesses = function(callback) {","    var self = this;","","    if(!callback){","        return;","    }","","","    this._afterInitialization(function(err){","        if (err) {","            return callback(err);","        }","","        self._getAllProcesses(function (err, bpmnProcesses) {","            if (err) {","                return callback(err);","            }","","            callback(null, bpmnProcesses.map(function (bpmnProcess) {","                return bpmnProcess.processClient;","            }));","        });","    });","};","","/**"," * Returns all processes where the current task, activity, or event name equals the given state name"," * @param {String} stateName."," * @param {Function} callback"," */","ProcessManager.prototype.findByState = function(stateName, callback) {","    var self = this;","","    if(!callback){","        return;","    }","","    this._afterInitialization(function(err){","        if (err) {","            return callback(err);","        }","","        self.getAllProcesses(function (err, bpmnProcesses) {","            if (err) {","                return callback(err);","            }","","            callback(null, find.findByState(bpmnProcesses, stateName));","        });","    });","};","","/**"," * @param {Object} query The query is an object that is being matched to the data."," * @param {Function} callback"," */","ProcessManager.prototype.findByProperty = function(query, callback) {","    var self = this;","","    if(!callback){","        return;","    }","","    this._afterInitialization(function(err){","        if (err) {","            return callback(err);","        }","","        self.getAllProcesses(function (err, bpmnProcesses) {","            if (err) {","                return callback(err);","            }","","            callback(null, find.findByProperty(bpmnProcesses, query));","        });","    });","};","","","/**"," * @param {String} processName"," * @param {Boolean=} caseSensitive"," * @param {Function} callback"," */","ProcessManager.prototype.findByName = function(processName, caseSensitive, callback) {","    var self = this;","","    if(typeof caseSensitive === 'function'){","        callback = caseSensitive;","        caseSensitive = true;","    }","","    if(!callback){","        return;","    }","","    this._afterInitialization(function(err){","        if (err) {","            return callback(err);","        }","","        self.getAllProcesses(function (err, bpmnProcesses) {","            if (err) {","                return callback(err);","            }","","            callback(null, find.findByName(bpmnProcesses, processName, caseSensitive));","        });","    });","};","","/**"," *"," * @param {Function} callback"," */","ProcessManager.prototype.getDefinitionNames = function(callback){","    var self = this;","","    this._afterInitialization(function(err){","        callback(err, Object.keys(self._processDefinitions));","    });","};","","","/**"," * Creates a REST server based on the restify framework. It takes two parameters, options and restifyOptions."," *      options: optional object having the following optional properties"," *          createProcessId: Function that returns a UUID. Default: node-uuid.v1()"," *          logLevel: used log level. Default: Error. Use logger.logLevels to set."," *      restifyOptions: these options are given to the restify.createServer call."," *                      If not given, the log property is set to the internal winston logger and"," *                      the name property is set to 'bpmnRESTServer'"," * @param {{createProcessId: function, logLevel: logger.logLevels}=} options"," * @param {Object=} restifyOptions"," * @returns {*}"," */","ProcessManager.prototype.createServer = function(options, restifyOptions){","    return rest.createServer(this,  options, restifyOptions);","};"],"l":{"7":1,"8":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"26":1,"27":1,"29":1,"31":1,"33":1,"34":1,"35":1,"36":1,"37":1,"39":1,"40":1,"41":0,"42":0,"43":0,"46":1,"47":1,"50":1,"51":1,"54":1,"55":0,"58":1,"59":0,"60":0,"63":0,"67":1,"68":1,"71":1,"72":0,"75":1,"76":0,"77":0,"80":0,"83":1,"84":1,"87":1,"88":0,"91":1,"92":0,"93":0,"96":0,"100":1,"101":1,"104":1,"105":0,"108":1,"109":0,"113":1,"114":1,"117":1,"118":0,"121":1,"122":0,"123":0,"126":0,"137":1,"138":0,"140":0,"141":0,"143":0,"145":0,"146":0,"153":1,"154":0,"156":0,"157":0,"158":0,"160":0,"161":0,"165":1,"166":0,"168":0,"169":0,"172":0,"174":0,"177":0,"178":0,"182":0,"184":0,"185":0,"186":0,"189":0,"191":0,"193":0,"194":0,"195":0,"198":0,"199":0,"202":0,"203":0,"207":0,"208":0,"211":0,"226":1,"227":0,"228":0,"231":0,"240":1,"241":0,"242":0,"243":0,"252":1,"253":0,"254":0,"255":0,"264":1,"265":0,"266":0,"267":0,"279":1,"280":0,"281":0,"283":0,"284":0,"287":0,"288":0,"289":0,"290":0,"291":0,"295":0,"297":0,"299":0,"300":0,"301":0,"302":0,"305":0,"319":1,"320":0,"321":0,"323":0,"324":0,"327":0,"329":0,"331":0,"332":0,"333":0,"334":0,"337":0,"346":1,"347":0,"349":0,"350":0,"351":0,"361":1,"362":0,"363":0,"372":1,"373":0,"374":0,"376":0,"378":0,"379":0,"380":0,"382":0,"383":0,"387":0,"389":0,"390":0,"392":0,"394":0,"395":0,"398":0,"401":0,"414":1,"415":0,"417":0,"418":0,"419":0,"422":0,"423":0,"427":0,"428":0,"429":0,"430":0,"433":0,"434":0,"437":0,"438":0,"439":0,"442":0,"443":0,"444":0,"447":0,"448":0,"451":0,"452":0,"453":0,"457":0,"460":0,"461":0,"467":0,"468":0,"471":0,"472":0,"473":0,"476":0,"477":0,"480":0,"481":0,"489":1,"490":0,"491":0,"493":0,"494":0,"497":0,"498":0,"505":1,"506":0,"508":0,"509":0,"513":0,"514":0,"515":0,"518":0,"519":0,"520":0,"523":0,"524":0,"535":1,"536":0,"538":0,"539":0,"542":0,"543":0,"544":0,"547":0,"548":0,"549":0,"552":0,"561":1,"562":0,"564":0,"565":0,"568":0,"569":0,"570":0,"573":0,"574":0,"575":0,"578":0,"589":1,"590":0,"592":0,"593":0,"594":0,"597":0,"598":0,"601":0,"602":0,"603":0,"606":0,"607":0,"608":0,"611":0,"620":1,"621":0,"623":0,"624":0,"641":1,"642":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/persistency.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/persistency.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":1,"17":0,"18":1,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":40},"end":{"line":13,"column":58}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":32},"end":{"line":33,"column":63}}},"3":{"name":"(anonymous_3)","line":42,"loc":{"start":{"line":42,"column":29},"end":{"line":42,"column":68}}},"4":{"name":"(anonymous_4)","line":50,"loc":{"start":{"line":50,"column":32},"end":{"line":50,"column":60}}},"5":{"name":"(anonymous_5)","line":57,"loc":{"start":{"line":57,"column":30},"end":{"line":57,"column":45}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":55}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":61}},"3":{"start":{"line":13,"column":0},"end":{"line":27,"column":2}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":21}},"5":{"start":{"line":15,"column":4},"end":{"line":15,"column":43}},"6":{"start":{"line":17,"column":4},"end":{"line":26,"column":5}},"7":{"start":{"line":18,"column":7},"end":{"line":18,"column":54}},"8":{"start":{"line":19,"column":7},"end":{"line":23,"column":8}},"9":{"start":{"line":20,"column":11},"end":{"line":20,"column":70}},"10":{"start":{"line":22,"column":11},"end":{"line":22,"column":58}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":77}},"12":{"start":{"line":33,"column":0},"end":{"line":35,"column":2}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":54}},"14":{"start":{"line":42,"column":0},"end":{"line":44,"column":2}},"15":{"start":{"line":43,"column":4},"end":{"line":43,"column":59}},"16":{"start":{"line":50,"column":0},"end":{"line":52,"column":2}},"17":{"start":{"line":51,"column":4},"end":{"line":51,"column":51}},"18":{"start":{"line":57,"column":0},"end":{"line":59,"column":2}},"19":{"start":{"line":58,"column":4},"end":{"line":58,"column":36}}},"branchMap":{"1":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":24},"end":{"line":15,"column":35}},{"start":{"line":15,"column":38},"end":{"line":15,"column":42}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":7},"end":{"line":19,"column":7}},{"start":{"line":19,"column":7},"end":{"line":19,"column":7}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var FilePersistency = require('./file.js').Persistency;","var MongoDBPersistency = require('./mongodb.js').Persistency;","","/**"," * @param {{uri: String, uri: String}} options"," * @constructor"," */","var Persistency = exports.Persistency = function(options) {","    var isMongoDbUri;","    var uri = options ? options.uri : null;","","    if (uri) {","       isMongoDbUri = uri.indexOf('mongodb://') === 0;","       if (isMongoDbUri) {","           this.implementation = new MongoDBPersistency(uri, options);","       } else {","           this.implementation = new FilePersistency(uri);","       }","    } else {","        throw new Error(\"Persistency options must contain an uri property.\");","    }","};","","/**"," * @param {{processInstanceId: String}} persistentData"," * @param {Function} done"," */","Persistency.prototype.persist = function(persistentData, done) {","    this.implementation.persist(persistentData, done);","};","","/**"," * @param {String} processId"," * @param {String} processName"," * @param done"," */","Persistency.prototype.load = function(processId, processName, done) {","    this.implementation.load(processId, processName, done);","};","","/**"," * @param {String} processName"," * @param done"," */","Persistency.prototype.loadAll = function(processName, done) {","    this.implementation.loadAll(processName, done);","};","","/**"," * @param done"," */","Persistency.prototype.close = function(done) {","    this.implementation.close(done);","};",""],"l":{"6":1,"7":1,"13":1,"14":0,"15":0,"17":0,"18":0,"19":0,"20":0,"22":0,"25":0,"33":1,"34":0,"42":1,"43":0,"50":1,"51":0,"57":1,"58":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/file.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/file.js","s":{"1":1,"2":1,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":40},"end":{"line":12,"column":55}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":32},"end":{"line":21,"column":63}}},"3":{"name":"(anonymous_3)","line":27,"loc":{"start":{"line":27,"column":26},"end":{"line":27,"column":42}}},"4":{"name":"(anonymous_4)","line":31,"loc":{"start":{"line":31,"column":35},"end":{"line":31,"column":60}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":50},"end":{"line":37,"column":79}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":46},"end":{"line":50,"column":76}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":68}}},"8":{"name":"(anonymous_8)","line":73,"loc":{"start":{"line":73,"column":26},"end":{"line":73,"column":42}}},"9":{"name":"(anonymous_9)","line":77,"loc":{"start":{"line":77,"column":35},"end":{"line":77,"column":60}}},"10":{"name":"(anonymous_10)","line":102,"loc":{"start":{"line":102,"column":32},"end":{"line":102,"column":60}}},"11":{"name":"(anonymous_11)","line":107,"loc":{"start":{"line":107,"column":26},"end":{"line":107,"column":42}}},"12":{"name":"(anonymous_12)","line":111,"loc":{"start":{"line":111,"column":35},"end":{"line":111,"column":60}}},"13":{"name":"(anonymous_13)","line":126,"loc":{"start":{"line":126,"column":30},"end":{"line":126,"column":41}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"2":{"start":{"line":12,"column":0},"end":{"line":15,"column":2}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":21}},"4":{"start":{"line":14,"column":4},"end":{"line":14,"column":29}},"5":{"start":{"line":21,"column":0},"end":{"line":61,"column":2}},"6":{"start":{"line":22,"column":4},"end":{"line":22,"column":21}},"7":{"start":{"line":23,"column":4},"end":{"line":23,"column":45}},"8":{"start":{"line":24,"column":4},"end":{"line":24,"column":39}},"9":{"start":{"line":25,"column":4},"end":{"line":25,"column":20}},"10":{"start":{"line":27,"column":4},"end":{"line":60,"column":7}},"11":{"start":{"line":28,"column":8},"end":{"line":59,"column":9}},"12":{"start":{"line":29,"column":12},"end":{"line":29,"column":24}},"13":{"start":{"line":31,"column":12},"end":{"line":58,"column":15}},"14":{"start":{"line":32,"column":16},"end":{"line":57,"column":17}},"15":{"start":{"line":33,"column":20},"end":{"line":46,"column":21}},"16":{"start":{"line":34,"column":24},"end":{"line":34,"column":62}},"17":{"start":{"line":35,"column":24},"end":{"line":35,"column":68}},"18":{"start":{"line":36,"column":24},"end":{"line":36,"column":61}},"19":{"start":{"line":37,"column":24},"end":{"line":43,"column":27}},"20":{"start":{"line":38,"column":28},"end":{"line":42,"column":29}},"21":{"start":{"line":39,"column":32},"end":{"line":39,"column":44}},"22":{"start":{"line":41,"column":32},"end":{"line":41,"column":56}},"23":{"start":{"line":45,"column":24},"end":{"line":45,"column":99}},"24":{"start":{"line":48,"column":20},"end":{"line":48,"column":55}},"25":{"start":{"line":49,"column":20},"end":{"line":49,"column":68}},"26":{"start":{"line":50,"column":20},"end":{"line":56,"column":23}},"27":{"start":{"line":51,"column":24},"end":{"line":55,"column":25}},"28":{"start":{"line":52,"column":28},"end":{"line":52,"column":40}},"29":{"start":{"line":54,"column":28},"end":{"line":54,"column":53}},"30":{"start":{"line":68,"column":0},"end":{"line":96,"column":2}},"31":{"start":{"line":69,"column":4},"end":{"line":69,"column":21}},"32":{"start":{"line":70,"column":4},"end":{"line":70,"column":65}},"33":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"34":{"start":{"line":73,"column":4},"end":{"line":95,"column":7}},"35":{"start":{"line":74,"column":8},"end":{"line":94,"column":9}},"36":{"start":{"line":75,"column":12},"end":{"line":75,"column":24}},"37":{"start":{"line":77,"column":12},"end":{"line":93,"column":15}},"38":{"start":{"line":78,"column":16},"end":{"line":92,"column":17}},"39":{"start":{"line":79,"column":20},"end":{"line":87,"column":21}},"40":{"start":{"line":80,"column":24},"end":{"line":84,"column":25}},"41":{"start":{"line":81,"column":28},"end":{"line":81,"column":40}},"42":{"start":{"line":83,"column":28},"end":{"line":83,"column":53}},"43":{"start":{"line":86,"column":24},"end":{"line":86,"column":112}},"44":{"start":{"line":91,"column":20},"end":{"line":91,"column":27}},"45":{"start":{"line":102,"column":0},"end":{"line":124,"column":2}},"46":{"start":{"line":103,"column":4},"end":{"line":103,"column":21}},"47":{"start":{"line":104,"column":4},"end":{"line":104,"column":43}},"48":{"start":{"line":105,"column":4},"end":{"line":105,"column":20}},"49":{"start":{"line":107,"column":4},"end":{"line":123,"column":7}},"50":{"start":{"line":108,"column":8},"end":{"line":122,"column":9}},"51":{"start":{"line":109,"column":12},"end":{"line":109,"column":24}},"52":{"start":{"line":111,"column":12},"end":{"line":121,"column":15}},"53":{"start":{"line":112,"column":16},"end":{"line":114,"column":17}},"54":{"start":{"line":113,"column":20},"end":{"line":113,"column":37}},"55":{"start":{"line":116,"column":16},"end":{"line":120,"column":17}},"56":{"start":{"line":117,"column":20},"end":{"line":117,"column":42}},"57":{"start":{"line":119,"column":20},"end":{"line":119,"column":35}},"58":{"start":{"line":126,"column":0},"end":{"line":126,"column":44}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"2":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":16}},{"start":{"line":32,"column":16},"end":{"line":32,"column":16}}]},"3":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":20},"end":{"line":32,"column":29}},{"start":{"line":32,"column":33},"end":{"line":32,"column":53}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":20},"end":{"line":33,"column":20}},{"start":{"line":33,"column":20},"end":{"line":33,"column":20}}]},"5":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":28},"end":{"line":38,"column":28}},{"start":{"line":38,"column":28},"end":{"line":38,"column":28}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":24},"end":{"line":51,"column":24}},{"start":{"line":51,"column":24},"end":{"line":51,"column":24}}]},"7":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":74,"column":8}},{"start":{"line":74,"column":8},"end":{"line":74,"column":8}}]},"8":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"9":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":20},"end":{"line":78,"column":29}},{"start":{"line":78,"column":33},"end":{"line":78,"column":53}}]},"10":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":20},"end":{"line":79,"column":20}},{"start":{"line":79,"column":20},"end":{"line":79,"column":20}}]},"11":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":24},"end":{"line":80,"column":24}},{"start":{"line":80,"column":24},"end":{"line":80,"column":24}}]},"12":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":8},"end":{"line":108,"column":8}},{"start":{"line":108,"column":8},"end":{"line":108,"column":8}}]},"13":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":16},"end":{"line":112,"column":16}},{"start":{"line":112,"column":16},"end":{"line":112,"column":16}}]},"14":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":16},"end":{"line":116,"column":16}},{"start":{"line":116,"column":16},"end":{"line":116,"column":16}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var JaguarDb = require('jaguardb').JaguarDb;","","/**"," * @param {String} path Path to directory containing the files"," * @constructor"," */","var Persistency = exports.Persistency = function(path) {","    this.path = path;","    this.db = new JaguarDb();","};","","/**"," * @param {{processInstanceId: String}} persistentData"," * @param {Function} done"," */","Persistency.prototype.persist = function(persistentData, done) {","    var db = this.db;","    var processId = persistentData.processId;","    var query = {processId: processId};","    var fields = {}; // all fields","","    db.connect(this.path, function(error) {","        if(error) {","            done(error);","        } else {","            db.find(query, fields, function(err, documents) {","                if (documents && documents.length > 0) {","                    if (documents.length === 1) {","                        persistentData._id = documents[0]._id;","                        persistentData._saved = documents[0]._saved;","                        persistentData._updated = Date.now();","                        db.update(persistentData, function(error, updatedData) {","                            if(error) {","                                done(error);","                            } else {","                                done(null, updatedData);","                            }","                        });","                    } else {","                        done(new Error(\"Process ID: '\" + processId + \"' is not unique in the DB\"));","                    }","                } else {","                    persistentData._saved = Date.now();","                    persistentData._updated = persistentData._saved;","                    db.insert(persistentData, function(error, insertedData) {","                        if(error) {","                            done(error);","                        } else {","                            done(null, insertedData);","                        }","                    });","                }","            });","        }","    });","};","","/**"," * @param {String} processId"," * @param {String} processName"," * @param done"," */","Persistency.prototype.load = function(processId, processName, done) {","    var db = this.db;","    var query = {processId: processId, processName: processName};","    var fields = {}; // all fields","","    db.connect(this.path, function(error) {","        if(error) {","            done(error);","        } else {","            db.find(query, fields, function(err, documents) {","                if (documents && documents.length > 0) {","                    if (documents.length === 1) {","                        if(error) {","                            done(error);","                        } else {","                            done(null, documents[0]);","                        }","                    } else {","                        done(new Error(\"Persistency: Process ID: '\" + processId + \"' is not unique in the DB\"));","                    }","                } else {","                    // we allow that nothing has been found because this happens","                    // the very first time when the process is being created","                    done();","                }","            });","        }","    });","};","","/**"," * @param {String} processName"," * @param done"," */","Persistency.prototype.loadAll = function(processName, done) {","    var db = this.db;","    var query = {processName: processName};","    var fields = {}; // all fields","","    db.connect(this.path, function(error) {","        if(error) {","            done(error);","        } else {","            db.find(query, fields, function(err, documents) {","                if(err){","                    return done(err);","                }","","                if (documents) {","                    done(null, documents);","                } else {","                    done(null, []);","                }","            });","        }","    });","};","","Persistency.prototype.close = function() {};",""],"l":{"6":1,"12":1,"13":0,"14":0,"21":1,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"41":0,"45":0,"48":0,"49":0,"50":0,"51":0,"52":0,"54":0,"68":1,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"80":0,"81":0,"83":0,"86":0,"91":0,"102":1,"103":0,"104":0,"105":0,"107":0,"108":0,"109":0,"111":0,"112":0,"113":0,"116":0,"117":0,"119":0,"126":1}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/mongodb.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/persistency/mongodb.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":1,"19":0,"20":1,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":1,"66":0,"67":1,"68":0,"69":1,"70":0,"71":1,"72":0,"73":1,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"fnMap":{"1":{"name":"(anonymous_1)","line":38,"loc":{"start":{"line":38,"column":40},"end":{"line":38,"column":63}}},"2":{"name":"(anonymous_2)","line":43,"loc":{"start":{"line":43,"column":51},"end":{"line":43,"column":62}}},"3":{"name":"(anonymous_3)","line":45,"loc":{"start":{"line":45,"column":22},"end":{"line":45,"column":33}}},"4":{"name":"(anonymous_4)","line":59,"loc":{"start":{"line":59,"column":32},"end":{"line":59,"column":63}}},"5":{"name":"(anonymous_5)","line":68,"loc":{"start":{"line":68,"column":29},"end":{"line":68,"column":68}}},"6":{"name":"(anonymous_6)","line":76,"loc":{"start":{"line":76,"column":32},"end":{"line":76,"column":60}}},"7":{"name":"(anonymous_7)","line":83,"loc":{"start":{"line":83,"column":30},"end":{"line":83,"column":45}}},"8":{"name":"(anonymous_8)","line":88,"loc":{"start":{"line":88,"column":31},"end":{"line":88,"column":47}}},"9":{"name":"(anonymous_9)","line":102,"loc":{"start":{"line":102,"column":33},"end":{"line":102,"column":66}}},"10":{"name":"(anonymous_10)","line":114,"loc":{"start":{"line":114,"column":57},"end":{"line":114,"column":77}}},"11":{"name":"(anonymous_11)","line":127,"loc":{"start":{"line":127,"column":26},"end":{"line":127,"column":46}}},"12":{"name":"(anonymous_12)","line":135,"loc":{"start":{"line":135,"column":33},"end":{"line":135,"column":44}}},"13":{"name":"(anonymous_13)","line":152,"loc":{"start":{"line":152,"column":33},"end":{"line":152,"column":48}}},"14":{"name":"(anonymous_14)","line":160,"loc":{"start":{"line":160,"column":39},"end":{"line":160,"column":50}}},"15":{"name":"(anonymous_15)","line":168,"loc":{"start":{"line":168,"column":39},"end":{"line":168,"column":60}}},"16":{"name":"(anonymous_16)","line":176,"loc":{"start":{"line":176,"column":46},"end":{"line":176,"column":57}}},"17":{"name":"(anonymous_17)","line":183,"loc":{"start":{"line":183,"column":49},"end":{"line":183,"column":60}}},"18":{"name":"(anonymous_18)","line":190,"loc":{"start":{"line":190,"column":41},"end":{"line":190,"column":52}}},"19":{"name":"(anonymous_19)","line":201,"loc":{"start":{"line":201,"column":30},"end":{"line":201,"column":56}}},"20":{"name":"(anonymous_20)","line":211,"loc":{"start":{"line":211,"column":17},"end":{"line":211,"column":44}}},"21":{"name":"(anonymous_21)","line":241,"loc":{"start":{"line":241,"column":33},"end":{"line":241,"column":65}}},"22":{"name":"(anonymous_22)","line":248,"loc":{"start":{"line":248,"column":17},"end":{"line":248,"column":44}}},"23":{"name":"(anonymous_23)","line":266,"loc":{"start":{"line":266,"column":39},"end":{"line":266,"column":74}}},"24":{"name":"(anonymous_24)","line":279,"loc":{"start":{"line":279,"column":8},"end":{"line":279,"column":34}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":49}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":50}},"3":{"start":{"line":10,"column":0},"end":{"line":21,"column":2}},"4":{"start":{"line":29,"column":0},"end":{"line":29,"column":29}},"5":{"start":{"line":30,"column":0},"end":{"line":30,"column":43}},"6":{"start":{"line":31,"column":0},"end":{"line":31,"column":48}},"7":{"start":{"line":38,"column":0},"end":{"line":53,"column":2}},"8":{"start":{"line":39,"column":4},"end":{"line":39,"column":45}},"9":{"start":{"line":40,"column":4},"end":{"line":40,"column":71}},"10":{"start":{"line":42,"column":4},"end":{"line":46,"column":5}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":65}},"12":{"start":{"line":45,"column":8},"end":{"line":45,"column":36}},"13":{"start":{"line":48,"column":4},"end":{"line":52,"column":5}},"14":{"start":{"line":49,"column":8},"end":{"line":49,"column":23}},"15":{"start":{"line":51,"column":8},"end":{"line":51,"column":68}},"16":{"start":{"line":59,"column":0},"end":{"line":61,"column":2}},"17":{"start":{"line":60,"column":2},"end":{"line":60,"column":59}},"18":{"start":{"line":68,"column":0},"end":{"line":70,"column":2}},"19":{"start":{"line":69,"column":4},"end":{"line":69,"column":86}},"20":{"start":{"line":76,"column":0},"end":{"line":78,"column":2}},"21":{"start":{"line":77,"column":4},"end":{"line":77,"column":52}},"22":{"start":{"line":83,"column":0},"end":{"line":95,"column":2}},"23":{"start":{"line":84,"column":4},"end":{"line":84,"column":20}},"24":{"start":{"line":85,"column":4},"end":{"line":85,"column":43}},"25":{"start":{"line":87,"column":4},"end":{"line":94,"column":5}},"26":{"start":{"line":88,"column":8},"end":{"line":91,"column":11}},"27":{"start":{"line":89,"column":12},"end":{"line":89,"column":36}},"28":{"start":{"line":90,"column":12},"end":{"line":90,"column":24}},"29":{"start":{"line":93,"column":8},"end":{"line":93,"column":15}},"30":{"start":{"line":102,"column":0},"end":{"line":150,"column":3}},"31":{"start":{"line":103,"column":4},"end":{"line":103,"column":29}},"32":{"start":{"line":104,"column":4},"end":{"line":104,"column":20}},"33":{"start":{"line":105,"column":4},"end":{"line":105,"column":43}},"34":{"start":{"line":107,"column":4},"end":{"line":149,"column":6}},"35":{"start":{"line":108,"column":8},"end":{"line":108,"column":85}},"36":{"start":{"line":109,"column":8},"end":{"line":109,"column":54}},"37":{"start":{"line":111,"column":8},"end":{"line":111,"column":60}},"38":{"start":{"line":112,"column":8},"end":{"line":148,"column":9}},"39":{"start":{"line":113,"column":12},"end":{"line":113,"column":68}},"40":{"start":{"line":114,"column":12},"end":{"line":123,"column":16}},"41":{"start":{"line":115,"column":16},"end":{"line":122,"column":17}},"42":{"start":{"line":116,"column":20},"end":{"line":116,"column":44}},"43":{"start":{"line":117,"column":20},"end":{"line":117,"column":112}},"44":{"start":{"line":118,"column":20},"end":{"line":118,"column":32}},"45":{"start":{"line":120,"column":20},"end":{"line":120,"column":94}},"46":{"start":{"line":121,"column":20},"end":{"line":121,"column":58}},"47":{"start":{"line":125,"column":12},"end":{"line":125,"column":44}},"48":{"start":{"line":126,"column":12},"end":{"line":126,"column":82}},"49":{"start":{"line":127,"column":12},"end":{"line":147,"column":15}},"50":{"start":{"line":128,"column":16},"end":{"line":128,"column":72}},"51":{"start":{"line":130,"column":16},"end":{"line":146,"column":17}},"52":{"start":{"line":131,"column":20},"end":{"line":131,"column":106}},"53":{"start":{"line":132,"column":20},"end":{"line":132,"column":74}},"54":{"start":{"line":133,"column":20},"end":{"line":133,"column":44}},"55":{"start":{"line":134,"column":20},"end":{"line":140,"column":21}},"56":{"start":{"line":135,"column":24},"end":{"line":137,"column":27}},"57":{"start":{"line":136,"column":28},"end":{"line":136,"column":40}},"58":{"start":{"line":139,"column":24},"end":{"line":139,"column":36}},"59":{"start":{"line":142,"column":20},"end":{"line":142,"column":93}},"60":{"start":{"line":143,"column":20},"end":{"line":143,"column":44}},"61":{"start":{"line":144,"column":20},"end":{"line":144,"column":77}},"62":{"start":{"line":145,"column":20},"end":{"line":145,"column":58}},"63":{"start":{"line":152,"column":0},"end":{"line":154,"column":2}},"64":{"start":{"line":153,"column":4},"end":{"line":153,"column":54}},"65":{"start":{"line":160,"column":0},"end":{"line":162,"column":2}},"66":{"start":{"line":161,"column":4},"end":{"line":161,"column":41}},"67":{"start":{"line":168,"column":0},"end":{"line":170,"column":2}},"68":{"start":{"line":169,"column":4},"end":{"line":169,"column":47}},"69":{"start":{"line":176,"column":0},"end":{"line":178,"column":2}},"70":{"start":{"line":177,"column":4},"end":{"line":177,"column":55}},"71":{"start":{"line":183,"column":0},"end":{"line":185,"column":2}},"72":{"start":{"line":184,"column":4},"end":{"line":184,"column":69}},"73":{"start":{"line":190,"column":0},"end":{"line":193,"column":2}},"74":{"start":{"line":191,"column":4},"end":{"line":191,"column":41}},"75":{"start":{"line":192,"column":4},"end":{"line":192,"column":55}},"76":{"start":{"line":201,"column":0},"end":{"line":233,"column":2}},"77":{"start":{"line":202,"column":4},"end":{"line":202,"column":20}},"78":{"start":{"line":203,"column":4},"end":{"line":203,"column":36}},"79":{"start":{"line":204,"column":4},"end":{"line":204,"column":40}},"80":{"start":{"line":205,"column":4},"end":{"line":205,"column":48}},"81":{"start":{"line":207,"column":4},"end":{"line":207,"column":78}},"82":{"start":{"line":209,"column":4},"end":{"line":232,"column":6}},"83":{"start":{"line":212,"column":12},"end":{"line":212,"column":35}},"84":{"start":{"line":214,"column":12},"end":{"line":230,"column":13}},"85":{"start":{"line":215,"column":16},"end":{"line":215,"column":114}},"86":{"start":{"line":216,"column":16},"end":{"line":216,"column":28}},"87":{"start":{"line":218,"column":16},"end":{"line":218,"column":40}},"88":{"start":{"line":219,"column":16},"end":{"line":229,"column":17}},"89":{"start":{"line":220,"column":20},"end":{"line":220,"column":92}},"90":{"start":{"line":221,"column":20},"end":{"line":221,"column":27}},"91":{"start":{"line":222,"column":23},"end":{"line":229,"column":17}},"92":{"start":{"line":223,"column":20},"end":{"line":223,"column":86}},"93":{"start":{"line":224,"column":20},"end":{"line":224,"column":45}},"94":{"start":{"line":226,"column":20},"end":{"line":226,"column":112}},"95":{"start":{"line":227,"column":20},"end":{"line":227,"column":64}},"96":{"start":{"line":228,"column":20},"end":{"line":228,"column":50}},"97":{"start":{"line":241,"column":0},"end":{"line":258,"column":2}},"98":{"start":{"line":242,"column":4},"end":{"line":242,"column":20}},"99":{"start":{"line":243,"column":4},"end":{"line":243,"column":48}},"100":{"start":{"line":245,"column":4},"end":{"line":245,"column":55}},"101":{"start":{"line":247,"column":4},"end":{"line":257,"column":6}},"102":{"start":{"line":250,"column":12},"end":{"line":255,"column":13}},"103":{"start":{"line":251,"column":16},"end":{"line":251,"column":91}},"104":{"start":{"line":252,"column":16},"end":{"line":252,"column":28}},"105":{"start":{"line":254,"column":16},"end":{"line":254,"column":38}},"106":{"start":{"line":266,"column":0},"end":{"line":290,"column":2}},"107":{"start":{"line":267,"column":4},"end":{"line":267,"column":20}},"108":{"start":{"line":268,"column":4},"end":{"line":268,"column":45}},"109":{"start":{"line":269,"column":4},"end":{"line":269,"column":49}},"110":{"start":{"line":270,"column":4},"end":{"line":270,"column":48}},"111":{"start":{"line":272,"column":4},"end":{"line":272,"column":58}},"112":{"start":{"line":274,"column":4},"end":{"line":289,"column":6}},"113":{"start":{"line":280,"column":12},"end":{"line":287,"column":13}},"114":{"start":{"line":281,"column":16},"end":{"line":281,"column":117}},"115":{"start":{"line":282,"column":16},"end":{"line":282,"column":28}},"116":{"start":{"line":284,"column":16},"end":{"line":284,"column":50}},"117":{"start":{"line":285,"column":16},"end":{"line":285,"column":86}},"118":{"start":{"line":286,"column":16},"end":{"line":286,"column":37}}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":19},"end":{"line":39,"column":26}},{"start":{"line":39,"column":30},"end":{"line":39,"column":44}}]},"2":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":26},"end":{"line":40,"column":45}},{"start":{"line":40,"column":49},"end":{"line":40,"column":70}}]},"3":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"4":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":22},"end":{"line":43,"column":47}},{"start":{"line":43,"column":51},"end":{"line":43,"column":64}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]},"6":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"7":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":4}},{"start":{"line":107,"column":4},"end":{"line":107,"column":4}}]},"8":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":8},"end":{"line":112,"column":8}},{"start":{"line":112,"column":8},"end":{"line":112,"column":8}}]},"9":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":16},"end":{"line":115,"column":16}},{"start":{"line":115,"column":16},"end":{"line":115,"column":16}}]},"10":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":16},"end":{"line":130,"column":16}},{"start":{"line":130,"column":16},"end":{"line":130,"column":16}}]},"11":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":20},"end":{"line":134,"column":20}},{"start":{"line":134,"column":20},"end":{"line":134,"column":20}}]},"12":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":12},"end":{"line":214,"column":12}},{"start":{"line":214,"column":12},"end":{"line":214,"column":12}}]},"13":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":16},"end":{"line":219,"column":16}},{"start":{"line":219,"column":16},"end":{"line":219,"column":16}}]},"14":{"line":222,"type":"if","locations":[{"start":{"line":222,"column":23},"end":{"line":222,"column":23}},{"start":{"line":222,"column":23},"end":{"line":222,"column":23}}]},"15":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":12},"end":{"line":250,"column":12}},{"start":{"line":250,"column":12},"end":{"line":250,"column":12}}]},"16":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":12},"end":{"line":280,"column":12}},{"start":{"line":280,"column":12},"end":{"line":280,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var MongoClient = require('mongodb').MongoClient;","var EventEmitter = require('events').EventEmitter;","","// details see http://mongodb.github.io/node-mongodb-native/driver-articles/mongoclient.html","var defaultOptions = {","    \"server\": {","        // if we set this to true, we will try to reconnect even if the url is wrong.","        // So we can never close the connection if something went wrong","        // If this were true, the connectionNOK test will fail.","        \"auto_reconnect\": false,","        \"poolSize\": 10,","        \"socketOptions\": {","            \"connectTimeoutMS\": 5000","        }","    }","};","","/*"," * We have one global connection."," * We follow the advice of the inventor of the MongoClient:"," *   \"You open do MongoClient.connect once when your app boots up and reuse the db object. It's not a singleton connection pool each .connect creates a new connection pool. So open it once an reuse across all requests.\""," *   Source: https://groups.google.com/forum/#!msg/node-mongodb-native/mSGnnuG8C1o/Hiaqvdu1bWoJ"," */","var uniqueDbConnections = {};","var waitingForConnectionEventEmitters = {};","var connectionEventName = 'connectionEventName';","","/**"," * @param {String} uri"," * @param {*} options"," * @constructor"," */","var Persistency = exports.Persistency = function(uri, options) {","    this.options = options || defaultOptions;","    this.options.server = this.options.server || defaultOptions.server;","","    if (this.options.logger) {","        this._trace = this.options.logger.trace || function() {};","    } else {","        this._trace = function() {};","    }","","    if (uri) {","        this.uri = uri;","    } else {","        throw new Error(\"MongoDB: Persistency: requires uri to db\");","    }","};","","/**"," * @param {{processInstanceId: String}} persistentData"," * @param {Function} done"," */","Persistency.prototype.persist = function(persistentData, done) {","  this._execute(this._findAndModify, persistentData, done);","};","","/**"," * @param {String} processId"," * @param {String} processName"," * @param done"," */","Persistency.prototype.load = function(processId, processName, done) {","    this._execute(this._find, {processId: processId, processName: processName}, done);","};","","/**"," * @param {String} processName"," * @param done"," */","Persistency.prototype.loadAll = function(processName, done) {","    this._execute(this._findAll, processName, done);","};","","/**"," * @param done"," */","Persistency.prototype.close = function(done) {","    var self = this;","    var connection = self._getConnection();","","    if (connection) {","        connection.close(true, function(error) {","            self._resetConnection();","            done(error);","        });","    } else {","        done();","    }","};","","/**"," * @param {Function} dbCall"," * @param {*} argument"," * @param {Function} done"," */","Persistency.prototype._execute = function(dbCall, argument, done) {","    var waitingForConnection;","    var self = this;","    var connection = self._getConnection();","","    if (connection) {","        self._trace(\"\\nUsing existing connection '\" + connection.databaseName + \"'\");","        dbCall.call(self, connection, argument, done);","    } else {","        waitingForConnection = self._waitingForConnection();","        if (waitingForConnection) {","            self._trace(\"Waiting for connection. URI: \" + self.uri);","            waitingForConnection.on(connectionEventName, function(error, db) {","                if (error) {","                    self._resetConnection();","                    self._trace(\"ERROR: Stopped waiting for connection. URI: \" + self.uri + \" Error: \" + error);","                    done(error);","                } else {","                    self._trace(\"Stopped waiting. Got connection '\" + db.databaseName + \"'.\");","                    dbCall.call(self, db, argument, done);","                }","             });","        } else {","            self._setWaitingForConnection();","            self._trace(\"Trying to get connection for URI: \" + self.uri + \" ...\");","            self._connect(function(error, db) {","                var waitingForConnection = self._waitingForConnection();","","                if(error) {","                    self._trace(\"ERROR: Could not get connection. URI: \" + self.uri + \" Error: \" + error);","                    waitingForConnection.emit(connectionEventName, error); // we do this to stop waiting","                    self._resetConnection();","                    if (db){","                        db.close(function() {","                            done(error);","                        });","                    } else {","                        done(error);","                    }","                } else {","                    self._trace(\"Got connection '\" + db.databaseName + \"' URI: \" + self.uri);","                    self._setConnection(db);","                    waitingForConnection.emit(connectionEventName, null, db);","                    dbCall.call(self, db, argument, done);","                }","            });","        }","     }"," };","","Persistency.prototype._connect = function(done) {","    MongoClient.connect(this.uri, this.options, done);","};","","/**"," * @returns {*}"," * @private"," */","Persistency.prototype._getConnection = function() {","    return uniqueDbConnections[this.uri];","};","","/**"," * @param {*} connection"," * @private"," */","Persistency.prototype._setConnection = function(connection) {","    uniqueDbConnections[this.uri] = connection;","};","","/**"," * @returns {EventEmitter}"," * @private"," */","Persistency.prototype._waitingForConnection = function() {","    return waitingForConnectionEventEmitters[this.uri];","};","","/**"," * @private"," */","Persistency.prototype._setWaitingForConnection = function() {","    waitingForConnectionEventEmitters[this.uri] = new EventEmitter();","};","","/**"," * @private"," */","Persistency.prototype._resetConnection = function() {","    delete uniqueDbConnections[this.uri];","    delete waitingForConnectionEventEmitters[this.uri];","};","","/**"," * @param db"," * @param query"," * @param done"," * @private"," */","Persistency.prototype._find = function(db, query, done) {","    var self = this;","    var processId = query.processId;","    var processName = query.processName;","    var collection = db.collection(processName);","","    self._trace(\"Start finding '\" + processName + \"' ('\" + processId + \"').\");","","    collection.find({processId: processId})","        .limit(2) // just 2 to find out weather we really found more than one document (see error below)","        .toArray(function(error, documents) {","            var size, errorMessage;","","            if(error) {","                self._trace(\"Couldn't find '\" + processName + \"' ('\" + processId + \"'). Error: '\" + error + \"'.\");","                done(error);","            } else {","                size = documents.length;","                if (size === 0) {","                    self._trace(\"Didn't find '\" + processName + \"' ('\" + processId + \"').\");","                    done();","                } else if (size === 1) {","                    self._trace(\"Found '\" + processName + \"' ('\" + processId + \"').\");","                    done(null, documents[0]);","                } else {","                    errorMessage = \"Found more than one process of \" + processName + \"' ('\" + processId + \"').\";","                    self._trace(\"ERROR '\" + errorMessage + \"'\");","                    done(new Error(errorMessage));","                }","            }","        }","    );","};","","/**"," * @param db"," * @param processName"," * @param done"," * @private"," */","Persistency.prototype._findAll = function(db, processName, done) {","    var self = this;","    var collection = db.collection(processName);","","    self._trace(\"Start finding '\" + processName + \".\");","","    collection.find({})","        .toArray(function(error, documents) {","","            if(error) {","                self._trace(\"Couldn't find '\" + processName + \". Error: '\" + error + \"'.\");","                done(error);","            } else {","                done(null, documents);","            }","        }","    );","};","","/**"," * @param db"," * @param persistentData"," * @param done"," * @private"," */","Persistency.prototype._findAndModify = function(db, persistentData, done) {","    var self = this;","    var processId = persistentData.processId;","    var processName = persistentData.processName;","    var collection = db.collection(processName);","","    self._trace(\"Start persisting '\" + processName + \"'\");","","    collection.findAndModify(","        {processId: processId},","        [['_id','desc']], // if processId is not unique we take the latest one","        persistentData,","        {\"upsert\": true, \"new\": true}, // upsert: if not yet persisted insert data, otherwise update; new: return updated document","        function(error, document) {","            if(error) {","                self._trace(\"Couldn't persist '\" + processName + \"' ('\" + processId + \"'). Error: '\" + error + \"'.\");","                done(error);","            } else {","                persistentData._id = document._id;","                self._trace(\"Persisted '\" + processName + \"' ('\" + processId + \"').\");","                done(null, document);","            }","        }","    );","};","",""],"l":{"6":1,"7":1,"10":1,"29":1,"30":1,"31":1,"38":1,"39":0,"40":0,"42":0,"43":0,"45":0,"48":0,"49":0,"51":0,"59":1,"60":0,"68":1,"69":0,"76":1,"77":0,"83":1,"84":0,"85":0,"87":0,"88":0,"89":0,"90":0,"93":0,"102":1,"103":0,"104":0,"105":0,"107":0,"108":0,"109":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"120":0,"121":0,"125":0,"126":0,"127":0,"128":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"139":0,"142":0,"143":0,"144":0,"145":0,"152":1,"153":0,"160":1,"161":0,"168":1,"169":0,"176":1,"177":0,"183":1,"184":0,"190":1,"191":0,"192":0,"201":1,"202":0,"203":0,"204":0,"205":0,"207":0,"209":0,"212":0,"214":0,"215":0,"216":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"226":0,"227":0,"228":0,"241":1,"242":0,"243":0,"245":0,"247":0,"250":0,"251":0,"252":0,"254":0,"266":1,"267":0,"268":0,"269":0,"270":0,"272":0,"274":0,"280":0,"281":0,"282":0,"284":0,"285":0,"286":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/find.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/find.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":25},"end":{"line":11,"column":56}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":26},"end":{"line":15,"column":48}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":28},"end":{"line":28,"column":57}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":45}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":26},"end":{"line":47,"column":74}}},"6":{"name":"(anonymous_6)","line":73,"loc":{"start":{"line":73,"column":22},"end":{"line":73,"column":57}}},"7":{"name":"(anonymous_7)","line":77,"loc":{"start":{"line":77,"column":26},"end":{"line":77,"column":48}}},"8":{"name":"(anonymous_8)","line":91,"loc":{"start":{"line":91,"column":22},"end":{"line":91,"column":74}}},"9":{"name":"(anonymous_9)","line":95,"loc":{"start":{"line":95,"column":22},"end":{"line":95,"column":37}}},"10":{"name":"(anonymous_10)","line":105,"loc":{"start":{"line":105,"column":30},"end":{"line":105,"column":52}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":21,"column":2}},"2":{"start":{"line":12,"column":4},"end":{"line":12,"column":28}},"3":{"start":{"line":13,"column":4},"end":{"line":13,"column":25}},"4":{"start":{"line":15,"column":4},"end":{"line":19,"column":7}},"5":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"6":{"start":{"line":17,"column":12},"end":{"line":17,"column":74}},"7":{"start":{"line":20,"column":4},"end":{"line":20,"column":26}},"8":{"start":{"line":28,"column":0},"end":{"line":38,"column":2}},"9":{"start":{"line":29,"column":4},"end":{"line":29,"column":26}},"10":{"start":{"line":30,"column":4},"end":{"line":30,"column":69}},"11":{"start":{"line":32,"column":4},"end":{"line":36,"column":8}},"12":{"start":{"line":33,"column":8},"end":{"line":35,"column":9}},"13":{"start":{"line":34,"column":12},"end":{"line":34,"column":89}},"14":{"start":{"line":37,"column":4},"end":{"line":37,"column":22}},"15":{"start":{"line":47,"column":0},"end":{"line":65,"column":2}},"16":{"start":{"line":48,"column":4},"end":{"line":48,"column":27}},"17":{"start":{"line":49,"column":4},"end":{"line":62,"column":5}},"18":{"start":{"line":50,"column":8},"end":{"line":50,"column":75}},"19":{"start":{"line":51,"column":8},"end":{"line":61,"column":9}},"20":{"start":{"line":52,"column":12},"end":{"line":52,"column":67}},"21":{"start":{"line":53,"column":12},"end":{"line":53,"column":66}},"22":{"start":{"line":54,"column":12},"end":{"line":54,"column":84}},"23":{"start":{"line":56,"column":12},"end":{"line":60,"column":13}},"24":{"start":{"line":57,"column":16},"end":{"line":59,"column":17}},"25":{"start":{"line":58,"column":20},"end":{"line":58,"column":38}},"26":{"start":{"line":64,"column":4},"end":{"line":64,"column":22}},"27":{"start":{"line":73,"column":0},"end":{"line":83,"column":2}},"28":{"start":{"line":74,"column":4},"end":{"line":74,"column":28}},"29":{"start":{"line":75,"column":4},"end":{"line":75,"column":29}},"30":{"start":{"line":77,"column":4},"end":{"line":81,"column":7}},"31":{"start":{"line":78,"column":8},"end":{"line":80,"column":9}},"32":{"start":{"line":79,"column":12},"end":{"line":79,"column":74}},"33":{"start":{"line":82,"column":4},"end":{"line":82,"column":26}},"34":{"start":{"line":91,"column":0},"end":{"line":113,"column":2}},"35":{"start":{"line":92,"column":4},"end":{"line":92,"column":28}},"36":{"start":{"line":94,"column":4},"end":{"line":111,"column":5}},"37":{"start":{"line":95,"column":8},"end":{"line":103,"column":10}},"38":{"start":{"line":96,"column":12},"end":{"line":96,"column":23}},"39":{"start":{"line":97,"column":12},"end":{"line":101,"column":13}},"40":{"start":{"line":98,"column":16},"end":{"line":98,"column":35}},"41":{"start":{"line":100,"column":16},"end":{"line":100,"column":63}},"42":{"start":{"line":102,"column":12},"end":{"line":102,"column":26}},"43":{"start":{"line":105,"column":8},"end":{"line":110,"column":11}},"44":{"start":{"line":106,"column":12},"end":{"line":106,"column":63}},"45":{"start":{"line":107,"column":12},"end":{"line":109,"column":13}},"46":{"start":{"line":108,"column":16},"end":{"line":108,"column":78}},"47":{"start":{"line":112,"column":4},"end":{"line":112,"column":26}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":8}},{"start":{"line":16,"column":8},"end":{"line":16,"column":8}}]},"2":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":19}},{"start":{"line":16,"column":23},"end":{"line":16,"column":80}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":32},"end":{"line":17,"column":57}},{"start":{"line":17,"column":61},"end":{"line":17,"column":72}}]},"4":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":30},"end":{"line":30,"column":63}},{"start":{"line":30,"column":66},"end":{"line":30,"column":68}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"7":{"line":50,"type":"cond-expr","locations":[{"start":{"line":50,"column":44},"end":{"line":50,"column":69}},{"start":{"line":50,"column":72},"end":{"line":50,"column":74}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":12}},{"start":{"line":56,"column":12},"end":{"line":56,"column":12}}]},"10":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":16},"end":{"line":57,"column":16}},{"start":{"line":57,"column":16},"end":{"line":57,"column":16}}]},"11":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"12":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":19}},{"start":{"line":78,"column":23},"end":{"line":78,"column":66}}]},"13":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":32},"end":{"line":79,"column":57}},{"start":{"line":79,"column":61},"end":{"line":79,"column":72}}]},"14":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"15":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":12},"end":{"line":97,"column":12}},{"start":{"line":97,"column":12},"end":{"line":97,"column":12}}]},"16":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":43}},{"start":{"line":97,"column":47},"end":{"line":97,"column":60}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"18":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":36},"end":{"line":108,"column":61}},{"start":{"line":108,"column":65},"end":{"line":108,"column":76}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","/**"," * @param {Object} query The query is an object that is being matched to the data."," * @param {Array.<BPMNProcess | BPMNProcessClient>} bpmnProcesses List of processes the query is applied to. Default: all loaded processes."," * @returns {Array.<BPMNProcessClient>}"," */","exports.findByProperty = function(bpmnProcesses, query) {","    var foundProcesses = [];","    var findAll = !query;","","    bpmnProcesses.forEach(function(bpmnProcess) {","        if (findAll || hasMatchingProperties(bpmnProcess.getProperties(), query)) {","            foundProcesses.push(bpmnProcess.processClient || bpmnProcess);","        }","    });","    return foundProcesses;","};","","/**"," * @param {Object} processData"," * @param {Object} query"," * @returns {Boolean}"," */","var hasMatchingProperties = function(processData, query) {","    var isMatching = true;","    var queryFields = query ? Object.getOwnPropertyNames(query) : [];","","    queryFields.forEach(function (queryField){","        if (isMatching) {  // AND semantics: if it is false once, it stays false","            isMatching = hasMatchingProperty(processData, queryField, query[queryField]);","        }","     });","    return isMatching;","};","","/**"," *"," * @param {Object} processData"," * @param {String} propertyName"," * @param {String|Number|Boolean|Date} queryValue"," * @returns {Boolean}"," */","var hasMatchingProperty = function(processData, propertyName, queryValue) {","    var isMatching = false;","    if (processData) {","        var separatorIndex = propertyName ? propertyName.indexOf('.') : -1;","        if (separatorIndex > -1) {","            var parent = propertyName.substring(0, separatorIndex);","            var rest = propertyName.substring(separatorIndex + 1);","            isMatching = hasMatchingProperty(processData[parent], rest, queryValue);","        } else {","            if(processData.hasOwnProperty(propertyName)) {","                if (processData[propertyName] === queryValue) {","                    isMatching = true;","                }","            }","        }","    }","","    return isMatching;","};","","/**"," * Returns all processes where the current task, activity, or event name equals the given state name"," * @param {String} stateName."," * @param {Array.<BPMNProcess | BPMNProcessClient>} bpmnProcesses List of processes the query is applied to. Default: all loaded processes."," * @returns {Array.<BPMNProcessClient>}"," */","exports.findByState = function(bpmnProcesses, stateName) {","    var foundProcesses = [];","    var findAll = !stateName;","","    bpmnProcesses.forEach(function(bpmnProcess) {","        if (findAll || bpmnProcess.getState().hasTokens(stateName)) {","            foundProcesses.push(bpmnProcess.processClient || bpmnProcess);","        }","    });","    return foundProcesses;","};","","/**"," * @param {String} processName."," * @param {Boolean=} caseSensitive"," * @param {Array.<BPMNProcess | BPMNProcessClient>} bpmnProcesses List of processes the query is applied to. Default: all loaded processes."," * @returns {Array.<BPMNProcessClient>}"," */","exports.findByName  = function(bpmnProcesses, processName, caseSensitive) {","    var foundProcesses = [];","","    if (processName) {","        var compare = function(a, b) {","            var result;","            if (caseSensitive === undefined || caseSensitive) {","                result = (a === b);","            } else {","                result = (a.toLowerCase() === b.toLowerCase());","            }","            return result;","        };","","        bpmnProcesses.forEach(function(bpmnProcess) {","            var name = bpmnProcess.getProcessDefinition().name;","            if (compare(name, processName)) {","                foundProcesses.push(bpmnProcess.processClient || bpmnProcess);","            }","        });","    }","    return foundProcesses;","};"],"l":{"11":1,"12":0,"13":0,"15":0,"16":0,"17":0,"20":0,"28":1,"29":0,"30":0,"32":0,"33":0,"34":0,"37":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"56":0,"57":0,"58":0,"64":0,"73":1,"74":0,"75":0,"77":0,"78":0,"79":0,"82":0,"91":1,"92":0,"94":0,"95":0,"96":0,"97":0,"98":0,"100":0,"102":0,"105":0,"106":0,"107":0,"108":0,"112":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/rest.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/rest.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":1,"11":1,"12":0,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":1,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":1,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":1,"161":0,"162":0,"163":0,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":1,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0},"fnMap":{"1":{"name":"(anonymous_1)","line":23,"loc":{"start":{"line":23,"column":34},"end":{"line":23,"column":45}}},"2":{"name":"(anonymous_2)","line":132,"loc":{"start":{"line":132,"column":23},"end":{"line":132,"column":66}}},"3":{"name":"(anonymous_3)","line":150,"loc":{"start":{"line":150,"column":23},"end":{"line":150,"column":66}}},"4":{"name":"(anonymous_4)","line":157,"loc":{"start":{"line":157,"column":22},"end":{"line":157,"column":35}}},"5":{"name":"(anonymous_5)","line":161,"loc":{"start":{"line":161,"column":8},"end":{"line":161,"column":32}}},"6":{"name":"(anonymous_6)","line":166,"loc":{"start":{"line":166,"column":18},"end":{"line":166,"column":31}}},"7":{"name":"(anonymous_7)","line":170,"loc":{"start":{"line":170,"column":8},"end":{"line":170,"column":32}}},"8":{"name":"(anonymous_8)","line":175,"loc":{"start":{"line":175,"column":18},"end":{"line":175,"column":31}}},"9":{"name":"(anonymous_9)","line":179,"loc":{"start":{"line":179,"column":8},"end":{"line":179,"column":33}}},"10":{"name":"(anonymous_10)","line":187,"loc":{"start":{"line":187,"column":14},"end":{"line":187,"column":28}}},"11":{"name":"(anonymous_11)","line":191,"loc":{"start":{"line":191,"column":6},"end":{"line":191,"column":31}}},"12":{"name":"(anonymous_12)","line":198,"loc":{"start":{"line":198,"column":18},"end":{"line":198,"column":31}}},"13":{"name":"(anonymous_13)","line":202,"loc":{"start":{"line":202,"column":8},"end":{"line":202,"column":33}}},"14":{"name":"(anonymous_14)","line":208,"loc":{"start":{"line":208,"column":18},"end":{"line":208,"column":31}}},"15":{"name":"(anonymous_15)","line":212,"loc":{"start":{"line":212,"column":8},"end":{"line":212,"column":33}}},"16":{"name":"createProcess","line":220,"loc":{"start":{"line":220,"column":0},"end":{"line":220,"column":66}}},"17":{"name":"createAndStartProcess","line":224,"loc":{"start":{"line":224,"column":0},"end":{"line":224,"column":87}}},"18":{"name":"(anonymous_18)","line":230,"loc":{"start":{"line":230,"column":53},"end":{"line":230,"column":79}}},"19":{"name":"(anonymous_19)","line":239,"loc":{"start":{"line":239,"column":66},"end":{"line":239,"column":92}}},"20":{"name":"createAndStartCollaboratingProcess","line":262,"loc":{"start":{"line":262,"column":0},"end":{"line":262,"column":86}}},"21":{"name":"(anonymous_21)","line":268,"loc":{"start":{"line":268,"column":29},"end":{"line":268,"column":59}}},"22":{"name":"(anonymous_22)","line":271,"loc":{"start":{"line":271,"column":53},"end":{"line":271,"column":80}}},"23":{"name":"(anonymous_23)","line":289,"loc":{"start":{"line":289,"column":8},"end":{"line":289,"column":37}}},"24":{"name":"(anonymous_24)","line":294,"loc":{"start":{"line":294,"column":32},"end":{"line":294,"column":54}}},"25":{"name":"getProcess","line":319,"loc":{"start":{"line":319,"column":0},"end":{"line":319,"column":45}}},"26":{"name":"(anonymous_26)","line":322,"loc":{"start":{"line":322,"column":27},"end":{"line":322,"column":53}}},"27":{"name":"getProcesses","line":332,"loc":{"start":{"line":332,"column":0},"end":{"line":332,"column":47}}},"28":{"name":"(anonymous_28)","line":337,"loc":{"start":{"line":337,"column":43},"end":{"line":337,"column":71}}},"29":{"name":"(anonymous_29)","line":351,"loc":{"start":{"line":351,"column":37},"end":{"line":351,"column":59}}},"30":{"name":"sendMessage","line":359,"loc":{"start":{"line":359,"column":0},"end":{"line":359,"column":54}}},"31":{"name":"(anonymous_31)","line":366,"loc":{"start":{"line":366,"column":27},"end":{"line":366,"column":53}}},"32":{"name":"getParameter","line":391,"loc":{"start":{"line":391,"column":0},"end":{"line":391,"column":42}}},"33":{"name":"getProcessResponse","line":399,"loc":{"start":{"line":399,"column":0},"end":{"line":399,"column":41}}},"34":{"name":"getPropertyQuery","line":425,"loc":{"start":{"line":425,"column":0},"end":{"line":425,"column":33}}},"35":{"name":"(anonymous_35)","line":429,"loc":{"start":{"line":429,"column":23},"end":{"line":429,"column":43}}},"36":{"name":"hasBeenAlreadyReceived","line":438,"loc":{"start":{"line":438,"column":0},"end":{"line":438,"column":47}}},"37":{"name":"triggerEvent","line":452,"loc":{"start":{"line":452,"column":0},"end":{"line":452,"column":60}}},"38":{"name":"sendError","line":458,"loc":{"start":{"line":458,"column":0},"end":{"line":458,"column":32}}},"39":{"name":"onServerAfterEvent","line":477,"loc":{"start":{"line":477,"column":0},"end":{"line":477,"column":69}}},"40":{"name":"getNameWithCase","line":506,"loc":{"start":{"line":506,"column":0},"end":{"line":506,"column":49}}},"41":{"name":"(anonymous_41)","line":508,"loc":{"start":{"line":508,"column":31},"end":{"line":508,"column":51}}},"42":{"name":"(anonymous_42)","line":515,"loc":{"start":{"line":515,"column":22},"end":{"line":515,"column":44}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":32}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":41}},"6":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"7":{"start":{"line":15,"column":0},"end":{"line":19,"column":1}},"8":{"start":{"line":16,"column":4},"end":{"line":16,"column":55}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":26}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":28}},"11":{"start":{"line":23,"column":0},"end":{"line":25,"column":2}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":28}},"13":{"start":{"line":27,"column":0},"end":{"line":29,"column":2}},"14":{"start":{"line":47,"column":1},"end":{"line":47,"column":66}},"15":{"start":{"line":61,"column":0},"end":{"line":61,"column":41}},"16":{"start":{"line":73,"column":0},"end":{"line":73,"column":65}},"17":{"start":{"line":85,"column":0},"end":{"line":85,"column":42}},"18":{"start":{"line":97,"column":0},"end":{"line":97,"column":40}},"19":{"start":{"line":117,"column":0},"end":{"line":117,"column":67}},"20":{"start":{"line":132,"column":0},"end":{"line":218,"column":2}},"21":{"start":{"line":133,"column":4},"end":{"line":133,"column":38}},"22":{"start":{"line":134,"column":4},"end":{"line":134,"column":33}},"23":{"start":{"line":136,"column":4},"end":{"line":136,"column":67}},"24":{"start":{"line":138,"column":4},"end":{"line":138,"column":44}},"25":{"start":{"line":139,"column":4},"end":{"line":139,"column":41}},"26":{"start":{"line":140,"column":4},"end":{"line":140,"column":67}},"27":{"start":{"line":146,"column":4},"end":{"line":146,"column":49}},"28":{"start":{"line":148,"column":4},"end":{"line":148,"column":58}},"29":{"start":{"line":149,"column":4},"end":{"line":149,"column":57}},"30":{"start":{"line":150,"column":4},"end":{"line":153,"column":7}},"31":{"start":{"line":151,"column":8},"end":{"line":151,"column":71}},"32":{"start":{"line":152,"column":8},"end":{"line":152,"column":57}},"33":{"start":{"line":155,"column":4},"end":{"line":163,"column":11}},"34":{"start":{"line":158,"column":20},"end":{"line":158,"column":72}},"35":{"start":{"line":162,"column":12},"end":{"line":162,"column":48}},"36":{"start":{"line":164,"column":4},"end":{"line":172,"column":11}},"37":{"start":{"line":167,"column":16},"end":{"line":167,"column":70}},"38":{"start":{"line":171,"column":12},"end":{"line":171,"column":50}},"39":{"start":{"line":173,"column":4},"end":{"line":182,"column":6}},"40":{"start":{"line":176,"column":16},"end":{"line":176,"column":110}},"41":{"start":{"line":180,"column":12},"end":{"line":180,"column":57}},"42":{"start":{"line":185,"column":4},"end":{"line":194,"column":6}},"43":{"start":{"line":188,"column":10},"end":{"line":188,"column":65}},"44":{"start":{"line":192,"column":8},"end":{"line":192,"column":86}},"45":{"start":{"line":196,"column":4},"end":{"line":205,"column":6}},"46":{"start":{"line":199,"column":16},"end":{"line":199,"column":76}},"47":{"start":{"line":203,"column":12},"end":{"line":203,"column":69}},"48":{"start":{"line":206,"column":4},"end":{"line":215,"column":6}},"49":{"start":{"line":209,"column":16},"end":{"line":209,"column":86}},"50":{"start":{"line":213,"column":12},"end":{"line":213,"column":77}},"51":{"start":{"line":217,"column":4},"end":{"line":217,"column":18}},"52":{"start":{"line":220,"column":0},"end":{"line":222,"column":1}},"53":{"start":{"line":221,"column":4},"end":{"line":221,"column":76}},"54":{"start":{"line":224,"column":0},"end":{"line":260,"column":1}},"55":{"start":{"line":225,"column":4},"end":{"line":225,"column":58}},"56":{"start":{"line":227,"column":4},"end":{"line":227,"column":42}},"57":{"start":{"line":228,"column":4},"end":{"line":228,"column":74}},"58":{"start":{"line":230,"column":4},"end":{"line":258,"column":7}},"59":{"start":{"line":231,"column":8},"end":{"line":233,"column":9}},"60":{"start":{"line":232,"column":12},"end":{"line":232,"column":40}},"61":{"start":{"line":235,"column":8},"end":{"line":237,"column":9}},"62":{"start":{"line":236,"column":12},"end":{"line":236,"column":123}},"63":{"start":{"line":239,"column":8},"end":{"line":257,"column":11}},"64":{"start":{"line":240,"column":12},"end":{"line":242,"column":13}},"65":{"start":{"line":241,"column":16},"end":{"line":241,"column":44}},"66":{"start":{"line":244,"column":12},"end":{"line":244,"column":43}},"67":{"start":{"line":246,"column":12},"end":{"line":254,"column":13}},"68":{"start":{"line":247,"column":16},"end":{"line":247,"column":81}},"69":{"start":{"line":249,"column":16},"end":{"line":253,"column":17}},"70":{"start":{"line":250,"column":20},"end":{"line":250,"column":86}},"71":{"start":{"line":252,"column":20},"end":{"line":252,"column":46}},"72":{"start":{"line":256,"column":12},"end":{"line":256,"column":59}},"73":{"start":{"line":262,"column":0},"end":{"line":315,"column":1}},"74":{"start":{"line":263,"column":2},"end":{"line":263,"column":108}},"75":{"start":{"line":265,"column":2},"end":{"line":265,"column":40}},"76":{"start":{"line":266,"column":2},"end":{"line":266,"column":51}},"77":{"start":{"line":267,"column":2},"end":{"line":267,"column":45}},"78":{"start":{"line":268,"column":2},"end":{"line":313,"column":5}},"79":{"start":{"line":270,"column":4},"end":{"line":270,"column":56}},"80":{"start":{"line":271,"column":4},"end":{"line":280,"column":7}},"81":{"start":{"line":272,"column":6},"end":{"line":274,"column":7}},"82":{"start":{"line":273,"column":8},"end":{"line":273,"column":36}},"83":{"start":{"line":276,"column":6},"end":{"line":278,"column":7}},"84":{"start":{"line":277,"column":8},"end":{"line":277,"column":119}},"85":{"start":{"line":281,"column":4},"end":{"line":283,"column":5}},"86":{"start":{"line":282,"column":6},"end":{"line":282,"column":48}},"87":{"start":{"line":286,"column":4},"end":{"line":311,"column":5}},"88":{"start":{"line":287,"column":6},"end":{"line":310,"column":11}},"89":{"start":{"line":290,"column":10},"end":{"line":292,"column":11}},"90":{"start":{"line":291,"column":12},"end":{"line":291,"column":40}},"91":{"start":{"line":294,"column":10},"end":{"line":307,"column":13}},"92":{"start":{"line":295,"column":12},"end":{"line":295,"column":43}},"93":{"start":{"line":296,"column":12},"end":{"line":305,"column":13}},"94":{"start":{"line":297,"column":14},"end":{"line":297,"column":68}},"95":{"start":{"line":299,"column":14},"end":{"line":304,"column":15}},"96":{"start":{"line":300,"column":16},"end":{"line":300,"column":82}},"97":{"start":{"line":301,"column":16},"end":{"line":301,"column":46}},"98":{"start":{"line":303,"column":16},"end":{"line":303,"column":42}},"99":{"start":{"line":309,"column":10},"end":{"line":309,"column":61}},"100":{"start":{"line":319,"column":0},"end":{"line":329,"column":1}},"101":{"start":{"line":320,"column":4},"end":{"line":320,"column":44}},"102":{"start":{"line":322,"column":4},"end":{"line":328,"column":7}},"103":{"start":{"line":323,"column":8},"end":{"line":325,"column":9}},"104":{"start":{"line":324,"column":12},"end":{"line":324,"column":40}},"105":{"start":{"line":327,"column":8},"end":{"line":327,"column":50}},"106":{"start":{"line":332,"column":0},"end":{"line":357,"column":1}},"107":{"start":{"line":333,"column":4},"end":{"line":333,"column":41}},"108":{"start":{"line":335,"column":4},"end":{"line":335,"column":63}},"109":{"start":{"line":337,"column":4},"end":{"line":356,"column":7}},"110":{"start":{"line":338,"column":8},"end":{"line":340,"column":9}},"111":{"start":{"line":339,"column":12},"end":{"line":339,"column":40}},"112":{"start":{"line":342,"column":8},"end":{"line":349,"column":9}},"113":{"start":{"line":343,"column":12},"end":{"line":343,"column":92}},"114":{"start":{"line":345,"column":12},"end":{"line":345,"column":60}},"115":{"start":{"line":346,"column":12},"end":{"line":348,"column":13}},"116":{"start":{"line":347,"column":16},"end":{"line":347,"column":75}},"117":{"start":{"line":351,"column":8},"end":{"line":353,"column":11}},"118":{"start":{"line":352,"column":12},"end":{"line":352,"column":51}},"119":{"start":{"line":355,"column":8},"end":{"line":355,"column":27}},"120":{"start":{"line":359,"column":0},"end":{"line":389,"column":1}},"121":{"start":{"line":361,"column":4},"end":{"line":361,"column":44}},"122":{"start":{"line":362,"column":4},"end":{"line":362,"column":55}},"123":{"start":{"line":363,"column":4},"end":{"line":363,"column":51}},"124":{"start":{"line":364,"column":4},"end":{"line":364,"column":55}},"125":{"start":{"line":366,"column":4},"end":{"line":387,"column":7}},"126":{"start":{"line":367,"column":8},"end":{"line":369,"column":9}},"127":{"start":{"line":368,"column":12},"end":{"line":368,"column":40}},"128":{"start":{"line":371,"column":8},"end":{"line":371,"column":96}},"129":{"start":{"line":373,"column":8},"end":{"line":373,"column":39}},"130":{"start":{"line":375,"column":8},"end":{"line":377,"column":9}},"131":{"start":{"line":376,"column":12},"end":{"line":376,"column":66}},"132":{"start":{"line":379,"column":8},"end":{"line":385,"column":9}},"133":{"start":{"line":380,"column":12},"end":{"line":380,"column":69}},"134":{"start":{"line":382,"column":12},"end":{"line":382,"column":59}},"135":{"start":{"line":384,"column":12},"end":{"line":384,"column":31}},"136":{"start":{"line":391,"column":0},"end":{"line":393,"column":1}},"137":{"start":{"line":392,"column":4},"end":{"line":392,"column":61}},"138":{"start":{"line":399,"column":0},"end":{"line":423,"column":1}},"139":{"start":{"line":400,"column":4},"end":{"line":400,"column":54}},"140":{"start":{"line":402,"column":4},"end":{"line":420,"column":5}},"141":{"start":{"line":404,"column":8},"end":{"line":404,"column":47}},"142":{"start":{"line":405,"column":8},"end":{"line":405,"column":62}},"143":{"start":{"line":406,"column":8},"end":{"line":406,"column":36}},"144":{"start":{"line":408,"column":8},"end":{"line":418,"column":10}},"145":{"start":{"line":422,"column":4},"end":{"line":422,"column":20}},"146":{"start":{"line":425,"column":0},"end":{"line":436,"column":1}},"147":{"start":{"line":426,"column":4},"end":{"line":426,"column":27}},"148":{"start":{"line":427,"column":4},"end":{"line":427,"column":40}},"149":{"start":{"line":429,"column":4},"end":{"line":433,"column":7}},"150":{"start":{"line":430,"column":8},"end":{"line":432,"column":9}},"151":{"start":{"line":431,"column":12},"end":{"line":431,"column":56}},"152":{"start":{"line":435,"column":4},"end":{"line":435,"column":25}},"153":{"start":{"line":438,"column":0},"end":{"line":450,"column":1}},"154":{"start":{"line":439,"column":4},"end":{"line":439,"column":23}},"155":{"start":{"line":441,"column":4},"end":{"line":447,"column":5}},"156":{"start":{"line":442,"column":8},"end":{"line":446,"column":9}},"157":{"start":{"line":443,"column":12},"end":{"line":443,"column":26}},"158":{"start":{"line":445,"column":12},"end":{"line":445,"column":53}},"159":{"start":{"line":449,"column":4},"end":{"line":449,"column":18}},"160":{"start":{"line":452,"column":0},"end":{"line":456,"column":1}},"161":{"start":{"line":453,"column":4},"end":{"line":453,"column":29}},"162":{"start":{"line":454,"column":4},"end":{"line":454,"column":83}},"163":{"start":{"line":455,"column":4},"end":{"line":455,"column":46}},"164":{"start":{"line":458,"column":0},"end":{"line":474,"column":1}},"165":{"start":{"line":459,"column":4},"end":{"line":459,"column":18}},"166":{"start":{"line":461,"column":4},"end":{"line":471,"column":5}},"167":{"start":{"line":462,"column":8},"end":{"line":465,"column":11}},"168":{"start":{"line":467,"column":8},"end":{"line":470,"column":11}},"169":{"start":{"line":473,"column":4},"end":{"line":473,"column":27}},"170":{"start":{"line":477,"column":0},"end":{"line":497,"column":2}},"171":{"start":{"line":478,"column":4},"end":{"line":482,"column":6}},"172":{"start":{"line":483,"column":4},"end":{"line":487,"column":6}},"173":{"start":{"line":489,"column":4},"end":{"line":489,"column":52}},"174":{"start":{"line":490,"column":4},"end":{"line":490,"column":60}},"175":{"start":{"line":491,"column":4},"end":{"line":491,"column":62}},"176":{"start":{"line":493,"column":4},"end":{"line":496,"column":5}},"177":{"start":{"line":494,"column":8},"end":{"line":494,"column":56}},"178":{"start":{"line":506,"column":0},"end":{"line":524,"column":1}},"179":{"start":{"line":508,"column":4},"end":{"line":522,"column":7}},"180":{"start":{"line":509,"column":8},"end":{"line":511,"column":9}},"181":{"start":{"line":510,"column":12},"end":{"line":510,"column":33}},"182":{"start":{"line":513,"column":8},"end":{"line":513,"column":23}},"183":{"start":{"line":515,"column":8},"end":{"line":519,"column":11}},"184":{"start":{"line":516,"column":12},"end":{"line":518,"column":13}},"185":{"start":{"line":517,"column":16},"end":{"line":517,"column":35}},"186":{"start":{"line":521,"column":8},"end":{"line":521,"column":28}}},"branchMap":{"1":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":19},"end":{"line":134,"column":26}},{"start":{"line":134,"column":30},"end":{"line":134,"column":32}}]},"2":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":31},"end":{"line":136,"column":55}},{"start":{"line":136,"column":59},"end":{"line":136,"column":66}}]},"3":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":20},"end":{"line":139,"column":34}},{"start":{"line":139,"column":38},"end":{"line":139,"column":40}}]},"4":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":25},"end":{"line":140,"column":43}},{"start":{"line":140,"column":47},"end":{"line":140,"column":66}}]},"5":{"line":151,"type":"binary-expr","locations":[{"start":{"line":151,"column":22},"end":{"line":151,"column":48}},{"start":{"line":151,"column":52},"end":{"line":151,"column":70}}]},"6":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":8},"end":{"line":231,"column":8}},{"start":{"line":231,"column":8},"end":{"line":231,"column":8}}]},"7":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":8}},{"start":{"line":235,"column":8},"end":{"line":235,"column":8}}]},"8":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":12},"end":{"line":240,"column":12}},{"start":{"line":240,"column":12},"end":{"line":240,"column":12}}]},"9":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":12},"end":{"line":246,"column":12}},{"start":{"line":246,"column":12},"end":{"line":246,"column":12}}]},"10":{"line":246,"type":"binary-expr","locations":[{"start":{"line":246,"column":16},"end":{"line":246,"column":42}},{"start":{"line":246,"column":46},"end":{"line":246,"column":58}}]},"11":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":6},"end":{"line":272,"column":6}},{"start":{"line":272,"column":6},"end":{"line":272,"column":6}}]},"12":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":6},"end":{"line":276,"column":6}},{"start":{"line":276,"column":6},"end":{"line":276,"column":6}}]},"13":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":4},"end":{"line":281,"column":4}},{"start":{"line":281,"column":4},"end":{"line":281,"column":4}}]},"14":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":4},"end":{"line":286,"column":4}},{"start":{"line":286,"column":4},"end":{"line":286,"column":4}}]},"15":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":10},"end":{"line":290,"column":10}},{"start":{"line":290,"column":10},"end":{"line":290,"column":10}}]},"16":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":12},"end":{"line":296,"column":12}},{"start":{"line":296,"column":12},"end":{"line":296,"column":12}}]},"17":{"line":323,"type":"if","locations":[{"start":{"line":323,"column":8},"end":{"line":323,"column":8}},{"start":{"line":323,"column":8},"end":{"line":323,"column":8}}]},"18":{"line":338,"type":"if","locations":[{"start":{"line":338,"column":8},"end":{"line":338,"column":8}},{"start":{"line":338,"column":8},"end":{"line":338,"column":8}}]},"19":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":8},"end":{"line":342,"column":8}},{"start":{"line":342,"column":8},"end":{"line":342,"column":8}}]},"20":{"line":346,"type":"if","locations":[{"start":{"line":346,"column":12},"end":{"line":346,"column":12}},{"start":{"line":346,"column":12},"end":{"line":346,"column":12}}]},"21":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":8},"end":{"line":367,"column":8}},{"start":{"line":367,"column":8},"end":{"line":367,"column":8}}]},"22":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":8},"end":{"line":375,"column":8}},{"start":{"line":375,"column":8},"end":{"line":375,"column":8}}]},"23":{"line":402,"type":"if","locations":[{"start":{"line":402,"column":4},"end":{"line":402,"column":4}},{"start":{"line":402,"column":4},"end":{"line":402,"column":4}}]},"24":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":8},"end":{"line":430,"column":8}},{"start":{"line":430,"column":8},"end":{"line":430,"column":8}}]},"25":{"line":441,"type":"if","locations":[{"start":{"line":441,"column":4},"end":{"line":441,"column":4}},{"start":{"line":441,"column":4},"end":{"line":441,"column":4}}]},"26":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":8},"end":{"line":442,"column":8}},{"start":{"line":442,"column":8},"end":{"line":442,"column":8}}]},"27":{"line":453,"type":"binary-expr","locations":[{"start":{"line":453,"column":18},"end":{"line":453,"column":22}},{"start":{"line":453,"column":26},"end":{"line":453,"column":28}}]},"28":{"line":461,"type":"if","locations":[{"start":{"line":461,"column":4},"end":{"line":461,"column":4}},{"start":{"line":461,"column":4},"end":{"line":461,"column":4}}]},"29":{"line":493,"type":"if","locations":[{"start":{"line":493,"column":4},"end":{"line":493,"column":4}},{"start":{"line":493,"column":4},"end":{"line":493,"column":4}}]},"30":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":8},"end":{"line":509,"column":8}},{"start":{"line":509,"column":8},"end":{"line":509,"column":8}}]},"31":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":12},"end":{"line":516,"column":12}},{"start":{"line":516,"column":12},"end":{"line":516,"column":12}}]}},"code":["/**"," * Copyright: E2E Technologies Ltd"," */","\"use strict\";","","var find = require('./find');","var log = require('./logger');","var restify = require('restify');","var uuid = require('node-uuid');","var querystring = require('querystring');","//var bunyan2winston = require(\"./utils/bunyan2winston\");","","","var transactionLog = null;","try {","    transactionLog = require('e2e-transaction-logger');","}catch(err){","    transactionLog = null;","}","","var receivedMessageIds = {};","","exports.clearReceivedMessageIds = function() {","    receivedMessageIds = {};","};","","var reservedQueryNames = {","    \"state\": \"state\"","};","","","/**"," * @api {post} /bpmnCollaborate Create and start process"," * @apiName CreateAndStartCollaborating"," * @apiGroup BPMN"," *"," * @apiDescription Creates collaborating processes and then triggers immediately the start event of main process."," *"," * @req.body {array} of processName Name,id of the process as used in the BPMN model"," * {name: \"processOneName\", \"processOneId\"},"," * {name: \"processTwoName\", processTwoId},"," * {name: \"processThreeName\", processThreeId},"," * {name: \"mainProcess\", mainProcessId, startEventName:\"starterEventName\"}"," * gotta fix routes, first one traps all.",""," */"," var createAndStartCollaboratingProcessRoute = '/bpmnCollaborate';","","","","/**"," * @api {post} /:processName Create process"," * @apiName CreateProcess"," * @apiGroup BPMN"," *"," * @apiDescription Creates a process but does not start it. To do this either send a message"," *                  or use CreateAndStartProcess."," *"," * @apiDescription {String} processName Name of the process as used in the BPMN model"," */","var createProcessRoute = '/:processName';","","/**"," * @api {post} /:processName/:startEventName Create and start process"," * @apiName CreateAndStartProcess"," * @apiGroup BPMN"," *"," * @apiDescription Creates a process and then triggers immediately the start event."," *"," * @apiParam {String} processName Name of the process as used in the BPMN model"," * @apiParam {String} startEventName Event name as used in the BPMN model for starting this process"," */","var createAndStartProcessRoute = '/:processName/:startEventName';","","/**"," * @api {get} /:processName/:id Get process instance"," * @apiName GetProcess"," * @apiGroup BPMN"," *"," * @apiDescription Returns the process state."," *"," * @apiParam {String} processName Name of the process as used in the BPMN model"," * @apiParam {String} id Unique id of the process instance"," */","var getProcessRoute = '/:processName/:id';","","/**"," * @api {get} /:processName/[?query]    Get process instances"," * @apiName GetProcesses"," * @apiGroup BPMN"," *"," * @apiDescription Get process instances."," *                 The query strings accesses process properties."," *"," * @apiParam {String} processName Name of the process as used in the BPMN model"," */","var getProcessesRoute = '/:processName';","","/**"," * @api {put} /:processName/:id/:messageName/:messageId Send messages or trigger events."," *"," * @apiName SendMessage"," * @apiGroup BPMN"," *"," * @apiDescription The messageId is used to make this call idempotent."," *                 If the messageId is received the first time, a message is being created and"," *                 sent to the process and the status code 201 (Created) is returned."," *                 For all subsequent request having the same URI the message is thrown away and"," *                 the status code 200 is returned."," *"," * @apiParam {String} processName Name of the process as used in the BPMN model"," * @apiParam {String} id Unique id of the process instance"," * @apiParam {String} messageName Message or event name as used in the BPMN model for messages respectively event elements"," * @apiParam {String} messageId This id is used to implement idempotency."," *"," */","var sendMessageRoute = '/:processName/:id/:messageName/:messageId';","","/**"," * Creates a REST server based on the restify framework. It takes two parameters, options and restifyOptions."," *      options: optional object having the following optional properties"," *          createProcessId: Function that returns a UUID. Default: node-uuid.v1()"," *          logLevel: used log level. Default: Error. Use logger.logLevels to set."," *      restifyOptions: these options are given to the restify.createServer call."," *                      If not given, the log property is set to the internal winston logger and"," *                      the name property is set to 'bpmnRESTServer'"," * @param {ProcessManager} manager"," * @param {{createProcessId: function, logLevel: logger.logLevels}=} options"," * @param {Object=} restifyOptions"," * @returns {*}"," */","exports.createServer = function(manager, options, restifyOptions) {","    var logger, serverOptions, server;","    var settings = options || {};","","    settings.createProcessId = settings.createProcessId || uuid.v1;","","    logger = new log.Logger(null, settings);","    serverOptions = restifyOptions || {};","    serverOptions.name = serverOptions.name || \"BPMNProcessServer\";","","    // Shimming the log doesn't work as expected: I cannot switch it off for example.","    // Additionally, the log format is horrible. So for the time being we use our own logging","    // serverOptions.log = serverOptions.log || bunyan2winston.createLogger(logger.winstonLogger);","","    server = restify.createServer(serverOptions);","","    server.use(restify.queryParser({ mapParams: false }));","    server.use(restify.bodyParser({ mapParams: false }));","    server.on('after', function( request, response, route, error) {","        var handler = options.onServerAfterEvent || onServerAfterEvent;","        handler(logger, request, response, route, error);","    });","","    server.get(getProcessRoute,","        transactionLog.transactionLoggerMiddleware({","                name: function(req){","                    return 'GET ' + req.params.processName + ' process';","                }","            }),","        function(req, res, next){","            getProcess(manager, req, res, next);","        });","    server.get(getProcessesRoute,","        transactionLog.transactionLoggerMiddleware({","            name: function(req){","                return 'GET ' + req.params.processName + ' processes';","            }","        }),","        function(req, res, next){","            getProcesses(manager, req, res, next);","        });","    server.put(sendMessageRoute,","        transactionLog.transactionLoggerMiddleware({","            name: function(req){","                return 'PUT ' + req.params.messageName + ' message to ' + req.params.processName + ' process';","            }","        }),","        function(req, res, next) {","            sendMessage(manager, logger, req, res, next);","        }","    );","","    // TODO: we need to change these routes.  the catch all '/' makes this load order dependent.","    server.post(createAndStartCollaboratingProcessRoute,","      transactionLog.transactionLoggerMiddleware({","        name: function(req) {","          return 'POST create and start collaborating processes';","        }","      }),","      function(req, res, next) {","        createAndStartCollaboratingProcess(manager, settings, logger, req, res, next);","      }","    );","","    server.post(createProcessRoute,","        transactionLog.transactionLoggerMiddleware({","            name: function(req){","                return 'POST create ' + req.params.processName + ' process';","            }","        }),","        function(req, res, next) {","            createProcess(manager, settings, logger, req, res, next);","}","    );","    server.post(createAndStartProcessRoute,","        transactionLog.transactionLoggerMiddleware({","            name: function(req){","                return 'POST create and start ' + req.params.processName + ' process';","            }","        }),","        function(req, res, next) {","            createAndStartProcess(manager, settings, logger, req, res, next);","        }","    );","","    return server;","};","","function createProcess(manager, settings, logger, req, res, next) {","    createAndStartProcess(manager, settings, logger, req, res, next, false);","}","","function createAndStartProcess(manager, options, logger, req, res, next, startProcess) {","    var processId, processNameWithoutCase, startEventName;","","    processId = options.createProcessId();","    processNameWithoutCase = querystring.unescape(req.params.processName);","","    getNameWithCase(manager, processNameWithoutCase, function(err, processName){","        if(err){","            return sendError(err, next);","        }","","        if(!processName){","            return next(new restify.InvalidArgumentError(\"Could not find process name '\" + processNameWithoutCase + \"'.\"));","        }","","        manager.createProcess({id: processId, name: processName}, function(err, bpmnProcess){","            if(err){","                return sendError(err, next);","            }","","            logger.setProcess(bpmnProcess);","","            if (startProcess === undefined || startProcess) {","                startEventName = querystring.unescape(req.params.startEventName);","","                try{","                    triggerEvent(bpmnProcess, logger, startEventName, req.body, true);","                } catch (e) {","                    return sendError(e, next);","                }","            }","","            res.send(201, getProcessResponse(bpmnProcess));","        });","    });","","}","","function createAndStartCollaboratingProcess(manager, options, logger, req, res, next) {","  var processId, startEventName, processDescriptors, mainProcessDescriptor, bpmnMainProcess, numDescriptors;","","  processId = options.createProcessId();","  processDescriptors = req.body.processDescriptors;","  numDescriptors = processDescriptors.length;","  processDescriptors.forEach(function(processDescriptor,i) {","","    var processNameWithoutCase = processDescriptor.name;","    getNameWithCase(manager, processNameWithoutCase, function(err, processName) {","      if (err) {","        return sendError(err, next);","      }","","      if (!processName) {","        return next(new restify.InvalidArgumentError(\"Could not find process name '\" + processNameWithoutCase + \"'.\"));","      }","","    });","    if (processDescriptor.startEventName) {","      mainProcessDescriptor = processDescriptor;","    }","","    //last loop","    if (i == numDescriptors - 1){","      manager.createProcess(","        processDescriptors,","        function(err, bpmnProcesses) {","          if (err) {","            return sendError(err, next);","          }","","          bpmnProcesses.forEach(function(bpmnProcess) {","            logger.setProcess(bpmnProcess);","            if (mainProcessDescriptor.id === bpmnProcess.getProcessId()) {","              startEventName = mainProcessDescriptor.startEventName;","","              try {","                triggerEvent(bpmnProcess, logger, startEventName, req.body, true);","                bpmnMainProcess = bpmnProcess;","              } catch (e) {","                return sendError(e, next);","              }","            }","","          });","","          res.send(201, getProcessResponse(bpmnMainProcess));","        });","    }","","  });","","}","","","","function getProcess(manager, req, res, next) {","    var processId = getParameter(req, \"id\");","","    manager.get(processId, function(err, bpmnProcess){","        if(err){","            return sendError(err, next);","        }","","        res.send(getProcessResponse(bpmnProcess));","    });","}","","// TODO: paging?","function getProcesses(manager, req, res, next) {","    var stateName, processName, response;","","    processName = querystring.unescape(req.params.processName);","","    manager.findByName(processName, false, function(err, bpmnProcesses){","        if(err){","            return sendError(err, next);","        }","","        if (req.query) {","            bpmnProcesses = find.findByProperty(bpmnProcesses, getPropertyQuery(req.query));","","            stateName = req.query[reservedQueryNames.state];","            if (stateName) {","                bpmnProcesses = find.findByState(bpmnProcesses, stateName);","            }","        }","","        response = bpmnProcesses.map(function(bpmnProcess) {","            return getProcessResponse(bpmnProcess);","        });","","        res.send(response);","    });","}","","function sendMessage(manager, logger, req, res, next) {","","    var processId = getParameter(req, \"id\");","    var processName = getParameter(req, \"processName\");","    var messageId = getParameter(req, \"messageId\");","    var messageName = getParameter(req, \"messageName\");","","    manager.get(processId, function(err, bpmnProcess){","        if(err){","            return sendError(err, next);","        }","","        var idempotenceId = processName + '.' + processId + '.' + messageName + '.' + messageId;","","        logger.setProcess(bpmnProcess);","","        if (hasBeenAlreadyReceived(idempotenceId)) {","            return res.send(200, getProcessResponse(bpmnProcess));","        }","","        try {","            triggerEvent(bpmnProcess, logger, messageName, req.body);","            // 201: Resource (=message) created","            res.send(201, getProcessResponse(bpmnProcess));","        } catch (e) {","            sendError(e, next);","        }","","    });","","}","","function getParameter(req, parameterName) {","    return (querystring.unescape(req.params[parameterName]));","}","","/**"," * @param {BPMNProcess} bpmnProcess"," * @returns {{state: *}}"," */","function getProcessResponse(bpmnProcess) {","    var response = {}, processId, processName, escape;","","    if (bpmnProcess) {","","        processId = bpmnProcess.getProcessId();","        processName = bpmnProcess.getProcessDefinition().name;","        escape = querystring.escape;","","        response = {","            id: processId,","            name: processName,","            link: {","                \"rel\": \"self\",","                \"href\": \"/\" + escape(processName) + \"/\" + escape(processId)","            },","            state: bpmnProcess.getState().tokens,","            history: bpmnProcess.getHistory().historyEntries,","            properties: bpmnProcess.getProperties()","        };","","    }","","    return response;","}","","function getPropertyQuery(query) {","    var propertyQuery = {};","    var queryNames = Object.keys(query);","","    queryNames.forEach(function(queryName) {","        if (!reservedQueryNames[queryName]) {","            propertyQuery[queryName] = query[queryName];","        }","    });","","    return propertyQuery;","}","","function hasBeenAlreadyReceived(idempotenceId) {","    var result = false;","","    if (idempotenceId) {","        if (receivedMessageIds[idempotenceId]) {","            result = true;","        } else {","            receivedMessageIds[idempotenceId] = true;","        }","    }","","    return result;","}","","function triggerEvent(bpmnProcess, logger, eventName, data) {","    var message = data || {};","    logger.trace(\"Triggering event '\" + eventName + \"'\" + JSON.stringify(message));","    bpmnProcess.triggerEvent(eventName, data);","}","","function sendError(error, next) {","    var restError;","","    if (error.bpmnParseErrors) {","        restError = new restify.RestError({","            restCode: \"BPMNParseError\",","            body: error","        });","    } else {","        restError = new restify.RestError({","            restCode: \"BPMNExecutionError\",","            message: error.toString()","        });","    }","","    return next(restError);","}","","","function onServerAfterEvent(logger, request, response, route, error) {","    var requestInfo = {","        method: request.method,","        headers: request.headers,","        body: request.body","    };","    var responseInfo = {","        method: response.method,","        headers: response.headers,","        body: response.body","    };","","    logger.debug(\"route: \" + JSON.stringify(route));","    logger.debug(\"request: \" + JSON.stringify(requestInfo));","    logger.debug(\"response: \" + JSON.stringify(responseInfo));","","    if (error) {","        logger.debug(\"error: \" + JSON.stringify(error));","","    }"," }","","/**"," *"," * @param {ProcessManager} manager"," * @param {String} name"," * @param {Function} callback"," * @returns {*}"," */","function getNameWithCase(manager, name, callback){","","    manager.getDefinitionNames(function(err, names){","        if(err){","            return callback(err);","        }","","        var ret = null;","","        names.forEach(function(nameWithCase){","            if(name.toLowerCase() === nameWithCase.toLowerCase()){","                ret = nameWithCase;","            }","        });","","        callback(null, ret);","    });","","}",""],"l":{"6":1,"7":1,"8":1,"9":1,"10":1,"14":1,"15":1,"16":1,"18":0,"21":1,"23":1,"24":0,"27":1,"47":1,"61":1,"73":1,"85":1,"97":1,"117":1,"132":1,"133":0,"134":0,"136":0,"138":0,"139":0,"140":0,"146":0,"148":0,"149":0,"150":0,"151":0,"152":0,"155":0,"158":0,"162":0,"164":0,"167":0,"171":0,"173":0,"176":0,"180":0,"185":0,"188":0,"192":0,"196":0,"199":0,"203":0,"206":0,"209":0,"213":0,"217":0,"220":1,"221":0,"224":1,"225":0,"227":0,"228":0,"230":0,"231":0,"232":0,"235":0,"236":0,"239":0,"240":0,"241":0,"244":0,"246":0,"247":0,"249":0,"250":0,"252":0,"256":0,"262":1,"263":0,"265":0,"266":0,"267":0,"268":0,"270":0,"271":0,"272":0,"273":0,"276":0,"277":0,"281":0,"282":0,"286":0,"287":0,"290":0,"291":0,"294":0,"295":0,"296":0,"297":0,"299":0,"300":0,"301":0,"303":0,"309":0,"319":1,"320":0,"322":0,"323":0,"324":0,"327":0,"332":1,"333":0,"335":0,"337":0,"338":0,"339":0,"342":0,"343":0,"345":0,"346":0,"347":0,"351":0,"352":0,"355":0,"359":1,"361":0,"362":0,"363":0,"364":0,"366":0,"367":0,"368":0,"371":0,"373":0,"375":0,"376":0,"379":0,"380":0,"382":0,"384":0,"391":1,"392":0,"399":1,"400":0,"402":0,"404":0,"405":0,"406":0,"408":0,"422":0,"425":1,"426":0,"427":0,"429":0,"430":0,"431":0,"435":0,"438":1,"439":0,"441":0,"442":0,"443":0,"445":0,"449":0,"452":1,"453":0,"454":0,"455":0,"458":1,"459":0,"461":0,"462":0,"467":0,"473":0,"477":1,"478":0,"483":0,"489":0,"490":0,"491":0,"493":0,"494":0,"506":1,"508":0,"509":0,"510":0,"513":0,"515":0,"516":0,"517":0,"521":0}},"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/bunyan2winston.js":{"path":"/home/travis/build/npmtest/node-npmtest-bpmn/node_modules/bpmn/lib/utils/bunyan2winston.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":23},"end":{"line":10,"column":37}}},"2":{"name":"Bunyan2Winston","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"3":{"name":"write","line":31,"loc":{"start":{"line":31,"column":33},"end":{"line":31,"column":53}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"2":{"start":{"line":10,"column":0},"end":{"line":19,"column":2}},"3":{"start":{"line":11,"column":4},"end":{"line":18,"column":7}},"4":{"start":{"line":28,"column":0},"end":{"line":30,"column":1}},"5":{"start":{"line":29,"column":4},"end":{"line":29,"column":21}},"6":{"start":{"line":31,"column":0},"end":{"line":67,"column":2}},"7":{"start":{"line":34,"column":4},"end":{"line":34,"column":15}},"8":{"start":{"line":35,"column":4},"end":{"line":41,"column":5}},"9":{"start":{"line":36,"column":8},"end":{"line":36,"column":24}},"10":{"start":{"line":37,"column":11},"end":{"line":41,"column":5}},"11":{"start":{"line":38,"column":8},"end":{"line":38,"column":24}},"12":{"start":{"line":40,"column":8},"end":{"line":40,"column":25}},"13":{"start":{"line":45,"column":4},"end":{"line":45,"column":22}},"14":{"start":{"line":46,"column":4},"end":{"line":46,"column":19}},"15":{"start":{"line":50,"column":4},"end":{"line":50,"column":17}},"16":{"start":{"line":51,"column":4},"end":{"line":51,"column":21}},"17":{"start":{"line":59,"column":4},"end":{"line":59,"column":32}},"18":{"start":{"line":66,"column":4},"end":{"line":66,"column":36}}},"branchMap":{"1":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":11},"end":{"line":37,"column":11}},{"start":{"line":37,"column":11},"end":{"line":37,"column":11}}]}},"code":["/**"," * Taken from https://github.com/trentm/node-bunyan-winston/blob/master/restify-winston.js"," */","\"use strict\";","","var bunyan = require('bunyan');","","","// Pass a Bunyan logger to restify that shims to our winston Logger.","exports.createLogger = function(log) {","    return bunyan.createLogger({","        name: 'bpmnRESTServer',","        streams: [{","            type: 'raw',","            level: 'trace',","            stream: new Bunyan2Winston(log)","        }]","    });","};","","/**"," *"," * A Bunyan raw stream object (i.e. has a `.write(rec)` method that takes a"," * Bunyan log record) that shims logging to a given Winston logger."," *"," * @param {winston.Logger} wlog is a Winston Logger to which to shim."," */","function Bunyan2Winston(wlog) {","    this.wlog = wlog;","}","Bunyan2Winston.prototype.write = function write(rec) {","    // Map to the appropriate Winston log level (by default 'info', 'warn'","    // or 'error') and call signature: `wlog.log(level, msg, metadata)`.","    var wlevel;","    if (rec.level <= bunyan.INFO) {","        wlevel = 'info';","    } else if (rec.level <= bunyan.WARN) {","        wlevel = 'warn';","    } else {","        wlevel = 'error';","    }","","    // Note: We are *modifying* the log record here. This could be a problem","    // if our Bunyan logger had other streams. This one doesn't.","    var msg = rec.msg;","    delete rec.msg;","","    // Remove internal bunyan fields that won't mean anything outside of","    // a bunyan context.","    delete rec.v;","    delete rec.level;","    // TODO: more?","","    // Note: Winston doesn't handle *objects* in the 'metadata' field well","    // (e.g. the Bunyan record 'time' field is a Date instance, 'req' and","    // 'res' are typically objects). With 'json: true' on a Winston transport","    // it is a bit better, but still messes up 'date'. What exactly to do","    // here is perhaps user-preference.","    rec.time = String(rec.time);","    //Object.keys(rec).forEach(function (key) {","    //    if (typeof(rec[key]) === \"object\") {","    //        rec[key] = JSON.stringify(rec[key])","    //    }","    //});","","    this.wlog.log(wlevel, msg, rec);","};","","","",""],"l":{"6":1,"10":1,"11":0,"28":1,"29":0,"31":1,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"45":0,"46":0,"50":0,"51":0,"59":0,"66":0}}}